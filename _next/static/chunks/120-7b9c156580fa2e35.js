(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{6992:function(e,t,r){"use strict";var n=r(85893),o=r(59210),a=r(7350),i=r(77946),s=r(78904),c=r(67533),d=r(79370);let l=()=>{let{setShowDeploySafeModal:e}=(0,s.vR)(),{authenticationType:t,isSafeDeployed:r}=(0,i.ec)(),{generateApiCreds:l}=(0,c.Z)();return(0,n.jsxs)(a.Z,{sx:{backgroundColor:"#e4e4e4",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"5px",textAlign:"center",padding:2},children:[(0,n.jsx)(o.Z,{fontWeight:500,children:"Initialize Market"}),(0,n.jsx)(o.Z,{fontSize:13,sx:{mt:1,mb:2},children:"Generate an API key to begin trading. Keys are stored locally and will require another signature for different devices or browsers."}),(0,n.jsx)(d.K,{onClick(){"eoa"!==t||r?l():e(!0)},children:"Generate"})]})};t.Z=l},79370:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(49674);let o=(0,n.Z)("button")(e=>{let{theme:t}=e;return{height:"2.25rem",width:"100%",border:"none",backgroundColor:t.palette.primary.main,color:"#fff",padding:t.spacing(1),borderRadius:"5px","&:hover":{cursor:"pointer",opacity:.9},"&:disabled":{cursor:"not-allowed",pointerEvents:"auto"}}})},533:function(e,t,r){"use strict";r.d(t,{F:function(){return i}});var n=r(28935),o=r(50837);let a=(0,o.zo)(n.O,{position:"relative",'&[data-state="open"]':{transform:"rotate(-180deg)"},"@media (prefers-reduced-motion: no-preference)":{transition:"transform 250ms ease"},variants:{color:{black:{color:"black !important"},dark:{color:"$shadeDarker !important"},medium:{color:"$shadeMedium !important"},light:{color:"$shadeWhite !important"}},orientation:{down:{transform:"rotate(0deg)"},up:{transform:"rotate(180deg)"},left:{transform:"rotate(90deg)"},right:{transform:"rotate(-90deg)"}}},defaultVariants:{color:"dark"}}),i=a},21314:function(e,t,r){"use strict";r.d(t,{$F:function(){return D},AW:function(){return N},Ju:function(){return $},Xi:function(){return S},_x:function(){return I},h_:function(){return x},qB:function(){return C},r0:function(){return A}});var n=r(85893),o=r(84113),a=r(67294),i=r(50837),s=r(22844);let c={zIndex:999,backgroundColor:"$shadeWhite",borderRadius:"10px",border:"1px solid $shadeMediumTransparent",boxShadow:"$dropShadowMd",overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{animationDuration:"600ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="top"]':{animationName:s.Qb},'&[data-side="right"]':{animationName:s.cT},'&[data-side="bottom"]':{animationName:s.xm},'&[data-side="left"]':{animationName:s.Pp}}}},d={all:"unset",position:"relative",display:"flex",alignItems:"center",padding:"1rem",fontSize:"$md",color:"$shadeBlack",userSelect:"none",transition:"0.2s all",cursor:"pointer","&[data-disabled]":{color:"$shadeMain",pointerEvents:"none"},"&[data-highlighted]":{backgroundColor:"$shadeMediumTransparent"}},l=(0,i.zo)(o.fC,{}),u=(0,i.zo)(o.Uv,{}),m=(0,i.zo)(o.xz,{borderRadius:"10px",border:"1px solid $shadeMedium",overflow:"hidden",transition:"all 0.2s ease",cursor:"pointer",outlineWidth:"2px",outlineStyle:"solid",outlineOffset:"-1px",backgroundColor:"$shadeWhite",'&[data-state="open"]':{outlineColor:"$shadeDarker",svg:{transform:"rotate(-180deg)"}},'&[data-state="closed"]':{outlineColor:"$transparent","&:hover":{backgroundColor:"$shadeMediumTransparent"}}}),h=(0,i.zo)("button",{all:"unset",height:"45px",display:"inline-flex",padding:"0 1rem",alignItems:"center",justifyContent:"space-between",color:"$shadeBlack",backgroundColor:"$shadeWhite",fontFamily:"$sauce400","@phones":{width:"100%"},"@tablets":{width:"100%"},"@laptops":{width:"150px"}}),f=(0,i.zo)(o.VY,{...c,variants:{variant:{marketGridControlInline:{"@phones":{width:"calc(calc(100vw - 1.5rem) / 2)"},"@tablets":{width:"calc(calc(100vw - 1.5rem) / 2)"},"@laptops":{width:"184px"}},filtersSidebar:{"@phones":{width:"calc(100vw - 2rem - 2px)"},"@tablets":{width:"calc(100vw - 2rem - 2px)"},"@laptops":{width:"calc(300px - 3rem - 2px)"}},portfolioFilters:{"@phones":{width:"calc(100vw - 1rem)",right:"1rem"},"@tablets":{width:"calc(100vw - 1rem)",right:"1rem"},"@laptops":{width:"160px"}},otherTradingWidgets:{width:"100%"}}}}),g=(0,i.zo)(o.Eh,{fill:"$shadeWhite"}),p=(0,a.forwardRef)((e,t)=>{let{children:r,...o}=e;return(0,n.jsx)(u,{css:{right:"0 !important"},children:(0,n.jsxs)(f,{...o,ref:t,children:[r,(0,n.jsx)(g,{})]})})}),v=(0,i.zo)(o.tu,{...c}),k=(0,a.forwardRef)((e,t)=>{let{...r}=e;return(0,n.jsx)(o.Uv,{children:(0,n.jsx)(v,{...r,ref:t})})}),y=(0,i.zo)(o.ck,{...d});(0,i.zo)(o.oC,{...d});let w=(0,i.zo)(o.Ee,{}),b=(0,i.zo)(o.Rk,{...d,'&[data-state="checked"]':{fontFamily:"$sauce500"}});(0,i.zo)(o.Tr,{}),(0,i.zo)(o.fF,{'&[data-state="open"]':{backgroundColor:"$shadeMediumTransparent"},...d});let _=(0,i.zo)(o.__,{fontSize:"$md",color:"$shadeBlack",textTransform:"capitalize"});(0,i.zo)(o.Z0,{height:"1px",backgroundColor:"$shadeMedium",margin:"0.25rem"}),(0,i.zo)(o.wU,{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",left:"0",width:"1.5rem"}),p.displayName="Content",k.displayName="SubContent";let x=l,D=m,A=h,N=p,S=y,I=w,C=b,$=_},84557:function(e,t,r){"use strict";var n=r(85893),o=r(89755),a=r.n(o),i=r(67294),s=r(50837),c=r(25302),d=r(61641);let l=(0,s.zo)("img",{}),u=(0,s.zo)(a(),{}),m=e=>{let{image:t,size:r=40,coerceToDefaultImgTag:o=!1,containerCss:a,skeletonCss:s,imgCss:m,...h}=e,[f,g]=(0,i.useState)(!!o),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{f||null===p.current||!0!==p.current.complete||g(!0)},[p,f]),(0,n.jsxs)(c.gO,{css:{height:r,width:r,minWidth:r,borderRadius:999,position:"relative",overflow:"hidden",...a},...h,children:[(0,n.jsx)(d.Z,{css:{width:r,height:r,borderRadius:999,minWidth:r,position:"absolute",top:0,left:0,opacity:f?0:1,...s}}),o?(0,n.jsx)(l,{src:t||"/default-avatar.png",alt:"Market icon",width:r,height:r,css:{objectFit:"cover",...m}}):(0,n.jsx)(u,{src:t||"/default-avatar.png",alt:"Market icon",width:r,height:r,objectFit:"cover",onLoadingComplete:()=>g(!0),css:{...m}})]})};t.Z=(0,s.zo)(m)},61641:function(e,t,r){"use strict";var n=r(50837),o=r(25302);let a=(0,n.F4)({"0%":{backgroundColor:"hsl(200, 20%, 90%)"},"100%":{backgroundColor:"hsl(200, 20%, 95%)"}});t.Z=(0,n.zo)(o.gO,{animation:"".concat(a," 500ms linear infinite alternate"),width:"100%",height:48,borderRadius:"$md",variants:{width:{5:{width:"5%"},10:{width:"10%"},20:{width:"20%"},30:{width:"30%"},40:{width:"40%"},50:{width:"50%"},60:{width:"60%"},70:{width:"70%"},80:{width:"80%"},90:{width:"90%"},100:{width:"100%"}},textSize:{xxs:{height:"0.625rem",marginBottom:2},xs:{height:"0.6875rem",marginBottom:3},sm:{height:"0.75rem",marginBottom:4},md:{height:"0.875rem",marginBottom:6},lg:{height:"1rem",marginBottom:8},xl:{height:"1.125rem",marginBottom:10},xxl:{height:"1.25rem",marginBottom:10},xxxl:{height:"1.5rem",marginBottom:12}}}})},2282:function(e,t,r){"use strict";r.d(t,{YK:function(){return I},Dl:function(){return C}});var n=r(7297),o=r(22865),a=r(9669),i=r.n(a),s=r(41935),c=r(33174),d=r(59404),l=r(40029);let u=async e=>{let t=(0,l.K)(d.Zc.Matic),r=new c.Contract(e,["function fee() public view returns (uint)"],t),n=await r.fee();return n.toString()},m=e=>u(e.marketMakerAddress).then(t=>({...e,fee:t})).catch(t=>(80001!==d.B8.chainId&&console.error("addLpFeeToMarket err",t),{...e,fee:d.I$}));var h=r(52778),f=r(40027),g=r(11771);function p(){let e=(0,n.Z)(["\n    query market($sql: String!, $limit: Int!, $offset: Int!, $order: String!) {\n        markets(where: $sql, limit: $limit, offset: $offset, order: $order) {\n            question\n            image\n            slug\n            closed\n            marketMakerAddress\n            conditionId\n            clobTokenIds\n            active\n            outcomes\n            outcomePrices\n            endDate\n            events {\n                slug\n            }\n        }\n    }\n"]);return p=function(){return e},e}function v(){let e=(0,n.Z)(["\n    query market($sql: String!, $limit: Int!, $offset: Int!, $order: String!) {\n        markets(where: $sql, limit: $limit, offset: $offset, order: $order) {\n            id\n            question\n            conditionId\n            slug\n            twitterCardImage\n            resolutionSource\n            endDate\n            category\n            ammType\n            liquidity\n            sponsorName\n            sponsorImage\n            startDate\n            xAxisValue\n            yAxisValue\n            denominationToken\n            fee\n            image\n            lowerBound\n            upperBound\n            description\n            tags\n            outcomes\n            outcomePrices\n            volume\n            active\n            marketType\n            formatType\n            lowerBoundDate\n            upperBoundDate\n            closed\n            marketMakerAddress\n            createdBy\n            updatedBy\n            createdAt\n            updatedAt\n            closedTime\n            wideFormat\n            new\n            sentDiscord\n            mailchimpTag\n            featured\n            submitted_by\n            subcategory\n            categoryMailchimpTag\n            twitterCardLocation\n            twitterCardLastRefreshed\n            twitterCardLastValidated\n            archived\n            resolvedBy\n            restricted\n            groupItemTitle\n            groupItemThreshold\n            questionID\n            umaEndDate\n            umaResolutionStatus\n            curationOrder\n            volumeNum\n            liquidityNum\n            endDateIso\n            startDateIso\n            umaEndDateIso\n            hasReviewedDates\n            enableOrderBook\n            orderPriceMinTickSize\n            orderMinSize\n            gameStartTime\n            secondsDelay\n            commentsEnabled\n            disqusThread\n            clobTokenIds\n            liquidityAmm\n            liquidityClob\n            categories {\n                label\n                slug\n            }\n            events {\n                id\n                slug\n                ticker\n                title\n                markets {\n                    id\n                    slug\n                }\n            }\n        }\n    }\n"]);return v=function(){return e},e}let k=(0,o.Ps)(p()),y=(0,o.Ps)(v()),w=(e,t)=>e?1===e.length?" lower(market_maker_address) = '".concat(e[0],"' AND archived = false ").concat(g.gr?"AND active = true":""," "):" lower(market_maker_address) ~ '".concat(e.join("|"),"' AND archived = false ").concat(g.gr?"AND active = true":""):t?1===t.length?" clob_token_ids ? '".concat(t[0],"' AND archived = false ").concat(g.gr?"AND active = true":""," "):" clob_token_ids ?| array[".concat(t.map(e=>"'".concat(e,"'")).join(","),"] AND archived = false ").concat(g.gr?"AND active = true":""):"".concat(g.gr?"active = true AND archived = false":"archived = false"),b=(e,t,r,n,o,a,i,s,c,d,l,u,m)=>{let h,f;if(e)return"slug = '".concat(e,"' AND archived = false ").concat(g.gr&&!u?"AND active = true":"");if(t)return 1===t.length?" lower(market_maker_address) = '".concat(t[0],"' AND archived = false ").concat(g.gr&&!u?"AND active = true":""," "):" lower(market_maker_address) ~ '".concat(t.join("|"),"' AND archived = false ").concat(g.gr&&!u?"AND active = true":"");if(m)return 1===m.length?" clob_token_ids ? '".concat(m[0],"' AND archived = false ").concat(g.gr&&!u?"AND active = true":""," "):" clob_token_ids ?| array[".concat(m.map(e=>"'".concat(e,"'")).join(","),"] AND archived = false ").concat(g.gr&&!u?"AND active = true":"");let p="".concat(g.gr&&!u?"active = true AND archived = false":"archived = false");if(r){let v=1===r.length?r[0]:r.join("|");h=" description ~ '".concat(v,"' OR slug ~ '").concat(v,"' OR question ~ '").concat(v,"' OR category ~ '").concat(v,"' OR tags ~ '").concat(v,"' ")}return n&&(f=1===n.length?" category ~ '".concat(n[0],"' "):" category ~ '".concat(n.join("|"),"' ")),o&&"active"!==o?"inactive"===o&&(p+=" AND closed = true"):p+=" AND closed = false",a&&i&&(p+=" AND volume_num BETWEEN ".concat(a," AND ").concat(i)),s&&c&&(p+=" AND liquidity_num BETWEEN ".concat(s," AND ").concat(c)),d&&l&&(p+=" AND Cast(start_date_iso AS date) >= '".concat(d,"' AND Cast(end_date_iso AS date) <= '").concat(l,"'")),h&&f?p+=" AND (".concat(h," OR ").concat(f,")"):h?p+=" AND (".concat(h,")"):f&&(p+=" AND (".concat(f,")")),p},_=e=>e?parseInt(e,10):g.L8,x=(e,t)=>(t?parseInt(t,10):0)*(e?parseInt(e,10):g.L8),D=e=>{if(!e)return"volume DESC";let[t,r]=e.split(":");return"".concat(t," ").concat(r.toUpperCase())},A=e=>{if("string"!=typeof e.clobTokenIds)return null;try{return JSON.parse(e.clobTokenIds)}catch(t){return null}},N=async e=>{if(!e.fee){let t=await m(e);return{...e,fee:t.fee}}return e},S=async e=>{let t=e;if(!e.active&&g.gr){let r=await i().get("".concat(d.Ml,"/markets?slug=").concat(e.slug,"&admin=true")).then(e=>{let{data:t}=e;return t});if(!r.length||!r[0].active)return;t={...t,active:!0}}return t.fee||(t=await N(t)),t},I=async(e,t)=>f.Z.query({query:y,variables:{sql:b(e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t),limit:_(),offset:x(),order:D()}}).then(async e=>{let t=e.data.markets;if(t&&1===t.length){var r;let n=t[0],o={outcomes:JSON.parse(n.outcomes),outcomePrices:JSON.parse(n.outcomePrices),lower_bound_date:n.lowerBoundDate,upper_bound_date:n.upperBoundDate,market_type:n.marketType,twitter_card_image:n.twitterCardImage,resolution_source:n.resolutionSource,end_date:n.endDate,amm_type:n.ammType,x_axis_value:n.xAxisValue,y_axis_value:n.yAxisValue,denomination_token:n.denominationToken,resolved_by:n.resolvedBy,upper_bound:n.upperBound,lower_bound:n.lowerBound,created_at:n.createdAt,updated_at:n.updatedAt,closed_time:n.closedTime,wide_format:n.wideFormat,twitter_card_location:n.twitterCardLocation,events:n.events,clobTokenIds:A(n),category:(null==n?void 0:null===(r=n.categories)||void 0===r?void 0:r.length)&&n.categories[0].label||n.category},a={...n,...o},i=await S(a);return i}}).catch(t=>{(0,s.S3)(t,"getMarket (slug = ".concat(e,")"))}),C=async(e,t)=>f.Z.query({query:k,variables:{sql:w(e,t),limit:Number.MAX_SAFE_INTEGER.toString(),offset:"0",order:D()}}).then(async e=>e.data.markets.map(e=>({...e,end_date:e.endDate,outcomes:JSON.parse(e.outcomes),outcomePrices:JSON.parse(e.outcomePrices),clobTokenIds:A(e)}))).catch(e=>((0,s.S3)(e,"getPartialPositionMarkets"),[])),$=async(e,t,r,n,o,a,i,c,d,l,u,h,g,p,v,k)=>{let w=async e=>{if(!e.fee){let t=await m(e);return{...e,fee:t.fee}}return e};return f.Z.query({query:y,variables:{sql:b(e,t,o,a,c,d,l,u,h,g,p,v,k),limit:_(t?Number.MAX_SAFE_INTEGER.toString():r),offset:x(r,n),order:D(i)}}).then(async e=>{if(e.data.markets&&e.data.markets.length){let t=[];for(let r of e.data.markets){let n={...r,outcomes:JSON.parse(r.outcomes),outcomePrices:JSON.parse(r.outcomePrices),lower_bound_date:r.lowerBoundDate,upper_bound_date:r.upperBoundDate,market_type:r.marketType,twitter_card_image:r.twitterCardImage,resolution_source:r.resolutionSource,end_date:r.endDate,amm_type:r.ammType,x_axis_value:r.xAxisValue,y_axis_value:r.yAxisValue,denomination_token:r.denominationToken,resolved_by:r.resolvedBy,upper_bound:r.upperBound,lower_bound:r.lowerBound,created_at:r.createdAt,updated_at:r.updatedAt,closed_time:r.closedTime,wide_format:r.wideFormat,twitter_card_location:r.twitterCardLocation,events:r.events,volume_num:r.volumeNum,liquidity_num:r.liquidityNum,clobTokenIds:A(r)};t.push(w(n))}let o=await Promise.all(t);return o}return[]}).catch(e=>((0,s.S3)(e,"getMarkets"),[]))};(0,h.m)((e,t)=>I(e,t)),(0,h.m)((e,t,r,n,o,a,i,s,c,d,l,u,m,h,f,g)=>$(e,t,r,n,o,a,i,s,c,d,l,u,m,h,f,g))},28575:function(e,t,r){"use strict";r.d(t,{CD:function(){return h},Ec:function(){return v},G$:function(){return m},Gb:function(){return g},Sk:function(){return l},nC:function(){return p},vH:function(){return u}});var n=r(2593),o=r(96486),a=r(59404);r(6223),r(45625);var i=r(41935),s=r(19660),c=r(14925),d=r(19040);let l=(e,t)=>{try{var r;let o=(0,d.ac)(t),l=(0,d.l4)(t);return{icon:e.image,market:e.question.toString(),isClosed:e.closed||!1,outcomeIndex:parseInt(t.outcomeIndex,10),outcome:(0,c.bE)(e,parseInt(t.outcomeIndex,10)),slug:(null===(r=e.events)||void 0===r?void 0:r.length)>1?"".concat(e.events[0].slug,"/").concat(e.slug):e.slug,priceCurr:l.toString(),qty:(0,s.Du)(n.O$.from(t.netQuantity).sub(a.lD)),currentMarketValue:(0,s.Du)(o),maxPayout:(0,s.Du)(t.netQuantity)}}catch(u){throw(0,i.S3)(u,"fromChainToPortfolioItem"),u}},u=(e,t)=>{try{var r;let o=(0,d.Wd)(t),l=(0,d.l4)(t),u=(0,d.ac)(t);return{icon:e.image,market:e.question.toString(),isClosed:e.closed||!1,outcome:(0,c.bE)(e,parseInt(t.outcomeIndex,10)),slug:e.slug,eslug:(null===(r=e.events)||void 0===r?void 0:r.length)?e.events[0].slug:void 0,outcomeIndex:parseInt(t.outcomeIndex,10),qty:(0,s.Du)(n.O$.from(t.netQuantity).sub(a.lD)),priceAvg:o.toString(),priceCurr:l.toString(),currentMarketValue:(0,s.Du)(u),valueInit:(0,s.Du)((0,d.md)(t)),positive:o<l,nearAvgPrice:.04>Math.abs(o-l),profit:(0,s.Du)((0,d.K8)(t)),loss:(0,d.sk)(t).toString(),maxPayout:(0,s.Du)(t.netQuantity)}}catch(m){throw(0,i.S3)(m,"fromPositionToPortfolioItem"),m}},m=(e,t)=>{if(0===e.length||0===t.length)return[];try{let r=t.filter(t=>(0,c.ky)(e,t.market.id)).map(t=>u((0,c.ky)(e,t.market.id),t)).filter(e=>v(e));return r}catch(n){return(0,i.S3)(n,"fromPositionsToPortfolioItems"),[]}},h=(e,t)=>{if(0===e.length||0===t.length)return{};try{return(0,o.groupBy)(m(e,t),"slug")}catch(r){return(0,i.S3)(r,"fromPositionToGroupedPositionPortfolioItems"),{}}},f=(e,t)=>({...e,market:{...e.market,outcomeTokenPrices:t.map(e=>e.toString())}}),g=(e,t,r,n)=>{if(!e||!Array.isArray(t)||0===t.length)return[];try{let o=t.filter(t=>{var r,n,o;return(null==t?void 0:null===(r=t.market)||void 0===r?void 0:null===(n=r.id)||void 0===n?void 0:n.toLowerCase())===(null==e?void 0:null===(o=e.marketMakerAddress)||void 0===o?void 0:o.toLowerCase())}).map(e=>r&&n.every(e=>Number.isFinite(e))?f(e,n):e).map(t=>u(e,t)).filter(v);return o}catch(a){return(0,i.S3)(a,"fromPositionToPortfolioItemsUsingInjectedPrices"),[]}},p=(e,t)=>{try{let r=t.filter(t=>(0,c.ky)(e,t.market.id));return r}catch(n){return(0,i.S3)(n,"findRedeemableMarketPositions"),[]}},v=e=>{try{let t=n.O$.from(10).pow(a.p8).toNumber(),r=Number(e.qty)*t;return n.O$.from(Math.round(r)).gte(a.lD*a.gq)}catch(o){return(0,i.S3)(o,"filterSharesQty"),!0}}},6223:function(e,t,r){var n=r(67294);function o(e){return n.createElement("svg",e,[n.createElement("path",{d:"M0.630859 7.08932L4.22971 10.6882L7.82856 7.08932",stroke:"#E04545",strokeWidth:"1.2",key:0}),n.createElement("path",{d:"M4.23019 10.6882L4.23019 0.428574",stroke:"#E04545",strokeWidth:"1.2",key:1})])}o.defaultProps={width:"9",height:"12",viewBox:"0 0 9 12",fill:"none"},e.exports=o,o.default=o},45625:function(e,t,r){var n=r(67294);function o(e){return n.createElement("svg",e,[n.createElement("path",{d:"M0.475098 4.61157L4.07395 1.01272L7.6728 4.61157",stroke:"#05B16A",strokeWidth:"1.2",key:0}),n.createElement("path",{d:"M4.07394 1.01273L4.07394 11.2723",stroke:"#05B16A",strokeWidth:"1.2",key:1})])}o.defaultProps={width:"9",height:"12",viewBox:"0 0 9 12",fill:"none"},e.exports=o,o.default=o}}]);