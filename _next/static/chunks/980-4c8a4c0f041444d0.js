"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{26152:function(e,t,i){var n=i(85893),a=i(3993),r=i(15952),o=i(67294),s=i(45989),l=i(76743),u=i(58497),c=i(66041),v=i(77946),d=i(78904),h=i(50837),g=i(62882);let m=(0,h.zo)(a.j,{width:"20px",height:"20px"}),f=(0,h.zo)(r.Q,{width:"20px",height:"20px",color:"$yellow"}),p=(0,h.zo)(g.aJ,{border:"none",borderRadius:"4px",cursor:"pointer",backgroundColor:"white",padding:"0.25rem",transition:"all 0.2s","* >":{userSelect:"none"},"&:hover":{backgroundColor:"$gray6"},"&:active":{backgroundColor:"$gray6"}}),y=(0,h.zo)(g._v,{transformOrigin:"var(--radix-tooltip-content-transform-origin)","@media (prefers-reduced-motion: no-preference)":{animationDuration:"100ms"}}),w=e=>{let{eventSlug:t,filledIconStyles:i,emptyIconStyles:a}=e,[r,h]=(0,o.useState)(!1),[w,S]=(0,o.useState)(!1),[x,C]=(0,o.useState)(""),[E,j]=(0,o.useState)(!1),{setShowConnectModal:b}=(0,d.vR)(),{authenticated:F}=(0,v.ec)(),{accountProfile:k}=(0,u.Z)(),{toggleFavoriteEvent:D,isFavoriteEvent:$,favoriteEvents:M}=(0,c.Z)(),Q=(0,o.useMemo)(()=>$(t),[t,$,M]),z=(0,o.useMemo)(()=>Q?"Remove from watchlist":"Add to watchlist",[Q]),P=(0,o.useCallback)(e=>{k&&(!k||F)?(D(t),e?C("Added to watchlist"):C("Removed from watchlist"),j(!0)):(b(!0),h(!1))},[k,F,t,D,b,C,j]);return(0,o.useEffect)(()=>{let e=setTimeout(()=>null,3e3);return E&&(e=setTimeout(()=>{j(!1),C("")},1e4)),()=>clearTimeout(e)},[E]),(0,o.useEffect)(()=>{let e=setTimeout(()=>null,3e3);return w&&(e=setTimeout(()=>{j(!1),C(""),S(!1)},1e3)),()=>clearTimeout(e)},[w]),(0,n.jsx)(g.zt,{children:(0,n.jsxs)(g.u,{onOpenChange(e){h(e),e||S(!0)},open:r,children:[(0,n.jsx)(p,{onClick(e){e.preventDefault(),P(!Q)},children:(0,n.jsx)(s.Z,{mode:"out-in",children:(0,n.jsx)(l.Z,{timeout:200,classNames:"fade",children:Q?(0,n.jsx)(f,{css:{...i}}):(0,n.jsx)(m,{css:{...a}})},Q.toString())})}),(0,n.jsx)(g.NM,{children:(0,n.jsxs)(y,{side:"top",align:"center",sideOffset:4,onPointerDownOutside:e=>e.preventDefault(),children:[E?x:z,(0,n.jsx)(g.Ce,{})]})})]})})};t.Z=w},76132:function(e,t,i){var n=i(85893);i(67294);var a=i(25302),r=i(62882),o=i(49819);let s=e=>{let{parsedLiquidityTotalTooltip:t,parsedLiquidityClobTooltip:i,parsedLiquidityAmmTooltip:s,card:l=!1}=e;return(0,n.jsxs)(r._v,{side:"top",align:"center",sideOffset:l?5:7,css:{p:"0.5rem 1rem"},children:[(0,n.jsxs)(a.kC,{css:{width:"100%",justifyContent:"space-between"},children:[(0,n.jsxs)(o.xv,{size:"sm",weight:"medium",css:{color:"$shadeWhite",whiteSpace:"nowrap",lineHeight:"$lg",mr:l?"2rem":"5rem"},children:["Total ",!!l&&"liquidity"]}),(0,n.jsx)(o.xv,{size:"sm",weight:"medium",css:{color:"$shadeWhite",whiteSpace:"nowrap",lineHeight:"$lg"},children:t})]}),(0,n.jsxs)(a.kC,{css:{width:"100%",justifyContent:"space-between"},children:[(0,n.jsx)(o.xv,{size:"sm",weight:"light",css:{color:"$gray5",whiteSpace:"nowrap",lineHeight:"$lg"},children:"Order Book"}),(0,n.jsx)(o.xv,{size:"sm",weight:"light",css:{color:"$gray5",whiteSpace:"nowrap",lineHeight:"$lg"},children:i})]}),(0,n.jsxs)(a.kC,{css:{width:"100%",justifyContent:"space-between"},children:[(0,n.jsx)(o.xv,{size:"sm",weight:"light",css:{color:"$gray5",whiteSpace:"nowrap",lineHeight:"$lg"},children:"AMM"}),(0,n.jsx)(o.xv,{size:"sm",weight:"light",css:{color:"$gray5",whiteSpace:"nowrap",lineHeight:"$lg"},children:s})]}),(0,n.jsx)(r.Ce,{})]})};t.Z=s},57144:function(e,t,i){i.d(t,{i:function(){return d}});var n=i(67976),a=i(59404),r=i(82750),o=i(2593),s=i(61744);let l=e=>{if(!e||!Array.isArray(e)||e.some(e=>!o.O$.isBigNumber(e))||2!==e.length)return["0","0"];let[t,i]=e,n=(0,s.parseEther)("1");if(t.gt(1)&&i.gt(1)){let a=(0,s.formatEther)(n.sub(t));return[(0,s.formatEther)(t).toString(),a.toString()]}return t.eq("1")&&i.eq("1")?["0.5","0.5"]:e.map(e=>e.eq(n)?(0,s.formatEther)(e).toString():e.toString())};var u=i(41935),c=i(14925);let v=function(e){var t;let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{chain:c,chains:v}=(0,n.LN)(),d=null==e?void 0:e.toLowerCase(),h={address:a.b6,abi:r,functionName:"payoutNumerators",chainId:(null==c?void 0:c.id)&&(null==c?void 0:c.id)===(null===(t=v[a.z_.mumbai])||void 0===t?void 0:t.id)?80001:137},{data:g,refetch:m,isLoading:f,isFetching:p,isError:y}=(0,n.Dm)({contracts:[{...h,args:[d,0]},{...h,args:[d,1]}],enabled:i&&!!d,cacheTime:3e5,staleTime:15e3,watch:s,cacheOnBlock:o,onError(t){(0,u.S3)(t,"useChainPayouts",e)}});return{payoutsFromChain:l(g),refetchPayoutsFromChain:m,isPayoutsFromChainLoading:f,isPayoutsFromChainFetching:p,isPayoutsFromChainErroring:y}},d=function(e){var t;let i,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return{payouts:["0","0"],payoutsString:"",refetchPayoutsFromChain:()=>null,isPayoutsFromChainLoading:!1,isPayoutsFromChainFetching:!1,isPayoutsFromChainErroring:!1};let a=null==e?void 0:null===(t=e.conditionId)||void 0===t?void 0:t.toLowerCase(),r=(0,c.DD)(e),o=n&&"string"==typeof a&&r<0,{payoutsFromChain:s,refetchPayoutsFromChain:l,isPayoutsFromChainLoading:u,isPayoutsFromChainFetching:d,isPayoutsFromChainErroring:h}=v(e.conditionId,o),g="";if(o){if(o&&(d||u))i=["0","0"],g="Loading";else{let m={...e,outcomePrices:s};i=s,g=(0,c.DD)(m)>-1?(0,c.NZ)(m,2):(0,c.fy)(m,2)}}else i=e.outcomePrices,g=(0,c.NZ)(e,2);return{payouts:i,payoutsString:g,refetchPayoutsFromChain:l,isPayoutsFromChainLoading:u,isPayoutsFromChainFetching:d,isPayoutsFromChainErroring:h}}},66041:function(e,t,i){var n=i(9669),a=i.n(n),r=i(67294),o=i(88767),s=i(77946),l=i(78904),u=i(41935),c=i(21455);let v=e=>e.reduce((e,t)=>(e[t.event.slug]||(e[t.event.slug]={favoriteId:t.id,eventSlug:t.event.slug}),e),{}),d=async e=>{let t=await a().get("/api/account/favorite-events".concat(e?"?method=eoa":"")).then(e=>{let{data:t}=e;return v(t)});return t},h=async e=>{let t=await a().post("/api/account/favorite-events".concat(e.isEoa?"?method=eoa":""),{eventSlug:e.eventSlug}).then(e=>{let{data:t}=e;return t});return t},g=async e=>{let t=e.isEoa?"?eventSlug=".concat(e.eventSlug,"&method=eoa"):"?eventSlug=".concat(e.eventSlug),i=await a().delete("/api/account/favorite-events".concat(t)).then(e=>{let{data:t}=e;return t});return i},m=()=>{let e=(0,o.useQueryClient)(),{setShowSignUpModal:t}=(0,l.vR)(),{authenticated:i,authenticationType:n,proxyAddress:a}=(0,s.ec)(),{data:v,refetch:m}=(0,o.useQuery)(["/api/account/favorite-events"],()=>d("eoa"===n),{enabled:i&&!!a&&!!n,refetchOnWindowFocus:!1,retry:2,retryDelay:e=>Math.min(e>1?2**e*1e3:1e3,3e4),onError(e){(0,u.S3)(e,"getFavoriteEvents",a)}}),f=(0,r.useMemo)(()=>v,[v]),{mutateAsync:p}=(0,o.useMutation)(["/api/account/favorite-events/add"],h,{retry:3,retryDelay:e=>Math.min(e>1?2**e*1e3:1e3,3e4),async onMutate(t){let i;await e.cancelQueries("/api/account/favorite-events");let n=e.getQueryData("/api/account/favorite-events"),a=0;return n?(Object.keys(n).forEach(e=>{a=Math.max(n[e].favoriteId,a)}),i={...f,[t.eventSlug]:{eventSlug:t.eventSlug,favoriteId:a+1}}):i={[t.eventSlug]:{eventSlug:t.eventSlug,favoriteId:a+1}},e.setQueryData("/api/account/favorite-events",i),{previousFavoriteEvents:n}},onSettled:()=>e.invalidateQueries(["/api/account/favorite-events"]),onError(t,i,n){e.setQueryData("/api/account/favorite-events",null==n?void 0:n.previousFavoriteEvents),(0,u.S3)(t,"addFavoriteEvent",a)}}),{mutateAsync:y}=(0,o.useMutation)(["/api/account/favorite-events/remove"],g,{retry:3,retryDelay:e=>Math.min(e>1?2**e*1e3:1e3,3e4),async onMutate(t){await e.cancelQueries("/api/account/favorite-events");let i=e.getQueryData("/api/account/favorite-events"),n={...i};return n&&delete n[t.eventSlug],e.setQueryData("/api/account/favorite-events",n),{previousFavoriteEvents:i}},onSettled:()=>e.invalidateQueries(["/api/account/favorite-events"]),onError(t,i,n){e.setQueryData("/api/account/favorite-events",null==n?void 0:n.previousFavoriteEvents),(0,u.S3)(t,"removeFavoriteEvent",a)}}),w=(0,r.useCallback)(e=>p({eventSlug:e,isEoa:"eoa"===n}),[p,n]),S=(0,r.useCallback)(e=>y({eventSlug:e,isEoa:"eoa"===n}),[y,n]),x=(0,r.useCallback)(e=>!!i&&!!f&&!!e&&void 0!==f[e],[i,f]),{run:C}=(0,c.Z)(e=>{let{willBeFav:t,eventSlug:r}=e;i&&a&&n&&(t?w(r):S(r))},{wait:500}),E=(0,r.useCallback)(e=>{i||t(!0),void 0!==f&&C({eventSlug:e,willBeFav:!x(e)})},[i,f,C,t]);return{favoriteEvents:f,toggleFavoriteEvent:E,isFavoriteEvent:x,getFavoriteEvents:m}};t.Z=m}}]);