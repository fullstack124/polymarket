(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{17702:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/event/[...slug]",function(){return n(56864)}])},50173:function(e,t,n){"use strict";n.d(t,{A:function(){return p},Bp:function(){return i},Ev:function(){return d},MQ:function(){return m},V2:function(){return u},YE:function(){return s},Yg:function(){return x},cu:function(){return a},gg:function(){return o},oL:function(){return c},qC:function(){return h},z4:function(){return l}});var r=n(58334);let i=["1H","6H","1D","7D","30D","ALL"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=210,s=85,a=26,c=60,d=20,u="".concat(r.Z.lightGrey),p="".concat(r.Z.lightGrey),h="".concat(r.Z.softGrey,"55"),m="".concat(r.Z.softGrey,"55"),x=["#2f4beb",r.Z.polyPink,r.Z.polyGreen]},55008:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r,i,o=n(85893),l=n(53944),s=n(59404),a=n(84908);(r=i||(i={}))[r.Market=0]="Market",r[r.Event=1]="Event",r[r.Collection=2]="Collection";let c=e=>{var t,n,r,c;let{pageType:d,market:u,event:p,collection:h}=e;if(!s.Tr)return null;let m=window.location.origin?window.location.origin:"";switch(d){case i.Market:if(!u)throw Error("Must pass a market as prop to Comments.tsx on /market");return(0,o.jsx)(l.qw,{shortname:s.CT,config:{url:m?"".concat(m,"/market/").concat(null==u?void 0:u.slug):"http://localhost:3000/market/".concat(null==u?void 0:u.slug),identifier:(0,a.gI)(null==u?void 0:null===(t=u.disqusThread)||void 0===t?void 0:t.trim())||(0,a.gI)(u.slug),title:"/market/".concat(u.slug)}});case i.Event:if(!p)throw Error("Must pass a event as prop to Comments.tsx on /event");return(0,o.jsx)(l.qw,{shortname:s.CT,config:{url:m?"".concat(m,"/event/").concat(null==p?void 0:p.slug):"http://localhost:3000/event/".concat(null==p?void 0:p.slug),identifier:(0,a.gI)(null==p?void 0:null===(n=p.disqusThread)||void 0===n?void 0:n.trim())||(0,a.gI)(p.slug),title:"/event/".concat(p.slug)}});case i.Collection:if(!h)throw Error("Must pass a collection as prop to Comments.tsx on /collection");return(0,o.jsx)(l.qw,{shortname:s.CT,config:{url:m?"".concat(m,"/collection/").concat(null==h?void 0:h.slug):"http://localhost:3000/collection/".concat(null==h?void 0:h.slug),identifier:(0,a.gI)(null==h?void 0:null===(r=h.disqusThread)||void 0===r?void 0:r.trim())||(0,a.gI)(null==h?void 0:null===(c=h.disqus_thread)||void 0===c?void 0:c.trim())||(0,a.gI)(h.slug),title:"/collection/".concat(h.slug)}});default:throw Error("You must indicate the pageType prop for Comments.tsx")}};t.Z=c},93303:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),i=n(67294),o=n(76743),l=n(99928),s=n(50837),a=n(25302);let c=(0,s.zo)(a.kC,{position:"absolute",alignItems:"center",alignSelf:"center",gap:"0.5rem",fontSize:"$md",color:"$shadeDark",width:"100%",cursor:"text",transition:"all 0.2s"}),d=(0,s.zo)("input",{display:"flex",alignItems:"center",textAlign:"left",flex:1,borderWidth:"1px",borderStyle:"solid",fontSize:"$md",width:"100%",alignSelf:"center",padding:"$4 $4",color:"#666",outline:"none",borderRadius:"4px",transition:"all 0.2s","&:disabled":{cursor:"not-allowed"},"&::placeholder":{transition:"all 0.2s"},"&:focus::placeholder":{color:"$transparent"},"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},"&[type=number]":{"-moz-appearance":"textfield"},"@laptops":{fontSize:"$md"}});function u(e){var t;let{placeholder:n,value:s,onChange:u,error:p,disabled:h,...m}=e,{isIOS:x}=(0,l.Z)(),[g,f]=(0,i.useState)(!1),v=(0,i.useRef)(null);return(0,r.jsxs)(a.kC,{css:{position:"relative",width:"100%",cursor:h?"not-allowed":"text"},children:[(0,r.jsx)(d,{ref:v,onFocus(e){e.preventDefault(),f(!0)},onBlur(e){e.preventDefault(),f(!1)},value:s,disabled:h,onChange:u,autoComplete:"off",css:{...x&&{"@supports (-webkit-overflow-scrolling: touch)":{fontSize:"16px"}},transition:"all 0.2s","&:focus":{borderColor:p?"$polyRed":"$shadeDarker"},borderColor:p?"$polyRed":"$shadeMedium"},...m}),(0,r.jsx)(c,{css:{display:"flex",justifyContent:"left",justifySelf:"left",left:"1rem",cursor:h?"not-allowed":"text"},onClick(){var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},children:(0,r.jsx)(o.Z,{in:!(g||!g&&(null===(t=v.current)||void 0===t?void 0:t.value)!==""),timeout:200,classNames:"fade",unmountOnExit:!0,children:(0,r.jsx)(a.Dr,{children:n})})})]})}},98174:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(67294),i=n(88767),o=n(70023),l=n.n(o),s=n(9669),a=n.n(s),c=n(50173),d=n(59404),u=n(52778),p=n(2282);let h=async(e,t,n,r,i,o,l,s,c,u,p)=>{let h={window:t,outcomes:n,format:r,type:i,status:o,creationTime:l,...s&&{scalarLowerBound:s},...c&&{scalarUpperBound:c},...u&&{resolutionTimestamp:u},...p&&{forceFromSource:p}},m=await a().get("".concat(d.DH,"/").concat("multi/market","/").concat(e),{params:h}).then(e=>{let{data:t}=e;return t.map(e=>e.timeSeriesData)});return m},m=async(e,t)=>{let n,r,i;if(!t&&!e)throw Error("A slug or market must be provided.");let o=e;if(!o&&t&&(o=await (0,p.YK)(t)),!o)throw Error("Market could not be found.");let l=new Date(o.created_at),s=Math.ceil(l.getTime()/1e3).toString(),a=o.outcomePrices.length>2?"categorical":"binary";if("scalar"===o.market_type&&(a="scalar"),"scalar"===a){var d,u;n=parseInt(null!==(d=o.lower_bound)&&void 0!==d?d:"0",10).toString(),r=parseInt(null!==(u=o.upper_bound)&&void 0!==u?u:"0",10).toString()}if(o.closed_time){let m=new Date(o.closed_time);i=Math.floor(m.getTime()/1e3).toString()}let x=await h(o.marketMakerAddress,c.Bp[0],o.outcomes.length.toString(),"line",a,o.closed?"closed":"open",s,n,r,i,void 0);return x};(0,u.m)((e,t)=>m(e,t));let x=(e,t)=>{var n,o;let[s,a]=(0,r.useState)(),c=Intl.DateTimeFormat().resolvedOptions().timeZone,{data:d,isLoading:u,isError:p,isSuccess:h}=(0,i.useQuery)(["/api/chart",null!==(o=null!==(n=null==e?void 0:e.slug)&&void 0!==n?n:t)&&void 0!==o?o:""],()=>m(e,t),{enabled:!!(e||t),refetchOnWindowFocus:!1,staleTime:6e4});(0,r.useEffect)(()=>{d&&c&&(async()=>{let e=new(l());e.addEventListener("message",e=>{a(e.data)}),e.postMessage({args:[d,c]})})()},[d,c]);let x=(0,r.useMemo)(()=>s,[s]);return{data:x,isLoading:u,isError:p,isSuccess:h}};var g=x},56864:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return xw},default:function(){return xC}});var r,i,o,l,s,a,c,d,u,p,h,m,x,g,f,v,y,b,j,k,w,C,S,M,_,Z,z,L,T=n(85893),D=n(78234),P=n(11163),E=n.n(P),I=n(67294),A=n(88767),B=n(61256),$=n(7297),O=n(41664),R=n.n(O),N=n(186),F=n(3270),H=n(47226),W=n(7005),q=n(58334);function V(){let e=(0,$.Z)(["\n    margin: 0;\n    font-family: OpenSauceSansRegular;\n    font-style: normal;\n    font-size: 14px;\n    line-height: 21px;\n    letter-spacing: -0.00187324px;\n    color: ",";\n"]);return V=function(){return e},e}function G(){let e=(0,$.Z)(["\n    margin: 0;\n    font-family: OpenSauceSansMedium;\n    font-style: normal;\n    font-size: 12px;\n    line-height: 12px;\n    letter-spacing: -0.00160563px;\n    color: ",";\n"]);return G=function(){return e},e}function Y(){let e=(0,$.Z)(["\n    ",";\n    text-decoration: none;\n    :hover {\n        text-decoration: none;\n    }\n    :visited {\n        color: ",";\n    }\n"]);return Y=function(){return e},e}function U(){let e=(0,$.Z)(["\n    margin: 0;\n    font-family: OpenSauceSansMedium;\n    font-style: normal;\n    font-size: 18px;\n    line-height: 21px;\n    color: black;\n"]);return U=function(){return e},e}function Q(){let e=(0,$.Z)(["\n    margin: 0;\n    font-family: OpenSauceSansRegular;\n    font-style: normal;\n    font-size: 16px;\n    line-height: 21px;\n    color: black;\n"]);return Q=function(){return e},e}let J=N.ZP.p(V(),q.Z.warning),X=(0,N.iv)(G(),q.Z.polyBlue);N.ZP.a(Y(),X,q.Z.polyBlue);let K=N.ZP.p(U()),ee=N.ZP.span(Q());function et(){let e=(0,$.Z)(["\n    margin-top: 2em;\n    width: 100%;\n    height: 500px;\n    padding: 0 32%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    @media "," {\n        padding: 0 8%;\n    }\n"]);return et=function(){return e},e}function en(){let e=(0,$.Z)(["\n    margin: 32px 0;\n    text-align: center;\n"]);return en=function(){return e},e}let er=N.ZP.div(et(),H.BC.mobile),ei=(0,N.ZP)(ee)(en()),eo=()=>(0,T.jsxs)(er,{children:[(0,T.jsx)(K,{children:"Page not found"}),(0,T.jsxs)(ei,{children:["We can’t find the page you’re looking for. Check if the link in the URL is correct. If the issue persists, please",(0,T.jsx)("a",{href:"mailto:hello@polymarket.com",children:" contact us."})]}),(0,T.jsx)(R(),{href:F.Y.Home,passHref:!0,legacyBehavior:!0,children:(0,T.jsx)(W.Z,{color:"primary",variant:"contained",children:"Go Home"})})]});var el=n(43100),es=n(73327),ea=n(59874),ec=n(49674),ed=n(94184),eu=n.n(ed),ep=n(32192),eh=n(25302),em=n(61641),ex=n(20534);function eg(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]);return eg=function(){return e},e}let ef=(0,ea.Z)(e=>(0,es.Z)({skeleton_wrapper:{width:"100%"},skeleton_wrapper_start_initial:{width:"20%",alignSelf:"flex-start",marginBottom:"5px",marginTop:"10px",[e.breakpoints.down("lg")]:{width:"30%"}},skeleton_wrapper_start:{width:"20%",alignSelf:"flex-start",marginBottom:"5px",[e.breakpoints.down("lg")]:{width:"30%"}},skeleton_wrapper_start_final:{width:"20%",alignSelf:"flex-start",marginBottom:"10px",[e.breakpoints.down("lg")]:{width:"30%"}},skeleton_wrapper_end:{width:"40%",alignSelf:"flex-end",marginTop:"10px",[e.breakpoints.down("lg")]:{alignSelf:"center",width:"100%"}},skeleton:{marginBottom:"15px",width:"682px",[e.breakpoints.down("lg")]:{width:"100%"}},skeleton_base:{width:"100%"},graphWidgetContainer:{display:"flex",width:"fit-content",margin:"0 auto",[e.breakpoints.down("lg")]:{flexDirection:"column",width:"100%"}},widget:{width:"300px",marginLeft:"1em",[e.breakpoints.down("lg")]:{width:"100%",marginLeft:0}},marketDetailHeader:{marginBottom:"2em"},marketDetailContainer:{margin:"1em 0"}})),ev=()=>{let e=(0,ex.Z)(),t=ef();return(0,T.jsxs)(eb,{children:[(0,T.jsx)("div",{className:t.skeleton_wrapper_start_initial,children:(0,T.jsx)(el.Z,{className:eu()(e.skeleton_base,t.skeleton_base),sx:{bgColor:"".concat(q.Z.lightGrey2)},height:15,variant:"rectangular",animation:"wave"})}),(0,T.jsx)("div",{className:t.skeleton_wrapper_start,children:(0,T.jsx)(el.Z,{className:eu()(e.skeleton_base,t.skeleton_base),sx:{bgColor:"".concat(q.Z.lightGrey2)},height:35,variant:"rectangular",animation:"wave"})}),(0,T.jsx)("div",{className:t.skeleton_wrapper_start_final,children:(0,T.jsx)(el.Z,{className:eu()(e.skeleton_base,t.skeleton_base),sx:{bgColor:"".concat(q.Z.lightGrey2)},height:15,variant:"rectangular",animation:"wave"})}),(0,T.jsx)("div",{className:t.skeleton_wrapper,children:(0,T.jsx)(el.Z,{className:eu()(e.skeleton_base,t.skeleton_base),sx:{bgColor:"".concat(q.Z.lightGrey2)},height:215.61,variant:"rectangular",animation:"wave"})}),(0,T.jsx)("div",{className:t.skeleton_wrapper_end,children:(0,T.jsx)(el.Z,{className:eu()(e.skeleton_base,t.skeleton_base),sx:{bgColor:"".concat(q.Z.lightGrey2)},height:33,variant:"rectangular",animation:"wave"})})]})},ey=()=>(0,T.jsxs)(eh.gO,{css:{padding:"48px 12px",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:[(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between",marginBottom:"$4"},children:[(0,T.jsx)(em.Z,{css:{width:100,height:100}}),(0,T.jsx)(em.Z,{css:{height:24,width:64}})]}),(0,T.jsxs)(eh.gO,{css:{mb:"$5",width:"100%"},children:[(0,T.jsx)(em.Z,{textSize:"xxxl",width:90}),(0,T.jsx)(em.Z,{textSize:"md",width:70})]}),(0,T.jsxs)(eh.kC,{css:{alignItems:"center",marginBottom:"$8",":not(:last-child)":{marginRight:"$4"}},children:[(0,T.jsx)(em.Z,{textSize:"sm",width:5}),(0,T.jsx)(em.Z,{textSize:"sm",width:5}),(0,T.jsx)(em.Z,{textSize:"sm",width:5}),(0,T.jsx)(em.Z,{textSize:"sm",width:5})]}),(0,T.jsxs)(eh.gO,{children:[(0,T.jsx)(em.Z,{textSize:"lg",css:{width:128,mb:"$5"}}),(0,T.jsx)(eh.gO,{css:{"> *:not(:last-child)":{marginBottom:"$4"}},children:[...Array(6)].map((e,t)=>(0,T.jsx)(em.Z,{css:{height:110}},t))})]})]}),eb=(0,ec.Z)(ep.E.div)(eg());var ej=n(61043),ek=n(95338),ew=n(49819);let eC=()=>{let{onReload:e}=function(){let e=(0,I.useContext)(eS);return e}();return(0,T.jsx)(B.Z,{title:"Polymarket",children:(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"2em",width:"100%",height:"500px","@laptops":{padding:"0 32%"},"@notDesktop":{padding:"0 8%"}},children:[(0,T.jsx)(ew.xv,{size:"xl",weight:"medium",children:"Uh oh! An error occurred."}),(0,T.jsxs)(ew.xv,{css:{margin:"32px 0",textAlign:"center"},children:["An unexpected error occurred while rendering the page. If the issue persists, please"," ",(0,T.jsx)(ew.ee,{href:"mailto:hello@polymarket.com",children:" contact us."})]}),(0,T.jsx)(ek.z,{type:"primary",onClick:e,css:{px:"1rem","@laptops":{width:"fit-content"},"@notDesktop":{width:"100%"}},children:"Reload"})]})})},eS=(0,I.createContext)(null),eM={error:null};class e_ extends I.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){var n,r;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}onReload(){var e,t;null===(t=(e=this.props).onReload)||void 0===t||t.call(e),this.setState(eM)}render(){let{error:e}=this.state;if(null!==e){let{injectedFallback:t}=this.props,n={error:e,onReload:this.onReload};return(0,T.jsx)(eS.Provider,{value:n,children:t?(0,T.jsx)(T.Fragment,{children:"function"==typeof t?(0,T.jsx)(t,{...n}):t}):(0,T.jsx)(eC,{})})}return(0,T.jsx)(I.Fragment,{children:this.props.children})}constructor(e){super(e),this.onReload=this.onReload.bind(this),this.state=eM}}var eZ=n(77946);let ez="charting-x-axis-preference",eL="charting-y-axis-preference",eT="charting-autoscale-preference",eD="charting-tooltip-preference",eP="charting-grid-preference",eE="charting-zoom-preference",eI="charting-decimals-preference",eA="charting-volume-preference",eB="charting-liquidity-preference",e$=()=>{let e=localStorage.getItem(ez);return e?"true"===e:null},eO=e=>{localStorage.setItem(ez,e.toString())},eR=()=>{let e=localStorage.getItem(eL);return e?"true"===e:null},eN=e=>{localStorage.setItem(eL,e.toString())},eF=()=>{var e;let t=null===(e=window.localStorage)||void 0===e?void 0:e.getItem(eT);return t?"true"===t:null},eH=e=>{localStorage.setItem(eT,e.toString())},eW=()=>{let e=localStorage.getItem(eD);return e?"true"===e:null},eq=e=>{localStorage.setItem(eD,e.toString())},eV=()=>{let e=localStorage.getItem(eP);return e?"true"===e:null},eG=e=>{localStorage.setItem(eP,e.toString())},eY=()=>{let e=localStorage.getItem(eE);return e?"true"===e:null},eU=e=>{localStorage.setItem(eE,e.toString())},eQ=()=>{let e=localStorage.getItem(eI);return e?"true"===e:null},eJ=e=>{localStorage.setItem(eI,e.toString())},eX=()=>{let e=localStorage.getItem(eA);return e?"true"===e:null},eK=e=>{localStorage.setItem(eA,e.toString())},e0=()=>{let e=localStorage.getItem(eB);return e?"true"===e:null},e1=e=>{localStorage.setItem(eB,e.toString())},e2=(0,I.createContext)({event:void 0,activeMarket:void 0,activeMarketVolumeOpen:!1,activeMarketLiquidityOpen:!1,activeMarketXAxisShown:!1,eslug:"",setActiveMarket(e){throw Error("EventContext must export an `setActiveMarket` function.")},setActiveMarketFromSlug(e){throw Error("EventContext must export an `setActiveMarketFromSlug` function.")},setAccordionMarketSlug(e){throw Error("EventContext must export an `setAccordionMarketSlug` function.")},setActiveMarketVolumeOpen(e){throw Error("EventContext must export an `setActiveMarketVolumeOpen` function.")},setActiveMarketLiquidityOpen(e){throw Error("EventContext must export an `setActiveMarketLiquidityOpen` function.")},setActiveMarketXAxisShown(e){throw Error("EventContext must export an `setActiveMarketXAxisShown` function.")}}),e5=e=>{let{children:t,event:n,market:r,eslug:i,mslug:o}=e,[l,s]=(0,I.useState)(r),[a,c]=(0,I.useState)(),[d,u]=(0,I.useState)(!1),[p,h]=(0,I.useState)(!1),[m,x]=(0,I.useState)(!1),g=(0,I.useCallback)(e=>{let t=n.markets.find(t=>t.slug===e);t&&(s(t),a&&c(t.slug))},[n,a,c]),f=(0,I.useCallback)(e=>{u(e),eK(e)},[u]),v=(0,I.useCallback)(e=>{h(e),e1(e)},[h]),y=(0,I.useCallback)(e=>{x(e),eO(e)},[x]);(0,D.Z)(()=>{var e,t,n;u(null!==(e=eX())&&void 0!==e&&e),h(null!==(t=e0())&&void 0!==t&&t),x(null!==(n=e$())&&void 0!==n&&n)});let b=(0,I.useMemo)(()=>({eslug:i,mslug:o,event:n,activeMarket:l,accordionMarketSlug:a,activeMarketVolumeOpen:d,activeMarketLiquidityOpen:p,activeMarketXAxisShown:m,setActiveMarket:s,setActiveMarketFromSlug:g,setAccordionMarketSlug:c,setActiveMarketVolumeOpen:f,setActiveMarketLiquidityOpen:v,setActiveMarketXAxisShown:y}),[i,o,n,l,a,d,p,m,s,g,c,f,v,y]);return(0,T.jsx)(e2.Provider,{value:b,children:t})},e3=()=>(0,I.useContext)(e2);var e4=n(9279),e6=n(21046),e8=n(62922),e7=n(2593),e9=n(21815),te=n(67976),tt=n(59813),tn=n(59404),tr=n(76380),ti=n(47077),to=n(72755),tl=n(33291);(r=f||(f={})).UsdcExchange="UsdcExchange",r.UsdcCtf="UsdcCtf",r.CtfIsApprovedForAll="CtfIsApprovedForAll";var ts=function(){let{connector:e}=(0,te.mA)(),{authenticated:t,authenticationType:n,proxyAddress:r}=(0,eZ.ec)(),{sendTransaction:i}=(0,tt.Z)(),[o,l]=(0,I.useState)(null),[s,a]=(0,I.useState)(tr.K1.Default),[c,d]=(0,I.useState)(6e5),u=tn.B8.chainId,p=!!e&&!!r&&r!==e4.d,{data:h,refetch:m,isFetched:x,isFetching:g}=(0,te.do)({address:ej.iW[u].collateral,abi:ti,functionName:"allowance",args:[r,ej.iW[u].conditional],chainId:u,enabled:p,cacheTime:c,onError(e){console.log("err",e)}}),{data:v,refetch:y,isFetched:b,isFetching:j}=(0,te.do)({address:ej.iW[u].collateral,abi:ti,functionName:"allowance",args:[r,ej.iW[u].exchange],chainId:u,enabled:p,cacheTime:c,onError(e){console.log("err",e)}}),{data:k,refetch:w,isFetched:C,isFetching:S}=(0,te.do)({address:ej.iW[u].conditional,abi:to,functionName:"isApprovedForAll",args:[r,ej.iW[u].exchange],chainId:u,enabled:p,cacheTime:c,onError(e){console.log("err",e)}}),M=(0,I.useMemo)(()=>[{name:f.UsdcCtf,type:"USDC",address:ej.iW[u].conditional,token:ej.iW[u].collateral,status:e7.O$.isBigNumber(h)&&h.gt(e6._Y)?tr.CW.Approved:tr.CW.Unapproved},{name:f.UsdcExchange,type:"USDC",address:ej.iW[u].exchange,token:ej.iW[u].collateral,status:e7.O$.isBigNumber(v)&&v.gt(e6._Y)?tr.CW.Approved:tr.CW.Unapproved},{name:f.CtfIsApprovedForAll,type:"CTF",address:ej.iW[u].exchange,token:ej.iW[u].conditional,status:void 0!==k&&k?tr.CW.Approved:tr.CW.Unapproved}],[k,h,v]),_=[x,b,C].every(e=>e),Z=M.every(e=>e.status===tr.CW.Approved),z=M.some(e=>e.status===tr.CW.Approved),L=async()=>{await Promise.all([m(),y(),w()])},[T,D]=(0,I.useState)(!1),P=(0,I.useCallback)(async(e,t)=>{l(null);let r=e.filter(e=>!0===t?e.status===tr.CW.Approved:e.status===tr.CW.Unapproved),o=[];for(let s of r)"USDC"===s.type?o.push({to:s.token,data:(0,tl.oZ)(s.address,t?e9.Zero:e9.MaxUint256),value:"0",typeCode:e8.CallType.Call}):o.push((0,tl.sb)(s.token,s.address,!t));if(0!==o.length){a(tr.K1.Pending),D(!0);try{let c=await i("eoa"===n?tt.i.EOA:tt.i.Magic,o,0,tn.Zc.Matic,0),u=await c.wait();if(u)return a(tr.K1.Success),l(null),d(1e3),setTimeout(()=>L().then(()=>(D(!1),a(tr.K1.Default))),3e3)}catch(h){console.log("useAllowances > updateProxyAllowances > error",h);let p=JSON.stringify(h);return l("Try Again! ".concat("{}"!==p?p:"")),L().then(()=>(D(!1),a(tr.K1.Default)))}}},[i,L]),E=(0,I.useCallback)(async n=>{console.log("useAllowances > triggerAllApprovals > shouldRevoke",n),console.log("useAllowances > triggerAllApprovals > authenticated",t),console.log("useAllowances > triggerAllApprovals > connector",e),console.log("useAllowances > triggerAllApprovals > allowances",M),t&&e&&await P(M,n)},[P,e,t,M]);return{allowanceErrorMsg:o,allowanceState:s,areAllAllowancesApproved:Z,areSomeAllowancesApproved:z,hasLoadedAllowances:_,isUpdatingAllowances:T,loadAllowanceMap:L,triggerAllApprovals:E}},ta=n(67533);let tc=(0,I.createContext)({}),td=e=>{let{children:t}=e,{activeMarket:n}=e3(),{authenticated:r,authenticationType:i}=(0,eZ.ec)(),{apiCredential:o}=(0,ta.Z)(),{allowanceErrorMsg:l,allowanceState:s,areAllAllowancesApproved:a,areSomeAllowancesApproved:c,hasLoadedAllowances:d,isUpdatingAllowances:u,loadAllowanceMap:p,triggerAllApprovals:h}=ts();(0,I.useEffect)(()=>{o&&(null==o||o.key,1)&&r&&"magic"===i&&d&&!a&&h()},[o,a,r,i,d,h]);let m=(0,I.useMemo)(()=>({allowanceErrorMsg:l,allowanceState:s,areAllAllowancesApproved:a,areSomeAllowancesApproved:c,hasLoadedAllowances:d,isUpdatingAllowances:u,loadAllowanceMap:p,triggerAllApprovals:h}),[l,s,a,c,d,u,p,h]);return(0,T.jsx)(tc.Provider,{value:m,children:t})},tu=()=>(0,I.useContext)(tc);var tp=n(84557),th=n(61744),tm=n(37777),tx=n(96486),tg=n.n(tx),tf=n(19660);let tv="SLIPPAGE_TOLERANCE",ty="LP_SLIPPAGE_TOLERANCE",tb=()=>{var e;return(null===(e=window.localStorage)||void 0===e?void 0:e.getItem(tv))!==null?JSON.parse(String(localStorage.getItem(tv))):null},tj=e=>{var t;null===(t=window.localStorage)||void 0===t||t.setItem(tv,JSON.stringify(e))},tk=()=>{var e;return(null===(e=window.localStorage)||void 0===e?void 0:e.getItem(ty))!==null?JSON.parse(String(localStorage.getItem(ty))):tn.J},tw=e=>{var t,n;Number.isNaN(e)?null===(t=window.localStorage)||void 0===t||t.setItem(ty,JSON.stringify(tn.J)):null===(n=window.localStorage)||void 0===n||n.setItem(ty,JSON.stringify(e))},tC=(0,I.createContext)({}),tS=e=>{let{children:t}=e,{activeMarket:n}=e3(),[r,i]=(0,I.useState)(!1),[o,l]=(0,I.useState)(n.enableOrderBook?tr.mr.Market:tr.mr.AMM),[s,a]=(0,I.useState)(tm.Side.BUY),[c,d]=(0,I.useState)(null),[u,p]=(0,I.useState)(0),[h,m]=(0,I.useState)(""),[x,g]=(0,I.useState)("type"),f=(0,I.useMemo)(()=>(0,th.parseUnits)(h||"0",4),[h]),[v,y]=(0,I.useState)(""),b=(0,I.useMemo)(()=>(0,tf.uu)(v||"0"),[v]),[j,k]=(0,I.useState)(),[w,C]=(0,I.useState)(!0),[S,M]=(0,I.useState)(""),_=tb(),[Z,z]=(0,I.useState)("number"==typeof _?_:tn.Jr),[L,D]=(0,I.useState)(!1),[P,E]=(0,I.useState)(!1),[A,B]=(0,I.useState)(!1),[$,O]=(0,I.useState)(""),R=(0,I.useCallback)(e=>{z(e),tj(e)},[z]),N=(0,I.useCallback)(()=>{m(""),O((0,tx.uniqueId)("__price_field"))},[]);(0,I.useEffect)(()=>{if(n&&c){let e=n.outcomes.indexOf(c);e>-1&&p(e)}else p(0)},[n,c]),(0,I.useEffect)(()=>{o===tr.mr.Limit&&P&&L||o===tr.mr.Market&&L?B(!0):B(!1)},[P,L,o,B]),(0,I.useEffect)(()=>{null===c&&d(n.outcomes[0])},[n,c]);let F=(0,I.useMemo)(()=>({cursorActive:r,handleResetPriceState:N,hasTouchedAllFields:A,hasTouchedPrice:P,hasTouchedShares:L,orderType:o,price:h,priceUpdateLocation:x,priceUsdc:f,pricesAfterTrade:j,priceFieldKey:$,selectedOutcome:c,selectedOutcomeIdx:u,setCursorActive:i,setHasTouchedAllFields:B,setHasTouchedPrice:E,setHasTouchedShares:D,setOrderType:l,setPrice:m,setPriceUpdateLocation:g,setPricesAfterTrade:k,setSelectedOutcome:d,setSelectedOutcomeIdx:p,setShares:y,setSide:a,setSlippageConstraintSatisfied:C,setSlippageHelperMessage:M,setSlippageTolerance:R,shares:v,sharesUsdc:b,side:s,slippageConstraintSatisfied:w,slippageHelperMessage:S,slippageTolerance:Z}),[r,N,R,A,P,L,o,h,x,f,j,$,c,u,i,B,E,D,l,m,g,d,p,y,a,C,M,v,b,s,w,S,Z]);return(0,T.jsx)(tC.Provider,{value:F,children:t})},tM=()=>(0,I.useContext)(tC);var t_=n(50837),tZ=n(40715),tz=n(62882),tL=n(92077),tT=n.n(tL);let tD=e=>{if(!e||Number.isNaN(parseFloat(e)))return null;if(0===parseFloat(e))return"0";if(parseFloat(e)>=1)return"-100";let t=100*parseFloat(e);if(!(t<50))return"-".concat((100*t/(100-t)).toFixed(1));{let n=100*(100-t)/t;return n>0?"+".concat(n.toFixed(1)):"".concat(n.toFixed(1))}},tP=e=>{if(!e||Number.isNaN(parseFloat(e)))return null;if(0===parseFloat(e))return 0;let t=100*parseFloat(e);return 1/t},tE=e=>{let{barColor:t,label:n,value:r}=e;return(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center",width:"100%",columnGap:"2rem"},children:[(0,T.jsxs)(eh.kC,{css:{alignItems:"center",width:"100%"},children:[(0,T.jsx)(eh.gO,{css:{backgroundColor:t,height:"27px",width:"4px",mr:"0.4rem",opacity:.5}}),(0,T.jsx)(ew.xv,{size:"md",weight:"normal",css:{color:"$gray3"},children:n})]}),(0,T.jsx)(ew.xv,{size:"lg",weight:"medium",children:r})]})},tI=e=>{let{price:t}=e,n=(0,I.useMemo)(()=>t?tT()(Math.min(100*parseFloat(t),100)).format("0.0"):null,[t]),r=(0,I.useMemo)(()=>t?tD(t):null,[t]),i=(0,I.useMemo)(()=>t?tT()(100*(tP(t)||0)).format("0.000"):null,[t]);return(0,T.jsxs)(tz._v,{side:"top",align:"center",sideOffset:5,css:{p:"1rem",background:"$shadeWhite",width:"100%",boxShadow:"$boxShadowTooltip"},children:[(0,T.jsxs)(eh.kC,{css:{width:"100%",flexDirection:"column",justifyContent:"start",rowGap:"0.25rem"},children:[(0,T.jsx)(tE,{barColor:"$polyBlue",label:"Price",value:"".concat(n||0)+"\xa2"}),(0,T.jsx)(tE,{barColor:"$purple2",label:"American",value:r||"0"}),(0,T.jsx)(tE,{barColor:"$green2",label:"Decimal",value:i||"0.000"})]}),(0,T.jsx)(tz.Ce,{css:{fill:"$shadeWhite"}})]})};var tA=n(75386);let tB=e=>{let{label:t,isBlue:n,children:r}=e;return(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between"},children:[(0,T.jsx)(ew.xv,{css:{fontSize:"14px",color:"$gray3",fontFamily:"$sauce400"},children:t}),(0,T.jsx)(ew.xv,{css:n?{fontSize:"16px",color:"$polyBlue",fontFamily:"$sauce700 !important"}:{fontSize:"14px",color:"$gray1",fontFamily:"$sauce400"},children:r})]})};var t$=n(44080);let tO=(e,t,n)=>e===tr.mr.Limit&&n.lt(t),tR=(e,t)=>""===e||t.isZero(),tN=(e,t,n)=>e===tr.mr.Limit&&(""===t||n.isZero()),tF=(e,t,n)=>{if(!e||!t||!e||t.lte(e6._Y)||n.lte(e6._Y))return e6._Y;let r=t.sub(e);if(r.lte(e6._Y))return e6._Y;let i=(0,t$.divBN)(r,n),o=(0,th.parseUnits)(i.toString(),6);return o},tH=(e,t,n,r)=>e===tm.Side.BUY&&t===tr.mr.Limit&&n.lt(r),tW=(e,t,n)=>!t||!n||n.lte(e6._Y)||t.gt(n)?e6._Y:e===tr.mr.Limit?n.sub(t):n,tq=(e,t,n)=>!!n&&!!t&&e===tm.Side.SELL&&n.gt(t),tV=(e,t,n,r)=>t===tr.mr.Market&&e===tm.Side.BUY&&n.gt(r),tG=(e,t,n,r)=>t===tr.mr.Market&&e===tm.Side.SELL&&n.gt(r),tY=(e,t,n,r)=>t===tr.mr.Market&&e===tm.Side.BUY&&r.gt(n),tU=(e,t)=>{let n=t.toFixed(6),r=(0,th.parseUnits)(n,6),i=e.gt(0)&&r.gt(0)?((0,t$.divBN)(r,e)-1)*100:0;return i>0?i:0},tQ=(e,t)=>{let n=e7.O$.from(10).pow(6),r=e.mul(t).div(n),i=e.gt(e6._Y)&&r.gt(e6._Y)?((0,t$.divBN)(e,r)-1)*100:0;return i>0?i:0},tJ=()=>{let{orderType:e,priceUsdc:t,shares:n,sharesUsdc:r,side:i,selectedOutcomeIdx:o}=tM(),{activeMarket:l}=e3(),{getMarketOrderDetail:s}=(0,tA.C)(l,o),a=s(n,e,i),c=tU(r,a[1]),d=tQ(r,t),u="$".concat((0,tf._H)(a[1].toString())," (").concat((0,tf._H)(c.toString()),"%)"),p="$".concat((0,tf._H)((0,tf.Du)(r.toString()))," (").concat((0,tf._H)(d.toString()),"%)");return(0,T.jsx)(eh.kC,{css:{flexDirection:"column",rowGap:"0.25rem",width:"100%",backgroundColor:"#fff"},children:(0,T.jsx)(tz.zt,{children:e===tr.mr.Market?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(tB,{label:"Average price",isBlue:!0,children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsx)(tZ.Z,{value:(0,tf.G_)(a[0].toString(),2),title:(0,tf.G_)(a[0].toString(),2),suffix:"\xa2"})}),(0,T.jsx)(tI,{price:a[0].toString()})]})}),i===tm.Side.BUY?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(tB,{label:"Est. shares",children:(0,T.jsx)(tZ.Z,{value:(0,tf._H)(a[1].toString()),title:(0,tf._H)(a[1].toString())})}),(0,T.jsx)(tB,{label:"Potential return",children:(0,T.jsx)(tZ.Z,{value:u,title:u})})]}):(0,T.jsx)(tB,{label:"Est. amount received",children:(0,T.jsx)(tZ.Z,{value:(0,tf._H)((a[0]*a[1]).toString()),title:(0,tf._H)((a[0]*a[1]).toString()),prefix:"$"})})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(tB,{label:"Total",isBlue:!0,children:(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsx)(tZ.Z,{value:(0,tf._H)((0,tf.Du)(r.mul(t).div(e7.O$.from(10).pow(6)))),title:(0,tf._H)((0,tf.Du)(r.mul(t).div(e7.O$.from(10).pow(6)))),prefix:"$"})}),(0,T.jsx)(tI,{price:!Number.isNaN(t.toNumber())&&t?Number(t.toNumber()/1e6).toString():"0"})]})})}),i===tm.Side.BUY&&(0,T.jsx)(tB,{label:"Potential return",children:(0,T.jsx)(tZ.Z,{value:p,title:p})})]})})})};var tX=n(59210),tK=n(57277),t0=n(7350),t1=n(52936);let t2=(0,t_.zo)(t1.t,{}),t5=e=>{let{copy:t,withTermsLink:n,shouldLeftAlign:r}=e;return(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsxs)(ek.z,{css:{display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",height:"44px",padding:"0.8rem 1.5rem",borderRadius:"5px",fontSize:"$md",color:"$polyRed400",backgroundColor:"$polyRed50",cursor:"not-allowed","&:hover":{backgroundColor:"$polyRed50"}},children:[(0,T.jsx)(t2,{size:"20px"})," \xa0Unavailable"]})}),(0,T.jsx)(tz._v,{side:"top",align:"center",sideOffset:12,css:{borderRadius:"8px",padding:"1rem",mb:"4px",fontSize:"$sm",lineHeight:"$md","@notDesktop":{width:"calc(100vw - 2rem)"},"@laptops":{width:"calc(338px - 3rem)"}},children:n?(0,T.jsxs)(ew.xv,{css:{textAlign:r?"left":"center",color:"white"},children:[t," See our"," ",(0,T.jsx)(R(),{href:"/tos",passHref:!0,legacyBehavior:!0,children:(0,T.jsx)(ew.ee,{target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})}),"."]}):(0,T.jsx)(ew.xv,{css:{textAlign:r?"left":"center",color:"white"},children:t})})]})})};var t3=n(84754),t4=n(21267),t6=n(78904),t8=n(2936),t7=n(41935),t9=n(70917),ne=n(26601),nt=n(46513),nn=n(67245),nr=n(4960);let ni={checked:{pathLength:1,transition:{delay:.1,duration:.2}},unchecked:{pathLength:0}},no={checked:{strokeDashoffset:[-4,-4,-7.9,-7.9],opacity:[1,1,1,0],transition:{delay:.25,duration:.3,times:[0,0,.5,1]}},unchecked:{strokeDashoffset:0,opacity:0}},nl={checked:{strokeDashoffset:[-4,-4,-7.9,-7.9],opacity:[1,1,1,0],transition:{delay:.3,duration:.15,times:[0,0,.5,1]}},unchecked:{strokeDashoffset:0,opacity:0}},ns={checked:{scale:1,fill:"transparent",stroke:"transparent",transition:{duration:.15}},unchecked:{scale:1,fill:"transparent",stroke:"transparent"}},na=e=>{let{start:t}=e,n=(0,nr.c)(0);return(0,T.jsxs)(ep.E.svg,{initial:!1,animate:t?"checked":"unchecked",viewBox:"0 0 32 32",width:"28",height:"28",transform:"scale(2)",children:[(0,T.jsx)(ep.E.circle,{cx:"16",cy:"16",r:"7.5",animate:t?"checked":"unchecked",variants:ns}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"1 8",strokeDashoffset:"0",d:"M20 16H28M16 20V28M12 16H4M16 12V4",animate:t?"checked":"unchecked",variants:no}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"1 8",strokeDashoffset:"0",d:"M20 16H28M16 20V28M12 16H4M16 12V4",animate:t?"checked":"unchecked",variants:nl,transform:"rotate(45)",style:{transformOrigin:"center center"}}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M13 16l2 2 4-4",animate:t?"checked":"unchecked",variants:ni,style:{pathLength:n},custom:t})]})},nc={checked:{pathLength:1,transition:{delay:.1,duration:.2}},unchecked:{pathLength:0}},nd={checked:{strokeDashoffset:[-4,-4,-7.9,-7.9],opacity:[1,1,1,0],transition:{delay:.25,duration:.3,times:[0,0,.5,1]}},unchecked:{strokeDashoffset:0,opacity:0}},nu={checked:{strokeDashoffset:[-4,-4,-7.9,-7.9],opacity:[1,1,1,0],transition:{delay:.3,duration:.15,times:[0,0,.5,1]}},unchecked:{strokeDashoffset:0,opacity:0}},np={checked:{scale:1,fill:"transparent",stroke:"transparent",transition:{duration:.15}},unchecked:{scale:1,fill:"transparent",stroke:"transparent"}},nh=e=>{let{start:t}=e,n=(0,nr.c)(0);return(0,T.jsxs)(ep.E.svg,{initial:!1,animate:t?"checked":"unchecked",viewBox:"0 0 32 32",width:"28",height:"28",transform:"scale(2)",style:{paddingTop:"1px"},children:[(0,T.jsx)(ep.E.circle,{cx:"16",cy:"16",r:"7.5",animate:t?"checked":"unchecked",variants:np}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"1 8",strokeDashoffset:"0",d:"M20 16H28M16 20V28M12 16H4M16 12V4",animate:t?"checked":"unchecked",variants:nd}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"1 8",strokeDashoffset:"0",d:"M20 16H28M16 20V28M12 16H4M16 12V4",animate:t?"checked":"unchecked",variants:nu,transform:"rotate(45)",style:{transformOrigin:"center center"}}),(0,T.jsx)(ep.E.path,{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 12 L18 18 M18 12 L12 18",animate:t?"checked":"unchecked",variants:nc,style:{pathLength:n},custom:t})]})};function nm(){let e=(0,$.Z)(["\n    position: relative;\n    height: 44px;\n    width: 100%;\n    overflow: hidden;\n    cursor: pointer;\n"]);return nm=function(){return e},e}function nx(){let e=(0,$.Z)(["\n    position: absolute;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 100%;\n    line-height: 1.15;\n    margin: 0;\n    font-weight: 400;\n    padding: 0 1rem;\n    overflow: hidden;\n"]);return nx=function(){return e},e}function ng(){let e=(0,$.Z)(["\n    background: #b2b2b2;\n    color: #fff;\n    top: -100%;\n"]);return ng=function(){return e},e}function nf(){let e=(0,$.Z)(["\n    ",";\n\n    background: ",";\n    color: #fff;\n    z-index: 1;\n    top: 0;\n    cursor: ",";\n\n    :hover {\n        background: ",";\n    }\n"]);return nf=function(){return e},e}function nv(){let e=(0,$.Z)(["\n    ",";\n    ",";\n\n    z-index: 3;\n"]);return nv=function(){return e},e}function ny(){let e=(0,$.Z)(["\n    ",";\n    ",";\n    background: ",";\n\n    z-index: 4;\n"]);return ny=function(){return e},e}function nb(){let e=(0,$.Z)(["\n    ",";\n    ",";\n    background: ",";\n\n    z-index: 4;\n"]);return nb=function(){return e},e}(i=v||(v={}))[i.Success=1]="Success",i[i.SignatureError=2]="SignatureError",i[i.GeneralError=3]="GeneralError";let nj=e=>{let{restingCopy:t,hasError:n,hasClickedButton:r,setHasClickedButton:i,transaction:o,onSuccess:l,resetAfterSuccess:s=!0,confirmingCopy:a="Confirming Transaction"}=e,{setShowDeploySafeModal:c}=(0,t6.vR)(),{authenticationType:d,isSafeDeployed:u}=(0,eZ.ec)(),[p,h]=(0,I.useState)(!1),[m,x]=(0,I.useState)(!1),[g,f]=(0,I.useState)(!1),y=(0,nt._)(),b=(0,nt._)(),j=(0,nt._)(),k=(0,nt._)(),w=(0,nt._)(),C=(0,I.useCallback)(async()=>{await k.start({top:0,transition:{duration:.3}}),b.start({top:"-100%",transition:{duration:0}}),f(!0),h(!1),await y.start({top:0,zIndex:5,transition:{delay:5,duration:.3}}),k.start({top:"-100%",transition:{duration:0}}),f(!1)},[k,b,y]),S=(0,I.useCallback)(async()=>{await w.start({top:0,transition:{duration:.3}}),b.start({top:"-100%",transition:{duration:0}}),f(!0),await y.start({top:0,zIndex:5,transition:{delay:5,duration:.3}}),w.start({top:"-100%",transition:{duration:0}}),f(!1)},[w,b,y]),M=(0,I.useCallback)(async()=>{await j.start({top:0,transition:{duration:.3}}),b.start({top:"-100%",transition:{duration:0}}),x(!0),s&&(await y.start({top:0,zIndex:5,transition:{delay:2,duration:.3}}),j.start({top:"-100%",transition:{duration:0}}),x(!1))},[j,b,y,s]),_=(0,I.useCallback)(async()=>{if(o){y.start({zIndex:1}),await b.start({top:0,transition:{duration:.3}}),y.start({top:"-100%",transition:{duration:0}});let e=await o();e===v.Success?(await M(),l&&l()):e===v.SignatureError?await C():await S()}},[b,y,o,M,C,S,l]),Z=(0,I.useCallback)(async()=>{i(!0),n||(h(!0),await _(),h(!1))},[n,i,_]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(nk,{onClick(){if("eoa"===d&&!u){c(!0);return}p||Z()},children:[(0,T.jsx)(nS,{animate:y,whileHover:"hovered",disabled:r&&n,children:(0,T.jsx)(tX.Z,{sx:{lineHeight:1.15,mt:0,mb:0,fontSize:"14px"},children:t})}),(0,T.jsxs)(nM,{animate:b,children:[(0,T.jsx)(tX.Z,{sx:{marginRight:"0.25rem",lineHeight:1.15,mt:0,mb:0},children:a}),(0,T.jsx)(nn.Z,{color:"#fff",width:"28",height:"28"})]}),(0,T.jsxs)(n_,{animate:j,children:[(0,T.jsx)(tX.Z,{sx:{ml:"0.25rem",mr:"0.35rem",lineHeight:1.15,mt:0,mb:0},children:"Success"}),(0,T.jsx)(na,{start:m})]}),(0,T.jsxs)(nZ,{animate:k,children:[(0,T.jsx)(tX.Z,{sx:{ml:"0.25rem",mr:"0.35rem",lineHeight:1.15,mt:0,mb:0},children:"Signature Rejected"}),(0,T.jsx)(nh,{start:g})]}),(0,T.jsxs)(nZ,{animate:w,children:[(0,T.jsx)(tX.Z,{sx:{ml:"0.25rem",mr:"0.35rem",mt:0,mb:0,lineHeight:1.15},children:"Error"}),(0,T.jsx)(nh,{start:g})]})]})})},nk=(0,ne.Z)(ep.E.div)(nm()),nw=(0,t9.css)(nx()),nC=(0,t9.css)(ng()),nS=(0,ne.Z)(ep.E.div)(nf(),nw,e=>e.disabled?"#b2b2b2":q.Z.polyBlue,e=>e.disabled?"not-allowed":"pointer",e=>e.disabled?"#b2b2b2":q.Z.polyBlueHover),nM=(0,ne.Z)(ep.E.div)(nv(),nw,nC),n_=(0,ne.Z)(ep.E.div)(ny(),nw,nC,q.Z.polyGreen),nZ=(0,ne.Z)(ep.E.div)(nb(),nw,nC,q.Z.polyPink);var nz=n(53033),nL=n(52039),nT=n(89969),nD=n(80369),nP=n(18629),nE=n(85953);let nI=e=>{let{handleClose:t,secondsDelay:n=3}=e,[r,i]=(0,I.useState)(0),[o]=(0,I.useState)(()=>(0,nE.D2)(n)),l=(0,nP.Z)(()=>{i(e=>e+100/(o/300))},300);(0,I.useEffect)(()=>()=>l(),[l]);let s=()=>{l(),t()};return(0,T.jsx)(nz.Z,{open:!0,autoHideDuration:o,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,T.jsxs)(nT.Z,{onClose:s,severity:"warning",elevation:6,variant:"filled",children:[(0,T.jsx)(tX.Z,{sx:{color:"white",mb:1},children:"Your order has been delayed ".concat(n," seconds")}),(0,T.jsx)(nD.Z,{variant:"determinate",value:r,color:"warning"})]})})};var nA=n(80524),nB=n(52695),n$=n(32106);let nO=(0,I.createContext)({}),nR=e=>{let{children:t}=e,{activeMarket:n}=e3(),r=(0,t3.T6)(),{setApiErrorMessage:i}=(0,ta.Z)(),{shareBalances:o,refreshShareBalances:l,clobPositions:s}=function(e){var t,n,r;let i=(0,n$.ZP)(null!=e?e:{outcomes:[],conditionId:""}),{poolBalances:o}=(0,nB.Z)(i,null!==(t=null==e?void 0:e.marketMakerAddress)&&void 0!==t?t:"",!0,!1),{shareBalances:l,refreshShareBalances:s}=(0,nB.Z)(137===tn.B8.chainId?null!==(n=null==e?void 0:e.clobTokenIds)&&void 0!==n?n:[]:["1343197538147866997676250008839231694243646439454152539053893078719042421992","16678291189211314787145083999015737376658799626183230671758641503291735614088"],null!==(r=null==e?void 0:e.marketMakerAddress)&&void 0!==r?r:"",!1,!0),a=(0,I.useCallback)(async()=>{if(!e)return null;try{return await (0,nA.getSingleMarketSubgraphData)(e.marketMakerAddress)}catch(t){return console.log("e",t),null}},[e]),[c,d]=(0,I.useState)([]),[u,p]=(0,I.useState)(null);return(0,I.useEffect)(()=>{let t=l.some(e=>e.gt(e6._Y)),n=(null==u?void 0:u.conditions)&&Array.isArray(u.conditions)&&(null==u?void 0:u.conditions[0].payouts)!==null;if(t&&n&&e){let r=l.map((t,n)=>{var r;return{outcomeIndex:n.toString(),netQuantity:t.toString(),quantityBought:t.toString(),market:{id:e.id.toString(),outcomeTokenPrices:null!==(r=u.conditions[0].payouts)&&void 0!==r?r:e.outcomePrices,conditions:u.conditions}}});d(r)}},[l,o,e,u]),(0,I.useEffect)(()=>{a().then(e=>{p(e)})},[a,p]),{shareBalances:null!=l?l:[e6._Y],clobPositions:c,refreshShareBalances:s}}(n),[a,c]=(0,I.useState)(tr.MZ.Positions),[d,u]=(0,I.useState)(!1),[p,h]=(0,I.useState)(!1),[m,x]=(0,I.useState)(!1),[g,f]=(0,I.useState)(!1),v=(0,I.useRef)(""),y=(0,I.useRef)(q.Z.polyGreen),b=(0,I.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Z.polyPink,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];v.current=e,y.current=t,f(n)},[]),j=(0,I.useCallback)(()=>{b("",q.Z.polyGreen,!1),x(!0)},[b]),k=(0,I.useCallback)(async()=>{console.log("we are fetching USDC Balanace in ClobContext")},[]),w=(0,I.useCallback)(async e=>{var t,n,o;if(!r){console.log("cancelOrder NO CLOB");return}i(null);try{let l=await r.cancelOrder({orderID:e});if(l&&(null==l?void 0:null===(t=l.canceled)||void 0===t?void 0:t.includes(e)))await b("Order cancelled!",q.Z.polyGreen);else if(l&&l.not_canceled&&"string"==typeof(null==l?void 0:null===(n=l.not_canceled)||void 0===n?void 0:n[e])){let s=l.not_canceled[e];await b(s,q.Z.polyPink)}else await b("Error cancelling order (".concat(JSON.stringify(l),")"),q.Z.polyPink);return l}catch(a){console.log("cancelOrder",a),await i(JSON.stringify(a)),await b("Error cancelling order (".concat(null!==(o=null==a?void 0:a.message)&&void 0!==o?o:"unknown error",")"))}},[r,b,i]),C=(0,I.useMemo)(()=>({cancelOrder:w,clobPositions:s,detailState:a,executorPositionRefreshRequired:d,fetchUSDCBalance:k,lopPositionsRefreshRequired:p,refreshShareBalances:l,setDetailState:c,setExecutorPositionRefreshRequired:u,setIsDelayedSnackbarOpen:x,setLopPositionsRefreshRequired:h,setToast:b,shareBalances:o,triggerDelayToast:j}),[w,s,a,d,k,p,l,c,u,x,h,b,o,j]);return(0,T.jsx)(nO.Provider,{value:C,children:(0,T.jsxs)(T.Fragment,{children:[t,(0,T.jsx)(nz.Z,{open:g,autoHideDuration:5e3,onClose(){f(!1),v.current=""},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,T.jsx)(nL.Z,{in:!0,children:(0,T.jsx)("div",{children:(0,T.jsx)(nT.Z,{onClose(){f(!1),v.current=""},severity:y.current===q.Z.polyGreen?"success":"error",elevation:6,variant:"filled",sx:{backgroundColor:y.current,maxWidth:"400px",maxHeight:"100px"},children:(0,T.jsx)(T.Fragment,{children:v.current})})})})}),m?(0,T.jsx)(nI,{handleClose:()=>x(!1),secondsDelay:null==n?void 0:n.secondsDelay}):null]})})},nN=()=>(0,I.useContext)(nO);var nF=n(17821),nH=n(23981),nW=n(80703);let nq=async(e,t)=>{let[n,r,i,{params:o}]=e.queryKey;if(!t||!o.market)return[];try{let l=await t.getTrades({...o});if(Array.isArray(l))return l;return[]}catch(s){return console.log("getTradeHistoryFetcher error",s),[]}},nV=(e,t,n)=>{if(!Array.isArray(e)||!Array.isArray(t)||!n)return[];let r=(0,nH.rL)(e,n).filter(nH.Hn).map(e=>(0,nH.cQ)(e,!0)),i=t.filter(nH.Hn).map(e=>(0,nH.cQ)(e,!1));return[...r,...i].sort((e,t)=>Number(t.timestamp)-Number(e.timestamp))};function nG(){var e,t,n;let{tradesMutation:r}=(0,nW.d)(),{activeMarket:i}=e3(),o=(0,t3.T6)(),{proxyAddress:l}=(0,eZ.ec)(),s=(0,A.useQueryClient)(),a=(0,I.useMemo)(()=>{var e;return"string"==typeof l&&l!==e4.d&&"string"==typeof(null==o?void 0:null===(e=o.creds)||void 0===e?void 0:e.key)&&"string"==typeof(null==i?void 0:i.conditionId)},[l,i,o]),{data:c,refetch:d}=(0,A.useQuery)(nF.a["/trade-history"].proxyAndParams(l,(0,nH.Ls)(i.conditionId,l,"maker")),e=>nq(e,o),{enabled:a}),{data:u,refetch:p}=(0,A.useQuery)(nF.a["/trade-history"].proxyAndParams(l,(0,nH.Ls)(i.conditionId,l,"taker")),e=>nq(e,o),{enabled:a}),h=(0,I.useMemo)(()=>{var e;return nV(c,u,null!==(n=null==o?void 0:null===(e=o.creds)||void 0===e?void 0:e.key)&&void 0!==n?n:"")},[null==c?void 0:c.length,null==u?void 0:u.length,null==o?void 0:null===(e=o.creds)||void 0===e?void 0:e.key]),m=(0,I.useCallback)(()=>s.invalidateQueries([nF.a["/trade-history"]]),[s]),x=(0,I.useCallback)(async()=>{var e,t;let[n,r]=await Promise.all([d(),p()]);return(null==n?void 0:n.data)&&(null==r?void 0:r.data)&&(null==o?void 0:null===(e=o.creds)||void 0===e?void 0:e.key)?nV(n.data,r.data,null==o?void 0:null===(t=o.creds)||void 0===t?void 0:t.key):[]},[null==o?void 0:null===(t=o.creds)||void 0===t?void 0:t.key]);return{filledOrders:h,refreshFilledOrders:m,refetchFilledOrders:x,tradesMutation:r}}var nY=n(71099),nU=n(45124);let nQ=e=>new Promise(t=>setTimeout(t,e)),nJ=()=>{let{activeMarket:e}=e3(),{selectedOutcome:t,selectedOutcomeIdx:n,orderType:r,shares:i,priceUsdc:o,side:l,slippageTolerance:s}=tM(),{setToast:a,triggerDelayToast:c,setIsDelayedSnackbarOpen:d}=nN(),{setApiErrorMessage:u,clob:p}=(0,t3.dw)(),{calculateWorstPrice:h}=(0,tA.C)(e,n),{connector:m}=(0,te.mA)(),{refetchUserOpenOrders:x}=(0,nY.Z)(),{refetchFilledOrders:g}=nG(),f=(0,P.useRouter)(),{slug:y}=f.query,{hasFetchedLocation:b,isRestrictedLocation:j}=(0,t4.q0)(),k=(0,I.useCallback)(async()=>{var x;if(u(null),!m)return console.log("createOrder NO CONNECTOR"),v.GeneralError;if("string"!=typeof t)return console.log("createOrder OUTCOME IS NOT STRING"),v.GeneralError;if(!e.clobTokenIds)return console.log("createOrder NO MARKET"),v.GeneralError;if(console.log("clob",p),!p||!(null==p?void 0:null===(x=p.creds)||void 0===x?void 0:x.key))return console.log("createOrder NO CLOB"),v.GeneralError;if(!b)return console.log("createOrder HAS NOT FETCHED LOCATION YET"),v.GeneralError;let f=await (null==m?void 0:m.getSigner({chainId:137}));if(!f)return console.log("createOrder NO SIGNER"),v.GeneralError;try{let k;let w=parseFloat((0,tf.Du)(o)),C=parseFloat(i),S=e.clobTokenIds[n];console.log("useCreateOrder submitting order",{connector:m,selectedOutcomeIdx:n,selectedOutcome:t,activeMarket:e,clob:p,signer:f,priceNum:w,sharesNum:C});let M=(0,nE.Wu)(y,b&&j),_=h(i,s,l);if(r===tr.mr.Market&&l===tm.Side.BUY){let Z={amount:C,tokenID:S,feeRateBps:0,price:(0,nU.Dm)(_,e.orderPriceMinTickSize)},z=await p.createMarketBuyOrder(Z);console.log("order payload - market buy: ",Z),console.log("order:",z),k=await p.postOrder(z,tm.OrderType.FOK,M)}else{let L;r===tr.mr.Market&&l===tm.Side.SELL?(L={tokenID:S,side:l,size:C,price:_},console.log("order payload - market sell: ",L)):(L={tokenID:S,side:l,size:C,price:w},console.log("order payload - limit: ",L));let T=await p.createOrder(L);console.log("order:",T),k=await p.postOrder(T,tm.OrderType.GTC,M)}if(console.log("resp:",k),"delayed"===k.status&&(null==e?void 0:e.secondsDelay)&&Number(e.secondsDelay)>0&&(null==k?void 0:k.orderID)!==""){c();let D=(0,nE.D2)(e.secondsDelay);return nQ(D+1e3).then(()=>g().then(e=>{var t;let n=null!==(t=null==e?void 0:e.find(e=>{var t,n;return(null==e?void 0:null===(t=e.orderID)||void 0===t?void 0:t.toLowerCase())===(null==k?void 0:null===(n=k.orderID)||void 0===n?void 0:n.toLowerCase())}))&&void 0!==t&&t;return d(!1),n?v.Success:v.GeneralError}))}if("live"===k.status||"matched"===k.status)return a("".concat(r," order created!"),q.Z.polyGreen),v.Success;if("string"==typeof(null==k?void 0:k.error))return a(k.error),v.GeneralError;if("object"==typeof(null==k?void 0:k.error)&&Object.keys(null==k?void 0:k.error).length)return a(JSON.stringify(k.error)),v.GeneralError;return a("Error. Please Try Again"),v.GeneralError}catch(E){console.log("createOrder catch",E);let P=(null==E?void 0:E.message.includes("MetaMask Message Signature: User denied message signature"))?"Signature rejected":"Unknown error";return a("Error creating ".concat(null==r?void 0:r.toLowerCase()," order (").concat(P,")")),v.GeneralError}},[e,h,p,m,b,j,r,o,g,t,n,u,d,a,i,l,s,y,c]);return k};var nX=n(79370),nK=n(67097);let n0=e=>e.slice(0,6),n1=(e,t)=>"Error creating ".concat(null==t?void 0:t.toLowerCase()," ").concat(e.side," order ").concat(n0(e.id)," for $").concat(e.size,". Please try again");var n2=n(11306);let n5=()=>{let{activeMarket:e}=e3(),{orderType:t,priceUsdc:n,price:r,selectedOutcomeIdx:i,shares:o,sharesUsdc:l,side:s}=tM(),a=(0,n$.ZP)(e),{shareBalances:c}=(0,nB.Z)(80001===tn.B8.chainId?ej.mk.clobTokenIds:a,e.marketMakerAddress),{proxyUsdcBalance:d}=(0,n2.Z)(),[u,p]=(0,I.useState)(!0),[h,m]=(0,I.useState)(null),{bidsSize:x,asksValue:g,bestAsk:f}=(0,tA.C)(e,i),{userOpenSellsSizeMap:v,userOpenBidsValue:y}=(0,nY.Z)(e.clobTokenIds),b=(0,I.useMemo)(()=>{let e=tF(y,d,n);return e},[y,n,d]),j=(0,I.useMemo)(()=>{var n,r,o,l;let s=null!==(r=null===(n=e.clobTokenIds)||void 0===n?void 0:n[i])&&void 0!==r?r:"",a=null!==(o=null==v?void 0:v[s])&&void 0!==o?o:e6._Y,d=null!==(l=null==c?void 0:c[i])&&void 0!==l?l:e6._Y,u=tW(t,a,d);return u},[v,i,c,t,e.clobTokenIds]),k=null!=d?d:e6._Y;return(0,I.useEffect)(()=>{var i;let a=(0,th.parseUnits)(t===tr.mr.AMM?"0":null!==(i=e.orderMinSize.toString())&&void 0!==i?i:"15",tn.p8);tO(t,a,l)?(p(!0),m("Minimum share size is ".concat((0,th.formatUnits)(a,tn.p8),"!"))):tV(s,t,l,g)?(p(!0),m("Attempting to buy more shares than offered! Alternatively, you may place a limit order")):tG(s,t,l,x)?(p(!0),m("Attempting to sell more shares than offered! Alternatively, you may place a limit order")):tq(s,j,l)?(p(!0),m("Sell order would exceed your share balance!")):tH(s,t,b,l)?(p(!0),m("Limit Buy would exceed your balance considering your open orders")):tY(s,t,k,l)?(p(!0),m("Market buy would exceed your balance!")):tR(o,l)?(p(!0),(t===tr.mr.Market||t===tr.mr.AMM)&&s===tm.Side.BUY?m("Please enter a valid USDC amount."):m("Please enter a valid share quantity.")):tN(t,r,n)?(p(!0),m("Please enter a valid price.")):(p(!1),m(null))},[g,x,b,e.orderMinSize,t,n,o,l,s,r,j,d,f,k]),{isOrderInvalid:u,orderErrorMessage:h,limitBuyMax:b,sellMax:j,marketBuyMax:k}};var n3=n(6992);let n4=e=>{var t;return null!==e&&"string"!=typeof(null==e?void 0:null===(t=e.creds)||void 0===t?void 0:t.key)},n6=(0,t_.zo)(nX.K,{height:"44px",fontFamily:"$sauce500"}),n8=()=>{let{switchNetworkAsync:e}=(0,te.g0)(),{chain:t}=(0,te.LN)(),{activeMarket:n}=e3(),{side:r,setShares:i,handleResetPriceState:o}=tM(),{hasTouchedAllFields:l,setHasTouchedPrice:s,setHasTouchedShares:a}=tM(),{allowanceErrorMsg:c,allowanceState:d,areAllAllowancesApproved:u,hasLoadedAllowances:p,isUpdatingAllowances:h,loadAllowanceMap:m,triggerAllApprovals:x}=tu(),{clob:g,apiErrorMessage:f}=(0,t3.dw)(),y=nJ(),{isOrderInvalid:b,orderErrorMessage:j}=n5(),k=(0,P.useRouter)(),{slug:w}=k.query,{hasFetchedLocation:C,isRestrictedLocation:S}=(0,t4.q0)(),{setShowConnectModal:M}=(0,t6.vR)(),{authenticated:_,authenticationType:Z}=(0,eZ.ec)();!function(){let{orderType:e}=tM(),{setToast:t}=nN(),[n,r]=(0,I.useState)(null),[i,o]=(0,I.useState)({});(0,I.useEffect)(()=>{if(null!==n&&n.data){let r=JSON.parse(n.data);if(r&&"order_error"===r.type){console.log("useOrderDelay order_error event",r);let l=(0,nK.jK)(r);console.log("useOrderDelay order_error wsMapKey",l),i[l]||(o(e=>({...e,[l]:!0})),t(n1(r,e),q.Z.polyPink,!0))}}},[n,i,t,e])}();let[z,L]=(0,I.useState)(!1),[D,E]=(0,I.useState)(!1),[A,B]=(0,I.useState)(!1),$=(0,I.useCallback)(()=>{i(""),o(),s(!1),a(!1),E(!1)},[i,s,a,o]),O=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:137;try{B(!0);let n=await (null==e?void 0:e(t));(null==n?void 0:n.id)===t&&(await m(),B(!1))}catch(r){B(!1),(0,t7.S3)("Error handling network change",r)}},R=(0,I.useCallback)(async()=>{if(D||E(!0),!b)try{L(!0);let e=await y();return $(),e}catch(t){console.log("err",t)}finally{L(!1)}return v.GeneralError},[y,b,D,$]),N=l||D;return _?C&&S&&(0,nE.G_)(w)?(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0}):"eoa"===Z&&A?(0,T.jsx)(n6,{sx:{backgroundColor:"#b2b2b2"},disabled:!0,children:(0,T.jsx)(tK.Z,{size:16,color:"inherit"})}):"eoa"===Z&&(!t||t.id&&tn.B8.chainId!==t.id)?(0,T.jsx)(n6,{onClick:()=>O(tn.B8.chainId),children:"Switch to ".concat(80001===tn.B8.chainId?"Mumbai":"Polygon")}):"eoa"===Z&&null===g||n4(g)?(0,T.jsx)(n3.Z,{}):!n.enableOrderBook||C&&g&&p&&("magic"!==Z||u)?!u||h?(0,T.jsxs)(t0.Z,{sx:{borderRadius:"5px"},children:[(0,T.jsxs)(t0.Z,{sx:{display:"flex"},children:[d===tr.K1.Default?(0,T.jsx)(n6,{onClick:()=>x(!1),sx:{mr:.5,fontSize:"14px"},children:"Approve"}):null,d===tr.K1.Pending?(0,T.jsx)(n6,{sx:{mr:.5,backgroundColor:"#C5D4FB",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,T.jsx)(tK.Z,{size:14})}):null,d===tr.K1.Success?(0,T.jsx)(n6,{sx:{mr:.5,fontSize:"14px",color:"#05B16A",backgroundColor:"#E2F4EC"},children:"Success"}):null,(0,T.jsx)(n6,{sx:{backgroundColor:"#b2b2b2",ml:.5,fontSize:"14px"},disabled:!0,children:r===tm.Side.BUY?"Buy":"Sell"})]}),c?(0,T.jsx)(tX.Z,{color:"#E23939",fontSize:12,sx:{whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",maxHeight:"54px"},children:c}):null]}):(0,T.jsxs)(t0.Z,{children:[(0,T.jsx)(nj,{restingCopy:r===tm.Side.BUY?"Buy":"Sell",hasError:z||b,hasClickedButton:N,setHasClickedButton:E,transaction:R,confirmingCopy:"Confirming Order"}),N&&(f||j)||c?(0,T.jsx)(tX.Z,{color:"#E23939",fontSize:12,sx:{whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",maxHeight:"54px"},children:f||c||j}):null]}):(0,T.jsx)(n6,{sx:{backgroundColor:"#b2b2b2"},disabled:!0,children:(0,T.jsx)(tK.Z,{size:16,color:"inherit"})}):(0,T.jsx)(n6,{onClick:()=>M(!0),children:"Log In"})};var n7=n(38679),n9=n(62881),re=n(58497),rt=n(94604),rn=n(36356),rr=n(82843),ri=n(3930),ro=n(69637),rl=n(82750),rs=function(e){var t;let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{chain:r,chains:i}=(0,te.LN)(),o=(0,I.useMemo)(()=>e.markets.map(e=>({marketMakerAddress:e.marketMakerAddress,poolPositionIds:(0,n$.O3)(e)})),[e]),l={address:tn.b6,abi:rl,functionName:"balanceOfBatch",chainId:(null==r?void 0:r.id)&&(null==r?void 0:r.id)===(null===(t=i[tn.z_.mumbai])||void 0===t?void 0:t.id)?80001:137},s=o.map(e=>({...l,args:[e.poolPositionIds.map(()=>e.marketMakerAddress),e.poolPositionIds]})),[a,c]=(0,I.useState)(!1),{data:d,refetch:u,isLoading:p,isFetching:h,isError:m}=(0,te.Dm)({contracts:s,enabled:n&&s.length>0,cacheOnBlock:a,onError(e){console.log("useChainPricesBatched err",e)}}),x=(0,I.useCallback)(()=>{c(!0)},[c]),{priceMap:g,poolBalanceMap:f}=(0,I.useMemo)(()=>{let e={},t={};return d&&o.length&&o.forEach((n,r)=>{if(Array.isArray(null==d?void 0:d[r])){let i=n.marketMakerAddress,o=d[r],l=(0,t$.calcPrice)([...o]).map(e=>e.toString());t[i],t[i]=[...o],e[i],e[i]=[...l]}}),{priceMap:e,poolBalanceMap:t}},[d,o]);return{arePoolValuesFetching:h,arePoolValuesLoading:p,doesPoolValuesHaveError:m,listenForPoolUpdate:x,poolBalancesMap:f,poolPricesMap:g,refetchPoolPrices:u}},ra=n(31270),rc=function(e){var t;let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],[o,l]=(0,I.useState)(!1),{chain:s,chains:a}=(0,te.LN)(),{authenticated:c,proxyAddress:d}=(0,eZ.ec)(),{data:u,refetch:p}=(0,te.do)({address:e,abi:ra,functionName:"balanceOf",args:[null!=d?d:e4.d],chainId:(null==s?void 0:s.id)&&(null==s?void 0:s.id)===(null===(t=a[tn.z_.mumbai])||void 0===t?void 0:t.id)?80001:137,enabled:n&&c&&!!d,cacheTime:3e5,staleTime:3e5,watch:i,cacheOnBlock:r,onError(e){o&&(0,t7.S3)(e,"usePositionsBalance > shareData",d)}});(0,ro.Z)(()=>{l(!0)},1e3);let h=(0,I.useMemo)(()=>u||e6._Y,[u]);return{liquidityShares:h,refreshLiquidityShares:p}},rd=n(20480);let ru=e=>{var t;let{liquidityPositions:n,refreshLiquidityPositions:r,areLiquidityPositionsLoading:i}=(0,rd.Z)(),o=(0,I.useMemo)(()=>null!==(t=null==n?void 0:n.find(t=>t.pool.id.toLowerCase()===e.toLowerCase()))&&void 0!==t?t:null,[e,n]);return{liquidityPosition:o,refreshLiquidityPosition:r,areLiquidityPositionsLoading:i}},rp=e=>{var t;let{marketPositions:n,refreshMarketPositions:r,areMarketPositionsLoading:i}=(0,rd.Z)(),o=(0,I.useMemo)(()=>null!==(t=null==n?void 0:n.filter(t=>t.market.id.toLowerCase()===e.toLowerCase()))&&void 0!==t?t:[],[e,n]);return{marketPositions:o,refreshMarketPositions:r,areMarketPositionsLoading:i}};var rh=n(98174),rm=n(40029),rx=n(24185);let rg=(0,I.createContext)({}),rf=e=>{let{children:t}=e,{activeMarket:n,event:r}=e3(),{refreshMarketPositions:i,refreshLiquidityPositions:o}=(0,rd.Z)(),{refetchProxyUsdcBalance:l}=(0,n2.Z)(),{transactions:s}=(0,rx.HT)(),{data:a}=(0,rh.Z)(n),c=(0,n$.ZP)(n),{poolBalances:d,shareBalances:u,refreshPoolBalances:p,refreshShareBalances:h}=(0,nB.Z)(c,n.marketMakerAddress),{marketPositions:m,refreshMarketPositions:x}=rp(n.marketMakerAddress),g=(0,I.useMemo)(()=>u.some(e=>e.gt(e6._Y))&&d.some(e=>e.gt(e6._Y))?u.map((e,t)=>({outcomeIndex:t.toString(),netQuantity:e.toString(),quantityBought:e.toString(),market:{id:n.id.toString(),outcomeTokenPrices:(0,t$.calcPrice)(d).map(e=>e.toString()),conditions:[]}})):[],[u,d,n]),{poolPricesMap:f,poolBalancesMap:v,refetchPoolPrices:y,listenForPoolUpdate:b,arePoolValuesLoading:j}=rs(r),k=(0,I.useMemo)(()=>{var e;return null!==(e=null==f?void 0:f[n.marketMakerAddress])&&void 0!==e?e:["0","0"]},[null==n?void 0:n.marketMakerAddress,f]),w=(0,I.useMemo)(()=>{var e;return null!==(e=null==v?void 0:v[n.marketMakerAddress])&&void 0!==e?e:[e6._Y,e6._Y]},[null==n?void 0:n.marketMakerAddress,v]),{liquidityPosition:C,refreshLiquidityPosition:S}=ru(n.marketMakerAddress),{liquidityShares:M,refreshLiquidityShares:_}=rc(n.marketMakerAddress),[Z,z]=(0,I.useState)(null),[L,D]=(0,I.useState)(null),P=(0,I.useCallback)(async()=>{try{return await (0,nA.getSingleMarketSubgraphData)(n.marketMakerAddress)}catch(e){return(0,t7.S3)(e,"getSingleMarketSubgraphData","",t7.ll.GRAPHQL),null}},[n.marketMakerAddress]),E=(0,I.useCallback)(async()=>{try{let e=await (0,nA.getSingleMarketSubgraphPrices)(n.marketMakerAddress);return e}catch(t){return(0,t7.S3)(t,"getSingleMarketSubgraphPrices","",t7.ll.GRAPHQL),null}},[n.marketMakerAddress]),A=(0,I.useMemo)(()=>{let e=d.every(e=>e.eq(e6._Y));return e?e&&L&&L.outcomeTokenPrices?L.outcomeTokenPrices:n.outcomePrices:(0,t$.calcPrice)(d).map(e=>e.toString())},[d,L,n]),B=(0,I.useMemo)(()=>{var e;let{conditions:t,scaledCollateralVolume:r,scaledLiquidityParameter:i}=Z||{},o=t?t[0].payouts:null;return{...n,closed:null!==o,outcomePrices:o||A,volume:r||n.volume,liquidity:i||n.liquidity,...(null===(e=n.events)||void 0===e?void 0:e.length)&&{marketGroupSlug:n.events[0].slug}}},[Z,n,A]);(0,I.useEffect)(()=>{let e=async()=>{z(await P()),D(await E())};e()},[P]);let $=(0,I.useCallback)(async()=>{let e=(0,rm.K)(tn.Zc.Matic),t=await e.getBlockNumber(),n=0,{tries:r,startMs:s,pow:a,maxMs:c,jitter:d}={tries:6,startMs:500,pow:3,maxMs:3e5,jitter:.25};for(;n<r;){n+=1;let u=await (0,nA.getLastIndexedBlockNumber)();if(u>=t){await Promise.all([p(),h(),x(),S(),z(await P()),D(await E()),_(),i(),o(),l()]);break}let m=Math.min(c,s*n**a);await new Promise(e=>setTimeout(e,m-Math.random()*m*d))}},[P,E,S,_,x,p,h,i,o,l]),O=(0,I.useCallback)(async()=>{await Promise.all([p(),h(),x(),S(),z(await P()),_(),i(),o(),l()])},[p,h,x,S,_,P,i,o,l]),R=(0,I.useCallback)(async()=>{D(await E()),p()},[E,p]);(0,nP.Z)(async()=>{z(await P())},1e4);let[N,F]=(0,I.useState)(3e5),[H,W]=(0,I.useState)(3e5),q=(0,ri.Z)(H),V=(0,nP.Z)(async()=>{await O()},N);(0,ro.Z)(()=>{V(),F(3e5),W(3e5)},H),(0,I.useEffect)(()=>{s.length&&(F(5e3),q.current>=3e5?W(3e4):W(q.current+1))},[F,W,q,s]);let G=(0,I.useMemo)(()=>e7.O$.from((null==Z?void 0:Z.totalSupply)||0),[Z]),Y=(0,I.useMemo)(()=>({market:B,prices:A,positionIds:c,poolBalances:d,shareBalances:u,marketPositions:m,marketPositionsFromChain:g,liquidityPosition:C,refreshMarket:O,refreshMarketWithRetries:$,refreshPrices:R,poolShareSupply:G,liquidityShares:M,allLineChartData:a,poolPricesMap:f,poolBalancesMap:v,poolPricesMarket:k,refetchPoolPrices:y,listenForPoolUpdate:b,poolBalancesMarket:w,arePoolValuesLoading:j}),[B,A,c,d,u,m,g,C,O,$,R,G,M,a,k,w,v,f,y,b,j]);return(0,T.jsx)(rg.Provider,{value:Y,children:t})},rv=()=>(0,I.useContext)(rg),ry=()=>rv().market,rb=()=>rv().prices,rj=()=>rv().positionIds,rk=()=>rv().shareBalances,rw=()=>rv().refreshMarket,rC=()=>rv().refreshPrices,rS=()=>rv().liquidityShares;var rM=n(62687),r_=n(44718),rZ=n.n(r_),rz=n(10252),rL=n.n(rz),rT=n(45772),rD=n.n(rT),rP=n(99398),rE=n.n(rP),rI=n(45114);function rA(){let e=(0,$.Z)(["\n    color: "," !important;\n    margin: 0 0 0.25rem 0 !important;\n\n    a {\n        color: "," !important;\n    }\n"]);return rA=function(){return e},e}let rB=e=>{let{checked:t,setChecked:n,additionalPrint:r}=e;return(0,T.jsxs)("label",{htmlFor:"confirm",className:rE().finePrint,onClick:()=>n(!t),children:[(0,T.jsx)(rI.Z,{borderRadius:3,isChecked:t,onChange:()=>n(!t)}),(0,T.jsxs)("span",{children:[Date.now()/1e3<t8.Tl&&(0,T.jsxs)(r$,{children:["The"," ",(0,T.jsx)("a",{href:"/tos",target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," ","have been updated. Please re-read."]}),"By using Polymarket you are agreeing to our"," ",(0,T.jsx)("a",{href:"/tos",target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," ","and"," ",(0,T.jsx)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),r]})]})},r$=N.ZP.span(rA(),q.Z.red,q.Z.red);var rO=n(16265),rR=n.n(rO);let rN=e=>{let{label:t,input:n,containerClassName:r,textClassName:i}=e;return(0,T.jsxs)("div",{className:"".concat(rR().container," ").concat(r),children:[(0,T.jsx)("div",{className:"".concat(rR().text," ").concat(i),children:t}),(0,T.jsx)("div",{className:"".concat(rR().text," ").concat(i),children:n})]})};var rF=n(27395),rH=n(45918),rW=n.n(rH),rq=n(98381);function rV(){let e=(0,$.Z)(["\n    position: relative;\n    width: 495px;\n    height: 340px;\n    display: grid;\n    place-items: center center;\n"]);return rV=function(){return e},e}function rG(){let e=(0,$.Z)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n"]);return rG=function(){return e},e}function rY(){let e=(0,$.Z)(["\n    position: absolute;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    border-radius: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.3rem;\n    background: white;\n"]);return rY=function(){return e},e}function rU(){let e=(0,$.Z)(["\n    ",";\n    z-index: 1;\n    opacity: 1;\n"]);return rU=function(){return e},e}function rQ(){let e=(0,$.Z)(["\n    ",";\n    flex-direction: column;\n    z-index: 2;\n    opacity: 0;\n"]);return rQ=function(){return e},e}function rJ(){let e=(0,$.Z)(["\n    position: absolute;\n    bottom: 15%;\n    font-size: 22px;\n"]);return rJ=function(){return e},e}function rX(){let e=(0,$.Z)(["\n    ",";\n    z-index: 5;\n    opacity: 0;\n"]);return rX=function(){return e},e}function rK(){let e=(0,$.Z)(["\n    cursor: pointer;\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    z-index: 7;\n"]);return rK=function(){return e},e}function r0(){let e=(0,$.Z)(["\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n    opacity: 0;\n    display: none;\n    height: 100%;\n    height: 50%;\n    bottom: 10px;\n    padding: 1.5rem 2rem;\n\n    h2 {\n        font-size: 22px;\n        margin-bottom: 0;\n    }\n\n    p {\n        font-size: 16px;\n        color: ",";\n        ",";\n    }\n\n    @media (max-width: 450px) {\n        padding: 0.5rem 2rem;\n    }\n"]);return r0=function(){return e},e}function r1(){let e=(0,$.Z)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n"]);return r1=function(){return e},e}function r2(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    width: 100%;\n"]);return r2=function(){return e},e}function r5(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    width: 100%;\n    opacity: 0;\n"]);return r5=function(){return e},e}function r3(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    width: 100%;\n    opacity: 0;\n"]);return r3=function(){return e},e}function r4(){let e=(0,$.Z)(["\n    ",";\n    transform: translate(-20%, -150%);\n\n    @media (max-width: 450px) {\n        transform: translate(-25%, -100%);\n    }\n"]);return r4=function(){return e},e}function r6(){let e=(0,$.Z)(["\n    ",";\n    transform: translate(20%, 150%);\n\n    @media (max-width: 450px) {\n        transform: translate(25%, 100%);\n    }\n"]);return r6=function(){return e},e}function r8(){let e=(0,$.Z)(["\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    background-color: ",";\n    border-radius: 50%;\n"]);return r8=function(){return e},e}function r7(){let e=(0,$.Z)(["\n    ",";\n    transform: translate(-90px, -15px);\n\n    @media (max-width: 450px) {\n        transform: translate(-78px, -3px);\n    }\n"]);return r7=function(){return e},e}function r9(){let e=(0,$.Z)(["\n    ",";\n    transform: translate(-72px, -60px);\n\n    @media (max-width: 450px) {\n        transform: translate(-60px, -48px);\n    }\n"]);return r9=function(){return e},e}function ie(){let e=(0,$.Z)(["\n    ",";\n\n    transform: translate(90px, 15px);\n\n    @media (max-width: 450px) {\n        transform: translate(78px, 3px);\n    }\n"]);return ie=function(){return e},e}function it(){let e=(0,$.Z)(["\n    ",";\n\n    transform: translate(72px, 60px);\n\n    @media (max-width: 450px) {\n        transform: translate(60px, 48px);\n    }\n"]);return it=function(){return e},e}function ir(){let e=(0,$.Z)(["\n    border: 10px solid rgba(66, 199, 114, 0.2);\n    border-radius: 50%;\n"]);return ir=function(){return e},e}function ii(){let e=(0,$.Z)(["\n    width: 30px;\n    height: 30px;\n    color: ",";\n    stroke: ",";\n    fill: ",";\n"]);return ii=function(){return e},e}function io(){let e=(0,$.Z)(["\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 3px;\n    background: ",";\n    bottom: 0;\n    opacity: 0;\n    border: 1px solid ",";\n"]);return io=function(){return e},e}function il(){let e=(0,$.Z)(["\n    && {\n        background-color: #1652f0;\n        border: 0px solid transparent;\n        border-radius: 5px;\n        color: white;\n        cursor: pointer;\n        display: inline-block;\n        font-family: OpenSauceSansRegular;\n        font-size: 75%;\n        margin-top: 0.75rem;\n        padding: 0.5rem 0;\n        width: 100%;\n\n        :hover {\n            opacity: 90%;\n        }\n    }\n"]);return il=function(){return e},e}let is=e=>{let{onCheckoutComplete:t}=e,n=(0,nt._)(),r=(0,nt._)(),i=(0,nt._)(),o=(0,nt._)(),l=(0,nt._)(),s=(0,nt._)(),a=(0,nt._)(),c=(0,nt._)(),d=(0,nt._)(),u=(0,nt._)(),p=(0,nt._)(),h=(0,nt._)(),m=(0,nt._)(),x=(0,nt._)(),g=async()=>{n.start({zIndex:1}),await r.start({opacity:1,transition:{duration:.05}}),i.start({opacity:1,transition:{duration:.05}}),i.start({pathLength:1,transition:{delay:.05,duration:1.5,ease:"linear"}}),r.start({opacity:0,transition:{delay:1.55,duration:.2}}),await x.start({opacity:1,transition:{delay:1.5}}),s.start({opacity:1,transition:{duration:.3}}),c.start({opacity:.8,transition:{delay:1,duration:.25,ease:"easeIn"}}),d.start({opacity:.8,transition:{delay:1,duration:.25,ease:"easeIn"}}),p.start({opacity:.4,transition:{delay:1,duration:.25,ease:"easeIn"}}),u.start({opacity:.4,transition:{delay:1,duration:.25,ease:"easeIn"}}),m.start({opacity:.4,transition:{delay:1,duration:.25,ease:"easeIn"}}),h.start({opacity:.4,transition:{delay:1,duration:.25,ease:"easeIn"}}),await s.start({scale:.65,transition:{delay:.3,duration:.2}}),await s.start({top:"70px",transition:{delay:.25,duration:.2}}),await l.start({opacity:1,display:"flex",transition:{delay:.25,duration:.2}}),c.start({opacity:[.6,.4,.6,.8],transition:{times:[.6,1.2,1.8,2.4],repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),d.start({opacity:[.6,.4,.6,.8],transition:{times:[.6,1.2,1.8,2.4],repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),a.start({opacity:1}),await a.start({width:"0",transition:{delay:.05,duration:5,ease:"linear"}}),t()};return(0,I.useEffect)(()=>{let e=async()=>{await g()};e()},[]),(0,T.jsx)(ic,{children:(0,T.jsxs)(id,{children:[(0,T.jsx)(ip,{animate:n}),(0,T.jsxs)(ih,{animate:r,children:[(0,T.jsx)("svg",{viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",style:{position:"absolute",top:"25%"},children:(0,T.jsx)(ep.E.path,{d:"M 50, 50 m -35, 0 a 35,35 0 1,0 70,0 a 35,35 0 1,0 -70,0",strokeWidth:"6",stroke:q.Z.opaquePolyBlue,strokeOpacity:"1",fill:"transparent"})}),(0,T.jsx)("svg",{viewBox:"0 0 100 100",width:"100",height:"100",style:{position:"absolute",overflow:"visible",top:"25%"},children:(0,T.jsx)(ep.E.path,{d:"M 50, 50 m -35, 0 a 35,35 0 1,0 70,0 a 35,35 0 1,0 -70,0",initial:{fill:"transparent",pathLength:0,strokeWidth:6,stroke:q.Z.polyBlue,strokeOpacity:1},animate:i})}),(0,T.jsx)(im,{children:"Submitting your transaction!"})]}),(0,T.jsxs)(ix,{animate:x,children:[(0,T.jsx)(ig,{children:(0,T.jsx)(rL(),{width:"28px",height:"28px",onClick:t})}),(0,T.jsxs)(iy,{children:[(0,T.jsxs)(ij,{animate:s,children:[(0,T.jsx)(iw,{animate:c,children:(0,T.jsx)(iT,{})}),(0,T.jsx)(i_,{animate:p,children:(0,T.jsx)(iS,{})}),(0,T.jsx)(iM,{animate:u,children:(0,T.jsx)(iS,{})}),(0,T.jsx)(ib,{animate:o,children:(0,T.jsx)(iL,{color:q.Z.polyGreen,width:"100",height:"100"})}),(0,T.jsx)(iC,{animate:d,children:(0,T.jsx)(iT,{})}),(0,T.jsx)(iz,{animate:m,children:(0,T.jsx)(iS,{})}),(0,T.jsx)(iZ,{animate:h,children:(0,T.jsx)(iS,{})})]}),(0,T.jsxs)(iv,{animate:l,bottomTextMargin:"1.25rem",children:[(0,T.jsx)("h2",{children:"Congrats!"}),(0,T.jsx)("p",{children:"Your transaction has been submitted! You can view its progress in the navigation bar."}),(0,T.jsx)(iP,{onClick:t,children:"Got it"})]})]}),(0,T.jsx)(iD,{animate:a})]})]})})};var ia=I.memo(is);let ic=(0,N.ZP)(ep.E.div)(rV()),id=(0,N.ZP)(ep.E.div)(rG()),iu=(0,N.iv)(rY()),ip=(0,N.ZP)(ep.E.div)(rU(),iu),ih=(0,N.ZP)(ep.E.div)(rQ(),iu),im=N.ZP.h3(rJ()),ix=(0,N.ZP)(ep.E.div)(rX(),iu),ig=N.ZP.div(rK()),iv=(0,N.ZP)(ep.E.div)(r0(),q.Z.softGrey,e=>e.bottomTextMargin?"margin-bottom: ".concat(e.bottomTextMargin):null),iy=(0,N.ZP)(ep.E.div)(r1()),ib=(0,N.ZP)(ep.E.div)(r2()),ij=(0,N.ZP)(ep.E.div)(r5()),ik=(0,N.iv)(r3()),iw=(0,N.ZP)(ep.E.div)(r4(),ik),iC=(0,N.ZP)(ep.E.div)(r6(),ik),iS=(0,N.ZP)(ep.E.div)(r8(),q.Z.polyGreen),iM=(0,N.ZP)(ep.E.div)(r7(),ik),i_=(0,N.ZP)(ep.E.div)(r9(),ik),iZ=(0,N.ZP)(ep.E.div)(ie(),ik),iz=(0,N.ZP)(ep.E.div)(it(),ik),iL=(0,N.ZP)(rq.Z)(ir()),iT=(0,N.ZP)(rW())(ii(),q.Z.polyGreen,q.Z.polyGreen,q.Z.polyGreen),iD=(0,N.ZP)(ep.E.div)(io(),q.Z.polyBlue,q.Z.polyBlue),iP=(0,N.ZP)(rF.Z)(il());var iE=n(40770),iI=n(74814),iA=n(66222);function iB(){let e=(0,$.Z)(["\n    align-self: center;\n"]);return iB=function(){return e},e}function i$(){let e=(0,$.Z)(["\n    align-self: center;\n"]);return i$=function(){return e},e}function iO(){let e=(0,$.Z)(["\n    position: relative;\n    width: 495px;\n    height: 320px;\n    display: grid;\n    place-items: center center;\n"]);return iO=function(){return e},e}function iR(){let e=(0,$.Z)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n"]);return iR=function(){return e},e}function iN(){let e=(0,$.Z)(["\n    cursor: pointer;\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    z-index: 7;\n"]);return iN=function(){return e},e}function iF(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    width: 100%;\n    margin-top: 40px;\n    margin-bottom: -8px; ;\n"]);return iF=function(){return e},e}function iH(){let e=(0,$.Z)(["\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n    opacity: 1;\n\n    height: 100%;\n\n    bottom: 10px;\n    padding: 1.5rem 2rem;\n\n    h2 {\n        font-size: 22px;\n        margin-bottom: 0;\n        margin-top: 0;\n    }\n\n    p {\n        font-size: 16px;\n        color: ",";\n        ",";\n    }\n"]);return iH=function(){return e},e}function iW(){let e=(0,$.Z)(["\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 3px;\n    background: ",";\n    bottom: 0;\n    opacity: 0;\n    border: 1px solid ",";\n"]);return iW=function(){return e},e}function iq(){let e=(0,$.Z)(["\n    && {\n        background-color: #1652f0;\n        border: 0px solid transparent;\n        border-radius: 5px;\n        color: white;\n        cursor: pointer;\n        display: inline-block;\n        font-family: OpenSauceSansRegular;\n        font-size: 75%;\n        margin-top: 0.75rem;\n        padding: 0.5rem 0;\n        width: 100%;\n\n        :hover {\n            opacity: 90%;\n        }\n    }\n"]);return iq=function(){return e},e}let iV=e=>{let{onCheckoutComplete:t}=e,n=(0,nt._)(),r=(0,nt._)(),{connector:i}=(0,te.mA)(),o=async()=>{r.start({opacity:1}),await r.start({width:"0",transition:{duration:3.75,ease:"linear"}}),t()};return(0,I.useEffect)(()=>{let e=async()=>{await o()};e()},[]),(0,T.jsx)(iQ,{children:(0,T.jsxs)(iJ,{children:[(0,T.jsx)(iX,{children:(0,T.jsx)(rL(),{width:"28px",height:"28px",onClick:t})}),!i||"metaMask"===i.id&&(0,T.jsx)(iK,{children:(0,T.jsx)(iI.Z,{width:"65",height:"65"})}),(null==i?void 0:i.id)==="coinbaseWallet"&&(0,T.jsx)(iK,{children:(0,T.jsx)(iY,{width:"65",height:"65"})}),(null==i?void 0:i.id)==="walletConnect"&&(0,T.jsx)(iK,{children:(0,T.jsx)(iU,{width:"65",height:"65",color:q.Z.polyBlue})}),(0,T.jsxs)(i0,{animate:n,bottomTextMargin:"1.25rem",children:[(0,T.jsx)("h2",{children:"Confirm Transaction"}),(!i||"metaMask"===i.id)&&(0,T.jsx)("p",{children:"Please sign the transaction in your MetaMask app or extension."}),(null==i?void 0:i.id)==="coinbaseWallet"&&(0,T.jsx)("p",{children:"Please sign the transaction in your Coinbase Wallet app or extension."}),(null==i?void 0:i.id)==="walletConnect"&&(0,T.jsx)("p",{children:"Please sign the transaction in your wallet connect via WalletConnect."}),(0,T.jsx)(i2,{onClick:t,children:"Got it"})]}),(0,T.jsx)(i1,{animate:r})]})})};var iG=I.memo(iV);let iY=(0,N.ZP)(iE.Z)(iB()),iU=(0,N.ZP)(iA.Z)(i$()),iQ=(0,N.ZP)(ep.E.div)(iO()),iJ=(0,N.ZP)(ep.E.div)(iR()),iX=(0,N.ZP)(ep.E.div)(iN()),iK=(0,N.ZP)(ep.E.div)(iF()),i0=(0,N.ZP)(ep.E.div)(iH(),q.Z.softGrey,e=>e.bottomTextMargin?"margin-bottom: ".concat(e.bottomTextMargin):null),i1=(0,N.ZP)(ep.E.div)(iW(),q.Z.polyBlue,q.Z.polyBlue),i2=(0,N.ZP)(rF.Z)(iq());var i5=n(59128),i3=n(50540),i4=n(65818),i6=n(4867),i8=n.n(i6);function i7(){let e=(0,$.Z)(["\n    && {\n        text-align: center;\n        justify-content: center;\n        align-items: center;\n        display: flex;\n        z-index: 1000000 !important;\n\n        @media "," {\n            height: calc(100vh);\n            min-height: available;\n            width: calc(100vw);\n        }\n    }\n"]);return i7=function(){return e},e}function i9(){let e=(0,$.Z)(["\n    left: calc(50vw - min(100vw - 40px, 495px) / 2);\n    margin: auto;\n    max-width: calc(100vw - 40px);\n    position: absolute;\n    width: 495px;\n    z-index: 3;\n    border-radius: 0 0 5px 5px;\n\n    &:focus {\n        outline: none;\n    }\n    @media screen and (max-width: 500px) {\n        height: calc(100vh);\n        left: 0;\n        max-width: calc(100vw);\n        position: fixed;\n        top: 0;\n        width: calc(100vw);\n    }\n"]);return i9=function(){return e},e}function oe(){let e=(0,$.Z)(["\n    cursor: pointer;\n    position: absolute;\n    right: 10px;\n    top: 10px;\n"]);return oe=function(){return e},e}function ot(){let e=(0,$.Z)(["\n    background: white;\n    max-height: calc(100vh - 8rem - 50px);\n\n    overflow-y: scroll;\n    border-radius: 5px;\n    position: relative;\n    scrollbar-width: none;\n    top: -1px;\n    z-index: -1;\n    -ms-overflow-style: none; /* IE and Edge */\n\n    scrollbar-width: none;\n    &::-webkit-scrollbar {\n        height: 0;\n    }\n\n    @media "," {\n        max-height: calc(100vh);\n        max-width: calc(100vw);\n    }\n"]);return ot=function(){return e},e}let on=e=>{let{onClose:t,children:n}=e;return(0,T.jsx)(or,{open:!0,onClose:t,children:(0,T.jsxs)(oi,{children:[t&&(0,T.jsx)(oo,{children:(0,T.jsx)(i8(),{onClick:t})}),(0,T.jsx)(ol,{children:n})]})})},or=(0,N.ZP)(i4.Z)(i7(),H.BC.mobile),oi=N.ZP.div(i9()),oo=N.ZP.div(oe()),ol=N.ZP.main(ot(),H.BC.mobile);(o=y||(y={})).Buy="Buy",o.Sell="Sell";var os=n(47234),oa=n.n(os);function oc(){let e=(0,$.Z)(["\n    margin-right: 5px;\n    margin-left: 3px;\n    position: relative;\n"]);return oc=function(){return e},e}function od(){let e=(0,$.Z)(["\n    align-items: center;\n    color: #e04545;\n    display: flex;\n    font-size: 0.9em;\n    text-align: left;\n"]);return od=function(){return e},e}function ou(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 1rem;\n\n    h3 {\n        margin-top: 0.75rem;\n        text-align: center;\n    }\n\n    @media "," {\n        margin-top: 1rem;\n    }\n"]);return ou=function(){return e},e}function op(){let e=(0,$.Z)(["\n    border-radius: 50%;\n    padding: 0.5rem;\n    background-color: ",";\n    width: 50px;\n    height: 50px;\n"]);return op=function(){return e},e}function oh(){let e=(0,$.Z)(["\n    && {\n        width: 36px;\n        height: 32px;\n        opacity: 70%;\n        transform: translate(-1px, 1px);\n        color: white;\n        @media "," {\n            transform: translate(-1px, 1px);\n        }\n    }\n"]);return oh=function(){return e},e}function om(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    position: absolute;\n    right: 0;\n    top: 15px;\n    cursor: pointer;\n"]);return om=function(){return e},e}let ox=()=>(0,T.jsx)(rn.Z,{title:"Your transaction will revert if there is a large, unfavorable price movement before its confirmed.",arrow:!0,children:(0,T.jsx)("span",{className:oa().iconWrapper,children:(0,T.jsx)(rD(),{className:oa().infoIcon})})});(l=b||(b={}))[l.Confirm=0]="Confirm",l[l.Loading=1]="Loading";let og=e=>{let{tradeType:t,checkoutAction:n,afterCheckout:r,closeModals:i,sharesAmount:o,usdcAmount:l,selectedOutcome:s,slippageProtectionAmount:a,helperMessage:c}=e,{emitEvent:d}=(0,rM.EF)(),{authenticationType:u}=(0,eZ.ec)(),[p,h]=(0,I.useState)(b.Confirm),[m,x]=(0,I.useState)(!1),g=(0,I.useMemo)(()=>(null==o?void 0:o.gt(0))?(0,t$.divBN)(l,o):0,[o,l]),f=ry(),v=rb(),j=(0,I.useMemo)(()=>{let e=parseFloat(v[s]||"0");return Math.abs(e-g)>tn.cH},[v,s,g]),k=async()=>{n(),h(b.Loading);let e={action:rr.eX.Tag,clickEvent:t===y.Buy?rr.zW.BuyClickEvent:rr.zW.SellClickEvent,market:f};d(e)},w=async()=>{r(),i()};return(0,T.jsxs)(T.Fragment,{children:[p===b.Confirm&&(0,T.jsx)(i5.Z,{onClose:i,children:(0,T.jsxs)("form",{className:oa().buyModal,children:[(0,T.jsxs)(oy,{children:[(0,T.jsx)(ok,{children:(0,T.jsx)(rL(),{onClick:()=>i()})}),(0,T.jsx)(ob,{children:(0,T.jsx)(oj,{})}),(0,T.jsx)("h3",{children:"Confirm Transaction"})]}),(0,T.jsxs)("div",{className:oa().confirmAmountContainer,children:[(0,T.jsx)(rN,{label:"Outcome",input:f.outcomes[s],containerClassName:oa().selectedOutcome}),t===y.Buy&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(rN,{label:"Order Amount",input:"$".concat((0,tf._H)((0,tf.Du)(l)))}),(0,T.jsx)(rN,{label:"Your Avg. Price",input:"$".concat((0,tf._H)(g.toString()))}),(0,T.jsx)("div",{className:oa().hLine}),(0,T.jsx)(rN,{label:"Est. Shares Bought",input:(0,tf._H)((0,tf.Du)(o)),textClassName:oa().pBold}),(0,T.jsx)(rN,{label:(0,T.jsxs)("div",{className:oa().slippageProtectionLabel,children:[(0,T.jsx)("p",{children:"Min. Shares Bought"}),(0,T.jsx)(ox,{})]}),input:(0,tf._H)((0,tf.Du)(a)),containerClassName:oa().slippageProtectionContainer})]}),t===y.Sell&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(rN,{label:"Est. Shares Sold",input:(0,tf._H)((0,tf.Du)(o))}),(0,T.jsx)(rN,{label:"Your Avg. Price",input:"$".concat((0,tf._H)(g.toString()))}),(0,T.jsx)("div",{className:oa().hLine}),(0,T.jsx)(rN,{label:"You'll Receive",input:"$".concat((0,tf._H)((0,tf.Du)(l))),textClassName:oa().pBold}),(0,T.jsx)(rN,{label:(0,T.jsxs)("div",{className:oa().slippageProtectionLabel,children:[(0,T.jsx)("p",{children:"Max. Shares Sold"}),(0,T.jsx)(ox,{})]}),input:(0,tf._H)((0,tf.Du)(a)),containerClassName:oa().slippageProtectionContainer})]})]}),c&&c.toLowerCase().includes("your transaction may fail.")&&(0,T.jsxs)(ov,{children:[(0,T.jsx)(of,{}),(0,T.jsx)("p",{children:"Your transaction is likely to fail with 0% slippage tolerance."})]}),j&&(0,T.jsxs)(ov,{children:[(0,T.jsx)(rZ(),{className:oa().cautionIcon}),(0,T.jsxs)("p",{children:["Executing a trade of this size will result in over $",tn.cH," slippage per share. It is recommended to break larger orders into smaller trades to prevent this."]})]}),(0,T.jsx)("div",{className:oa().finePrintContainer,children:(0,T.jsx)(rB,{checked:m,setChecked:x,additionalPrint:", and that you have read and fully understand\n                            the market description and resolution source and\n                            conditions."})}),(0,T.jsx)(i3.Db,{type:"submit",className:oa().blueButton,disabled:!m,onClick(e){k(),e.preventDefault()},children:"Confirm"}),(0,T.jsx)("button",{className:oa().transparentButton,style:{paddingBottom:"0"},onClick:i,children:"Edit Order"})]})}),p===b.Loading&&"magic"===u&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:oa().successModal,children:(0,T.jsx)("div",{className:oa().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:w})})})}),p===b.Loading&&"eoa"===u&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:oa().successModal,children:(0,T.jsx)("div",{className:oa().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:w})})})})]})},of=(0,N.ZP)(rZ())(oc()),ov=N.ZP.div(od()),oy=N.ZP.div(ou(),H.BC.mobile),ob=N.ZP.div(op(),q.Z.polyGreen),oj=(0,N.ZP)(rt.Z)(oh(),H.BC.mobile),ok=N.ZP.div(om());var ow=n(65931),oC=n.n(ow);let oS=()=>(0,T.jsx)("h3",{className:oC().errorMessage,children:"Transaction rejected."});var oM=n(40228);let o_=()=>(0,T.jsxs)("h3",{className:oC().errorMessage,children:[" ","Transaction failed. Please try again or contact us on"," ",(0,T.jsx)("a",{id:oM.xH,children:"Intercom"})," or"," ",(0,T.jsx)("a",{href:"https://discord.gg/hGYPGru",target:"_blank",rel:"noopener noreferrer",children:"Discord"})," ","for assistance."]}),oZ=()=>(0,T.jsx)("h3",{className:oC().errorMessage,children:"Transaction failed due to low slippage tolerance. Please try again or increase your slippage tolerance."}),oz=(0,ea.Z)(()=>({errorWrapper:{margin:"9px 0"}})),oL=e=>{let{shouldShowError:t,errorText:n}=e,r=oz();return(0,T.jsx)(T.Fragment,{children:t&&(0,T.jsx)("div",{className:r.errorWrapper,children:(0,T.jsx)(J,{children:n})})})};var oT=n(2068),oD=n(61298),oP=n(24586);let oE=(e,t)=>e.gt(t)?e:t,oI=(e,t)=>e.gt(t)?t:e,oA=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tn.Jr,r=(0,tf.OE)(n);return oI(t,(0,t$.mulBN)(e,1+r/100))},oB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tn.Jr,r=(0,tf.OE)(n);return oE(e,(0,t$.mulBN)(t,1-r/100))},o$=e7.O$.from(10).pow(18),oO=e=>(0,I.useMemo)(()=>(0,t$.divBN)(e7.O$.from(e),o$,1e9),[e]);function oR(e){let{isTradeLargerThanBalance:t,isLossMakingTrade:n,hasTooFewShares:r,isMaxSlippageExceeded:i,cannotCheckout:o,hasAnOddsError:l,units:s="USDC"}=e,[a,c]=(0,I.useState)(!1),[d,u]=(0,I.useState)("");return I.useEffect(()=>{switch(!0){case l:u("Odds must add up to 100%!"),c(!0);break;case r:u("Please enter a valid amount."),c(!0);break;case t:u("You don't own enough ".concat(s,".")),c(!0);break;case n:u("This trade is unprofitable."),c(!0);break;case i:u("Adjust slippage to < 100% to submit trade."),c(!0);break;case o:u("Please try again"),c(!0);break;default:u(""),c(!1)}},[s,t,n,i,r,o,l]),{hasError:a,errorText:d}}let oN=e=>{let{sharesAmount:t,usdcAmount:n,marketMakerFeePercentage:r}=e,i=t.gt(0)?(0,t$.divBN)(n,t):0,o=n.gt(0)?((0,t$.divBN)(t,n)-1)*100:0,l="$".concat(tT()((0,tf.Du)(t)).format("0,0[.]0[0]")," (").concat((0,tf._H)(o.toString()),"%)");return(0,T.jsxs)(eh.kC,{css:{mt:"1rem",flexDirection:"column",rowGap:"0.25rem",width:"100%",backgroundColor:"#fff"},children:[(0,T.jsx)(tB,{label:"Average price",isBlue:!0,children:(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsx)(tZ.Z,{value:(0,tf.G_)(i.toString(),2),title:(0,tf.G_)(i.toString(),2),suffix:"\xa2"})}),(0,T.jsx)(tI,{price:i.toString()})]})})}),(0,T.jsx)(tB,{label:"Est. shares",children:(0,T.jsx)(tZ.Z,{value:tT()((0,tf.Du)(t)).format("0,0[.]0[0]"),title:tT()((0,tf.Du)(t)).format("0,0[.]0[0]")})}),(0,T.jsx)(tB,{label:"LP fee",children:(0,T.jsx)(tZ.Z,{value:(100*r).toFixed(2),title:(100*r).toFixed(2),suffix:"%"})}),(0,T.jsx)(tB,{label:"Potential return",children:(0,T.jsx)(tZ.Z,{value:l,title:l})})]})},oF=(0,t_.zo)(ek.z,{height:"44px",py:"0.5rem",borderRadius:"5px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px"}),oH=()=>{var e;let{isRestrictedLocation:t}=(0,t4.q0)(),{setShowConnectModal:n,setShowLogoutConnectionErrorModal:r,setShowDeploySafeModal:i}=(0,t6.vR)(),{activeMarket:o}=e3(),{selectedOutcomeIdx:l,sharesUsdc:s,setShares:a,slippageTolerance:c,setPricesAfterTrade:d}=tM(),{chain:u}=(0,te.LN)(),{switchNetworkAsync:p}=(0,te.g0)(),{authenticated:h,authenticationType:m,proxyAddress:x,isSafeDeployed:g}=(0,eZ.ec)(),{accountProfile:f}=(0,re.Z)(),{accountWalletPreferences:v}=(0,n9.Z)(),{enqueueTransaction:b}=(0,rx.HT)(),j=rw(),{proxyUsdcBalance:k,refetchProxyUsdcBalance:w}=(0,n2.Z)(),[C,S]=(0,I.useState)(!1),[M,_]=(0,I.useState)(!1),[Z,z]=(0,I.useState)(!1),[L,D]=(0,I.useState)(!1),P=k.lt(s),[E,A]=(0,I.useState)(!0),[B,$]=(0,I.useState)(!1),[O,R]=(0,I.useState)(!1),N=oO(null!==(e=o.fee)&&void 0!==e?e:"0"),F=c>tn.j2,{poolBalancesMarket:H,listenForPoolUpdate:W}=rv(),q=(0,I.useMemo)(()=>{try{return(0,t$.calcBuyAmountInShares)(s,l,H,N)}catch(e){return e6._Y}},[s,l,H,N]),V=(0,I.useMemo)(()=>oB(s,q,c),[s,q,c]),G=q.lt(s),Y=(0,I.useMemo)(()=>{let e;try{e=(0,t$.computeBalanceAfterSharePurchase)(H,l,s,q,N)}catch(t){e=H}return(0,t$.calcPrice)(e)},[H,l,s,q,N]);(0,I.useEffect)(()=>{d(Y)},[Y]);let U=e=>{e.message&&e.message.includes("amount not reached")?_(!0):"string"==typeof e&&e.toLowerCase().includes(oP.hr)?z(!0):S(!0)},Q=(0,I.useMemo)(()=>(0,n7.buyMarketOutcome)(o.marketMakerAddress,tn.ZZ,s,l,oB(s,q,c)),[o.marketMakerAddress,l,q,c,s]),J=(0,I.useCallback)(async()=>{await Promise.all([w(),j(),W()])},[w,j,W]),X=async()=>{if(!h){(0,t7.S3)("Neither Magiclink nor Metamask is present",oD.Ui.MagicLinkMissing,x);return}if(!Q){(0,t7.S3)("No market is active or no buy outcome was assembled","BuyButtonAMM",x);return}try{b(Q,tn.Zc.Matic,oT.iU.Buy,o.outcomes[l],q,s,o,J,(null==v?void 0:v.advancedMode)?v.gasPreference:null,(null==v?void 0:v.advancedMode)?v.customGasPrice:null)}catch(e){U(e.message),(0,t7.S3)(e,"Buy Shares",x,t7.ll.MISSION_CRITICAL)}},K=(0,I.useCallback)(async()=>{a("0"),$(!1)},[a]),{hasError:ee,errorText:et}=oR({isTradeLargerThanBalance:P,isLossMakingTrade:G,hasTooFewShares:q.lte(0),isMaxSlippageExceeded:F,cannotCheckout:!E}),en=async()=>{if("eoa"===m&&!g){i(!0);return}B||$(!0),f||r(!0),!ee&&f&&(D(!0),z(!1),S(!1),_(!1))},er=(0,I.useCallback)(()=>{D(!1),$(!1)},[D,$]);(0,I.useEffect)(()=>{B&&!ee&&$(!1)},[$,B,ee]);let ei=async()=>{try{R(!0),await (null==p?void 0:p(137))}catch(e){(0,t7.S3)("Error handling network change",e)}finally{R(!1)}};return(0,T.jsxs)(T.Fragment,{children:[h&&L&&!t&&(0,T.jsx)(og,{tradeType:y.Buy,checkoutAction:()=>X(),afterCheckout:K,closeModals:er,sharesAmount:q,usdcAmount:s,selectedOutcome:l,slippageProtectionAmount:V,helperMessage:""}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",width:"100%"},children:[!h&&(0,T.jsx)(oF,{type:"primary",onClick:()=>n(!0),children:"Log In"}),h&&t&&(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0}),h&&!t&&(0,T.jsxs)(T.Fragment,{children:["eoa"!==m||u&&137===u.id?(0,T.jsx)(ek.z,{type:"primary",disabled:B&&ee,onClick:en,css:{height:"44px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px",py:"0.5rem",borderRadius:"5px"},children:"Buy"}):(0,T.jsx)(ek.z,{type:"primary",onClick:ei,disabled:O,css:{height:"44px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px",py:"0.5rem",borderRadius:"5px",backgroundColor:"$lightOpaquePolyBlue",color:"$polyBlue","&:hover":{backgroundColor:"$lightOpaquePolyBlue",opacity:"0.75"},"&:disabled":{cursor:"not-allowed",opacity:"0.5","&:hover":{opacity:"0.5"}}},children:"Switch to Polygon"}),(0,T.jsx)(oL,{shouldShowError:ee&&B,errorText:et}),C&&(0,T.jsx)(o_,{}),M&&(0,T.jsx)(oZ,{}),Z&&(0,T.jsx)(oS,{})]}),(0,T.jsx)(oN,{sharesAmount:q,usdcAmount:s,marketMakerFeePercentage:N})]})]})},oW=()=>(0,T.jsx)("h3",{className:oC().errorMessage,children:"Attempted to sell more shares than you own. Reduce the number slightly and try again. Sorry for the inconvenience."}),oq=e=>{let{sharesAmount:t,sharesBalance:n,usdcAmount:r,marketMakerFeePercentage:i}=e,o=t.gt(0)?(0,t$.divBN)(r,t):0,l=n.sub(t);return(0,T.jsxs)(eh.kC,{css:{mt:"1rem",flexDirection:"column",rowGap:"0.25rem",width:"100%",backgroundColor:"#fff"},children:[(0,T.jsx)(tB,{label:"Your avg. price",isBlue:!0,children:(0,T.jsx)(tZ.Z,{value:(0,tf.G_)(o.toString(),2),title:(0,tf.G_)(o.toString(),2),suffix:"\xa2"})}),(0,T.jsx)(tB,{label:"LP fee",children:(0,T.jsx)(tZ.Z,{value:(100*i).toFixed(2),title:(100*i).toFixed(2),suffix:"%"})}),(0,T.jsx)(tB,{label:"Remaining shares",children:(0,T.jsx)(tZ.Z,{value:tT()((0,tf._H)((0,tf.Du)(l))).format("0,0[.]0[0]"),title:tT()((0,tf._H)((0,tf.Du)(l))).format("0,0[.]0[0]")})}),(0,T.jsx)(tB,{label:"Est. amount received",children:(0,T.jsx)(tZ.Z,{value:tT()((0,tf._H)((0,tf.Du)(r))).format("0,0[.]0[0]"),title:tT()((0,tf._H)((0,tf.Du)(r))).format("0,0[.]0[0]"),prefix:"$"})})]})},oV=(0,t_.zo)(ek.z,{height:"44px",py:"0.5rem",borderRadius:"5px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px"}),oG=()=>{let{isRestrictedLocation:e}=(0,t4.q0)(),{setShowConnectModal:t,setShowLogoutConnectionErrorModal:n,setShowDeploySafeModal:r}=(0,t6.vR)(),{activeMarket:i,event:o}=e3(),{selectedOutcomeIdx:l,sharesUsdc:s,setShares:a,slippageTolerance:c,setPricesAfterTrade:d}=tM(),{chain:u}=(0,te.LN)(),{switchNetworkAsync:p}=(0,te.g0)(),{authenticated:h,authenticationType:m,proxyAddress:x,isSafeDeployed:g}=(0,eZ.ec)(),{accountProfile:f}=(0,re.Z)(),{accountWalletPreferences:v}=(0,n9.Z)(),{enqueueTransaction:b}=(0,rx.HT)(),j=ry(),k=rk(),w=rw(),{refetchProxyUsdcBalance:C}=(0,n2.Z)(),S=rC(),[M,_]=(0,I.useState)(!1),[Z,z]=(0,I.useState)(!1),[L,D]=(0,I.useState)(!1),[P,E]=(0,I.useState)(!1),A=oO(j.fee),B=k[l]||e6._Y,[$,O]=(0,I.useState)(!1),[R,N]=(0,I.useState)(!1),{poolBalancesMarket:F,listenForPoolUpdate:H}=rv(),[W,q]=(0,I.useState)(!0),[V,G]=(0,I.useState)(!1),Y=B.lt(s),U=c>tn.j2,Q=(0,I.useMemo)(()=>oA(s,B,c),[s,B,c]),J=(0,I.useMemo)(()=>{try{let e=(0,t$.calcSellAmountInCollateral)(s,l,F,A);return null!==e?e:e6._Y}catch(t){return e6._Y}},[s,l,F,A]),X=(0,I.useMemo)(()=>{let e;try{e=(0,t$.computeBalanceAfterShareSale)(F,l,J,s,A)}catch(t){e=F}return(0,t$.calcPrice)(e)},[F,l,J,s,A]);(0,I.useEffect)(()=>{d(X)},[X]);let K=e=>{"UNPREDICTABLE_GAS_LIMIT"===e.code?D(!0):e.message&&e.message.includes("amount exceeded")?z(!0):e.message&&e.message.toLowerCase().includes(oP.hr)?E(!0):_(!0)},ee=(0,I.useMemo)(()=>(0,n7.sellMarketOutcome)(i.marketMakerAddress,tn.b6,J,l,oA(s,B,c)),[i.marketMakerAddress,l,B,s,c,J]),et=(0,I.useCallback)(async()=>{await Promise.all([H(),w(),S(),C()])},[C,w,S,H]),en=async()=>{if(!h){(0,t7.S3)("Neither Magiclink nor Metamask is present",oD.Ui.MagicLinkMissing,x);return}if(!ee){(0,t7.S3)("No market is active or no sell outcome was assembled","SellButtonAMM",x);return}try{b(ee,tn.Zc.Matic,oT.iU.Sell,j.outcomes[l],s,J,j,et,(null==v?void 0:v.advancedMode)?v.gasPreference:null,(null==v?void 0:v.advancedMode)?v.customGasPrice:null)}catch(e){K(e),(0,t7.S3)(e,"Sell Shares",x,t7.ll.MISSION_CRITICAL)}},er=async()=>{a("0"),N(!1)},{hasError:ei,errorText:eo}=oR({units:"shares",isTradeLargerThanBalance:Y,isMaxSlippageExceeded:U,hasTooFewShares:s.lte(0),cannotCheckout:!W}),el=()=>{if("eoa"===m&&!g){r(!0);return}R||N(!0),f||(console.log("no profile"),n(!0)),!ei&&f&&(O(!0),E(!1),_(!1),D(!1),z(!1))},es=(0,I.useCallback)(()=>{O(!1),N(!1)},[O,N]);(0,I.useEffect)(()=>{R&&!ei&&N(!1)},[R,ei,O]);let ea=async()=>{try{G(!0),await (null==p?void 0:p(137))}catch(e){(0,t7.S3)("Error handling network change",e)}finally{G(!1)}};return(0,T.jsxs)(T.Fragment,{children:[h&&$&&(0,T.jsx)(og,{tradeType:y.Sell,afterCheckout:er,checkoutAction:()=>en(),closeModals:es,sharesAmount:s,usdcAmount:J,selectedOutcome:l,slippageProtectionAmount:Q,helperMessage:""}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",width:"100%"},children:[!h&&(0,T.jsx)(oV,{type:"primary",onClick:()=>t(!0),children:"Log In"}),h&&e&&(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0}),h&&!e&&(0,T.jsxs)(T.Fragment,{children:["eoa"!==m||u&&137===u.id?(0,T.jsx)(ek.z,{type:"primary",disabled:R&&ei,onClick:el,css:{height:"44px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px",py:"0.5rem",borderRadius:"5px"},children:"Sell"}):(0,T.jsx)(ek.z,{type:"primary",onClick:ea,disabled:V,css:{height:"44px",fontFamily:"$sauce500 !important",fontSize:"14px",lineHeight:"20px",py:"0.5rem",borderRadius:"5px",backgroundColor:"$lightOpaquePolyBlue",color:"$polyBlue","&:hover":{backgroundColor:"$lightOpaquePolyBlue",opacity:"0.75"},"&:disabled":{cursor:"not-allowed",opacity:"0.5","&:hover":{opacity:"0.5"}}},children:"Switch to Polygon"}),(0,T.jsx)(oL,{shouldShowError:ei&&R,errorText:eo}),L&&(0,T.jsx)(oW,{}),M&&(0,T.jsx)(o_,{}),Z&&(0,T.jsx)(oZ,{}),P&&(0,T.jsx)(oS,{})]}),(0,T.jsx)(oq,{sharesAmount:s,sharesBalance:B,usdcAmount:J,marketMakerFeePercentage:A})]})]})},oY=()=>{let{side:e}=tM();return(0,T.jsxs)(T.Fragment,{children:[e===tm.Side.BUY&&(0,T.jsx)(oH,{}),e===tm.Side.SELL&&(0,T.jsx)(oG,{})]})};var oU=n(84113),oQ=n(533),oJ=n(35757);let oX=(0,t_.F4)({"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-10px)"}}),oK=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(-10px)"},"100%":{opacity:1,transform:"translateY(0)"}}),o0=(0,t_.zo)(oU.fC,{}),o1=(0,t_.zo)(oU.xz,{overflow:"hidden",backgroundColor:"$shadeWhite",transition:"all 0.2s ease",cursor:"pointer",'&[data-state="open"]':{svg:{transform:"rotate(-180deg)"}}}),o2=(0,t_.zo)("button",{all:"unset",width:"69px",display:"inline-flex",pt:0,pb:"calc($3 + 2px)",alignItems:"center",justifyContent:"flex-end",columnGap:"0.25rem",color:"$shadeBlack",backgroundColor:"$shadeWhite",fontFamily:"$sauce600",fontSize:"14px",cursor:"pointer"}),o5=(0,t_.zo)(oU.VY,{width:"101px",backgroundColor:"$shadeWhite",borderRadius:"10px",border:"1px solid $shadeMediumTransparent",boxShadow:"$dropShadowMd",overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{animationDuration:"300ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="bottom"]':{animationName:oK}},'&[data-state="closed"]':{'&[data-side="bottom"]':{animationName:oX}}}}),o3=(0,t_.zo)(oU.Uv,{}),o4=(0,t_.zo)(oU.Ee,{}),o6=(0,t_.zo)(oU.Rk,{all:"unset",width:"100%",position:"relative",display:"flex",alignItems:"center",px:"1rem",py:"0.75rem",fontSize:"$md",color:"$shadeBlack",userSelect:"none",transition:"0.2s all",cursor:"pointer","&[data-disabled]":{color:"$shadeMain","&:hover":{cursor:"not-allowed",backgroundColor:"white"}},"&[data-highlighted]":{backgroundColor:"$shadeMediumTransparent"},'&[data-state="checked"]':{fontFamily:"$sauce500"}}),o8=(0,t_.zo)(oU.__,{fontSize:"14px !important",color:"$shadeBlack",textTransform:"capitalize"}),o7=()=>{let[e,t]=(0,I.useState)(!1),{activeMarket:n}=e3(),{orderType:r,setOrderType:i}=tM(),{drawerContent:o}=(0,oJ.W7)(),l=(0,I.useCallback)(e=>{i(e)},[i]);return(0,T.jsxs)(o0,{open:e,onOpenChange:t,modal:o===oJ.sc.Injected,css:{...o===oJ.sc.Injected&&{zIndex:999999999}},children:[(0,T.jsx)(o1,{asChild:!0,style:{pointerEvents:"auto"},onMouseEnter(){t(!0)},onMouseLeave:()=>t(!1),children:(0,T.jsxs)(o2,{"aria-label":"sort by",children:[(0,T.jsx)(o8,{children:r}),(0,T.jsx)(oQ.F,{css:{size:"20px"}})]})}),(0,T.jsx)(o3,{children:(0,T.jsx)(o5,{align:"center",css:{zIndex:o===oJ.sc.Injected?999999999:999},onMouseEnter(){t(!0)},onMouseLeave:()=>t(!1),children:(0,T.jsx)(o4,{value:r,onValueChange:l,children:Object.keys(tr.mr).map((e,t)=>(0,T.jsx)(o6,{value:e,disabled:!!(!n.enableOrderBook&&(e===tr.mr.Limit||e===tr.mr.Market)),children:e},"".concat(e,"-").concat(t)))})})})]})};var o9=n(22844),le=n(99928);let lt=e=>{var t,n;let{}=e,{activeMarket:r}=e3(),{setSelectedOutcome:i,selectedOutcome:o,side:l,selectedOutcomeIdx:s,orderType:a,setCursorActive:c}=tM(),{bestPrices:d,areBooksRefreshing:u}=(0,tA.C)(r,s),{poolPricesMarket:p,arePoolValuesLoading:h}=rv(),m=parseFloat(null!==(t=null==p?void 0:p[0])&&void 0!==t?t:0),x=parseFloat(null!==(n=null==p?void 0:p[1])&&void 0!==n?n:0),{isMobile:g}=(0,le.Z)();return(0,T.jsx)(eh.kC,{children:Array.isArray(r.outcomes)?r.outcomes.map((e,t)=>{let n="0";if(a===tr.mr.AMM)n=0===t?m.toString():x.toString();else{var s;n=null!==(s=null==d?void 0:d[e][l.toLowerCase()])&&void 0!==s?s:"0"}return(0,T.jsx)(li,{isLeftCard:0===t,isRightCard:1===t,children:(0,T.jsx)(ln,{outcome:e,price:(0,tf.G_)(n),isSelected:e===o,handleSelection(){i(e),g||c(!0)},variant:0===t?"green":"red",isLoading:r.enableOrderBook&&u||!r.enableOrderBook&&h})},"".concat(e,"-").concat(t))}):null})},ln=e=>{let{outcome:t,price:n,handleSelection:r,isSelected:i,variant:o,isLoading:l}=e;return(0,T.jsx)(eh.kC,{onClick:r,css:{flex:1,justifyContent:"center",alignItems:"center",borderRadius:"5px",height:"48px",transition:"all 0.2s",rowGap:"0.25rem",flexDirection:"column",opacity:1,"*":{userSelect:"none"},..."green"===o&&{...i&&{color:"white",backgroundColor:"$green2",border:"1px solid $green2","&:hover":{cursor:"pointer",opacity:.9}},...!i&&{color:"$gray3",backgroundColor:"$gray6",border:"1px solid $gray6","&:hover":{cursor:"pointer",opacity:.9}},"&:active":{color:"white",backgroundColor:"$green2",border:"1px solid $green2"}},..."red"===o&&{...i&&{color:"white",backgroundColor:"$red",border:"1px solid $red","&:hover":{cursor:"pointer",opacity:.9}},...!i&&{color:"$gray3",backgroundColor:"$gray6",border:"1px solid $gray6","&:hover":{cursor:"pointer",opacity:.9}},"&:active":{color:"white",backgroundColor:"$red",border:"1px solid $red"}},...l&&{"> *":{animation:"".concat(o9.i4," 1s infinite")}},...!l&&{"> *":{opacity:1,transition:"0.5s all"}}},children:(0,T.jsxs)(eh.kC,{css:{alignItems:"center"},children:[(0,T.jsx)(lr,{css:{marginRight:"4px",opacity:1},children:t}),(0,T.jsxs)(lr,{children:[n,"\xa2"]})]})})},lr=(0,t_.zo)("span",{fontFamily:"$sauce600",fontSize:"14px"}),li=(0,t_.zo)("div",{width:"100%",variants:{isLeftCard:{true:{marginRight:"4px"}},isRightCard:{true:{marginLeft:"4px"}}}});var lo=n(2019),ll=n(33814);let ls=e=>{let{shouldShowMoney:t,shouldShowMax:n,handleClick:r,wasSuccessful:i,focus:o,step:l="0.000001",max:s,...a}=e,c=(0,I.useRef)();return(0,I.useEffect)(()=>{var e;o&&(null===(e=c.current)||void 0===e||e.focus())},[o]),(0,T.jsx)(la,{...a,inputRef:c,inputProps:{style:{fontSize:"16px",padding:0},min:"0",step:l,max:s},disableUnderline:!0,startAdornment:a.startAdornment||t&&(0,T.jsx)(tX.Z,{sx:{mr:.75},children:"$"}),endAdornment:n?(0,T.jsx)(lc,{sx:{backgroundColor:i?"#05b16a":"black","&:hover":{cursor:"pointer"}},onClick:r,children:"Max"}):null})},la=(0,lo.ZP)(ll.Z)(e=>{let{theme:t}=e;return{fontSize:14,width:"100%",height:"44px",padding:t.spacing(.5),paddingLeft:t.spacing(1.4),background:"white",border:"1px solid rgba(0, 0, 0, 0.158326)",borderRadius:"5px",textOverflow:"clip",whiteSpace:"nowrap","& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{WebkitAppearance:"none",display:"none"}}}),lc=(0,lo.ZP)("button")(e=>{let{theme:t}=e;return{border:"none",color:"white",fontSize:14,paddingTop:t.spacing(.8),paddingRight:t.spacing(1.25),paddingBottom:t.spacing(.6),paddingLeft:t.spacing(1.25),borderRadius:"5px","&:focus":{outline:"none"}}}),ld=/^[1-9][0-9]?$|^[0][1-9]?$|^(?![\s\S])/,lu=()=>{let{price:e,setHasTouchedPrice:t,hasTouchedPrice:n,setPrice:r,priceUpdateLocation:i,setPriceUpdateLocation:o}=tM(),[l,s]=(0,I.useState)(e);return(0,I.useEffect)(()=>{e!==l&&"click"===i&&s(e)},[e,l,s,i]),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",rowGap:"0.5rem"},children:[(0,T.jsx)(st,{children:"Limit Price"}),(0,T.jsx)(ls,{startAdornment:(0,T.jsx)(ew.xv,{css:{fontSize:"16px",color:""===l?"#a1a2a1":"black"},children:"$ 0."}),placeholder:"00",type:"number",step:"1",max:"99",value:l,onBlur(){n||t(!0)},onChange(e){let t=e.target.value;if(ld.test(t)){s(t);let n=t.padEnd(2,"0");o("type"),r(n)}}})]})};var lp=n(60710);let lh=async e=>(0,nA.getSingleMarketSubgraphPrices)(e).then(e=>e),lm=e=>{let{data:t,refetch:n,isLoading:r,isError:i,isRefetching:o}=(0,A.useQuery)(["/api/subgraph/latest-market-prices-amm",e],()=>lh(e),{enabled:!!e,refetchOnWindowFocus:!1,cacheTime:6e4,staleTime:1e4,refetchInterval:1e4});return{latestMarketPrices:t,refetchLatestMarketPrices:n,latestMarketPricesLoading:r,latestMarketPricesRefetching:o,latestMarketPricesError:i}},lx=(0,t_.zo)(lp.t,{}),lg=(0,t_.zo)("button",{display:"flex",justifyContent:"center",alignItems:"center",p:"0.2rem",backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"5px",opacity:"50%",outline:"none",cursor:"pointer",transition:"0.2s all","&:hover":{backgroundColor:"$gray6"}}),lf=()=>{let{activeMarket:e}=e3(),{refetchBooks:t}=(0,tA.C)(e),{refetchLatestMarketPrices:n}=lm(e.marketMakerAddress),{refetchPoolPrices:r}=rv(),i=(0,I.useCallback)(async()=>{t&&await t()},[t]),o=(0,I.useCallback)(async()=>{await Promise.all([r(),i(),n()])},[i,n,r]),l=(0,I.useMemo)(()=>(0,tx.debounce)(o,3e3,{leading:!0}),[o]);return(0,T.jsx)(lg,{onClick:l,children:(0,T.jsx)(lx,{size:16})})};var lv=n(47533),ly=n(23926),lb=n(1416),lj=n(42621),lk=n(29688),lw=n(84897),lC=n(87536),lS=n(57333),lM=n(7258);let l_=e=>{let{color:t=q.Z.offBlack,...n}=e;return(0,T.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",...n,children:[(0,T.jsx)("path",{d:"M7.76795 3C8.53775 1.66667 10.4623 1.66667 11.2321 3L15.9952 11.25C16.765 12.5833 15.8027 14.25 14.2631 14.25H4.73686C3.19726 14.25 2.23501 12.5833 3.00481 11.25L7.76795 3Z",fill:t}),(0,T.jsx)("rect",{x:"9",y:"11",width:"1",height:"1",fill:"white"}),(0,T.jsx)("rect",{x:"9",y:"5",width:"1",height:"5",fill:"white"})]})};var lZ=n(69819);let lz=[{value:.1,label:"0.1"},{value:.5,label:"0.5"},{value:1,label:"1"}],lL=[{value:.1,label:"0.1"},{value:.5,label:"0.5"},{value:1,label:"1"}],lT=(e,t)=>0>e.findIndex(e=>{let{value:n}=e;return n===t});function lD(){let e=(0,$.Z)(["\n    border-radius: 7px;\n"]);return lD=function(){return e},e}function lP(){let e=(0,$.Z)(["\n    font-family: OpenSauceSansRegular;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 23px;\n    /* identical to box height */\n\n    text-align: center;\n    letter-spacing: -0.00214085px;\n\n    color: #000000;\n"]);return lP=function(){return e},e}function lE(){let e=(0,$.Z)(["\n    border: 1px solid rgba(0, 0, 0, 0.12);\n    box-sizing: border-box;\n    border-radius: 5px;\n"]);return lE=function(){return e},e}function lI(){let e=(0,$.Z)(['\n    && {\n        display: flex;\n        flex-direction: column;\n        width: 275px;\n        height: min-content;\n        background: #ffffff;\n        box-shadow: 0px 6px 24px rgba(0, 0, 0, 0.16);\n        border-radius: 5px;\n        padding: 16px 10px 8px;\n\n        &[x-placement*="bottom-end"] {\n            margin-top: 0.71em;\n            margin-left: 10px;\n        }\n\n        &[x-placement*="top-end"] {\n            margin-bottom: 0.71em;\n        }\n\n        @media (max-width: 495px) {\n            width: 97.5%;\n            padding: 12px 16px 8px;\n        }\n    }\n']);return lI=function(){return e},e}function lA(){let e=(0,$.Z)(["\n    font-family: OpenSauceSansRegular;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n    /* identical to box height, or 100% */\n\n    letter-spacing: -0.00214085px;\n\n    color: #000000;\n"]);return lA=function(){return e},e}function lB(){let e=(0,$.Z)(["\n    && {\n        ",";\n        ",";\n\n        width: 50px;\n        padding: 2px;\n        margin: 0;\n        color: ",";\n        background-color: ",";\n\n        @media (max-width: 495px) {\n            width: 4.65rem;\n            height: 38px;\n        }\n    }\n"]);return lB=function(){return e},e}function l$(){let e=(0,$.Z)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-around;\n    margin: 4px 0;\n    padding: 0 1px;\n"]);return l$=function(){return e},e}function lO(){let e=(0,$.Z)(["\n    display: flex;\n    align-items: center;\n    height: 32px;\n    width: 100%;\n    margin: 0 0 8px 2px;\n"]);return lO=function(){return e},e}function lR(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return lR=function(){return e},e}function lN(){let e=(0,$.Z)(["\n    text-align: justify;\n\n    &.MuiTooltip-tooltip {\n        width: 100px;\n\n        padding: 2px;\n        box-shadow: 0px 6px 24px rgba(0, 0, 0, 0.16);\n\n        .popper {\n            box-shadow: 0px 6px 24px rgba(0, 0, 0, 0.16);\n            background-color: #5a5a5a;\n        }\n\n        > .tooltip-inner {\n            background-color: #5a5a5a;\n        }\n    }\n"]);return lN=function(){return e},e}function lF(){let e=(0,$.Z)(["\n    display: flex;\n    height: 30px;\n    align-items: center;\n"]);return lF=function(){return e},e}function lH(){let e=(0,$.Z)(["\n    font-family: OpenSauceSansRegular;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 18px;\n    /* identical to box height, or 129% */\n\n    letter-spacing: -0.00187324px;\n\n    color: ",";\n    margin-left: 4px;\n"]);return lH=function(){return e},e}let lW=(0,ea.Z)(()=>({tooltip:{boxShadow:"0px 6px 24px rgba(0, 0, 0, 0.16)",width:211,zIndex:999},popper:{zIndex:1e4,pointerEvents:"auto",'&[x-placement*="bottom-end"] $arrow':{top:"-0.71em",left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top-end"] $arrow':{bottom:"-0.71em",left:0,marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}}},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:"#FFFFFF","&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),lq=(0,I.forwardRef)(function(e,t){let{onChange:n,...r}=e;return(0,T.jsx)(lS.Z,{...r,getInputRef:t,inputMode:"decimal",onValueChange(e){n&&n({target:{value:e.value}})},style:{zIndex:11,pointerEvents:"auto"}})}),lV=(0,t_.zo)(lw.M,{transition:"0.2s all",size:"20px","&:hover":{color:"$polyBlue"}}),lG=lM.object().shape({amount:lM.string().matches(/^\d*\.?\d*$/,"Must be a positive number.").nullable().notRequired().transform(e=>Number.isNaN(e)?null:e)}),lY=e=>{var t;let{slippageTolerance:n,setSlippageTolerance:r,setCanCheckout:i,helperMessage:o,setHelperMessage:l,isLp:s,coerceToTop:a}=e,c=lW(),d=s?lL:lz,u=(0,I.useCallback)(()=>lT(d,n),[n,d]),{control:p,getValues:h,setValue:m,formState:{errors:x},reset:g}=(0,lC.cI)({mode:"onChange",resolver:(0,lv.X)(lG),defaultValues:(0,I.useMemo)(()=>({amount:u()&&!s?String(tb()):u()&&s?String(tk()):"",lastAmount:n.toFixed(2)}),[u,s,n])}),[f,v]=(0,I.useState)(!1),[y,b]=I.useState(null),[j,k]=I.useState(null),w=e=>{b(e.currentTarget),v(!f)},C=e=>n===Number(e),S=e=>{g(),m("amount",""),m("lastAmount",String(e)),r(e),L()},M=()=>""===h().amount?h().lastAmount:h().amount,_=()=>{let e=M();return Number(e)>=tn.tk},Z=()=>{let e=M();return s?Number(e)<tn.SP:Number(e)<tn.qH},z=()=>{let e=M();return Number(e)>tn.j2},L=()=>{l("");let e="Max slippage limit is ".concat(tn.j2,"%");_()&&l("Large price change possible"),Z()&&l("Your transaction may fail"),z()&&l(e)},D=e=>{""!==e&&"-"!==e&&m("lastAmount",e)},P=()=>{v(!1)};return(0,I.useEffect)(()=>{if(u()&&h().amount){let e=Number(h().amount),t=e>=0&&e<=100;i(t),t&&r(e)}else i(!0)},[h,u,i,r]),(0,T.jsxs)(lU,{children:[(0,T.jsx)(eh.Dr,{onClick:w,css:{cursor:"pointer"},children:(0,T.jsx)(lV,{css:{color:f?"$polyBlue":"$black"}})}),f&&(0,T.jsx)(ly.Z,{onClickAway:P,children:(0,T.jsxs)(lX,{id:f?"simple-popper":void 0,open:f,anchorEl:y,modifiers:[{name:"flip",enabled:!0},{name:"preventOverflow",enabled:!0,options:{rootBoundary:"viewport"}},{name:"arrow",enabled:!0,options:{element:j}}],placement:"bottom-end",className:c.popper,sx:{...a&&{zIndex:999999999}},children:[(0,T.jsx)("div",{className:c.arrow,ref:k}),(0,T.jsxs)(l2,{children:[(0,T.jsx)(lK,{children:"Slippage Tolerance"}),(0,T.jsx)(l3,{id:"tooltip-top",title:"Your transaction will revert if prices change unfavorably due to other orders. This does not account for slippage caused by your own order.",arrow:!0,classes:c,children:(0,T.jsx)(l5,{children:(0,T.jsx)(lZ.Z,{})})})]}),(0,T.jsxs)(l1,{children:[d.map(e=>(0,T.jsxs)(l0,{chosen:C(e.value)?1:0,onClick:()=>S(e.value),children:[e.label,"%"]},e.value)),(0,T.jsx)(lC.Qr,{render(e){let{field:{onChange:t,value:n}}=e,i=!!(null==x?void 0:x.amount)||_()||Z(),o=u()?1:0;return(0,T.jsx)(ll.Z,{value:n,onChange(e){t(e.target.value),D(e.target.value),r(Number(e.target.value||h().lastAmount)),L()},onBlur(){""===n&&m("amount",Number(h().lastAmount).toFixed(2))},error:i,inputProps:{maxLength:6},placeholder:Number(h().lastAmount).toFixed(2),disableUnderline:!0,inputComponent:lq,endAdornment:"%",sx:{fontSize:16,height:36,width:60,padding:"6px 4px 4px",margin:0,borderRadius:"5px",color:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(0, 0, 0, 0.12)",zIndex:10,pointerEvents:"auto",borderColor:o&&i&&q.Z.orange||o&&q.Z.polyBlue||"rgba(0, 0, 0, 0.12)","&.Mui-focused":{borderColor:q.Z.polyBlue},".MuiInput-input":{textAlign:"right",lineHeight:"100%",paddingRight:.5,zIndex:10,pointerEvents:"auto"}}})},name:"amount",control:p})]}),(null==x?void 0:x.amount)&&(0,T.jsxs)(l4,{children:[(0,T.jsx)(l_,{color:q.Z.orange}),(0,T.jsx)(l6,{children:null==x?void 0:null===(t=x.amount)||void 0===t?void 0:t.message})]})||o&&(0,T.jsxs)(l4,{children:[(0,T.jsx)(l_,{color:q.Z.orange}),(0,T.jsx)(l6,{children:o})]})]})})]})},lU=(0,lo.ZP)("div")(lD()),lQ=(0,t9.css)(lP()),lJ=(0,t9.css)(lE()),lX=(0,lo.ZP)(lk.Z)(lI()),lK=(0,lo.ZP)("div")(lA()),l0=(0,lo.ZP)(lb.Z)(lB(),lQ,lJ,e=>{let{chosen:t}=e;return t?"#FFFFFF":"#000000"},e=>{let{chosen:t}=e;return t?q.Z.polyBlue:"#FFFFFF"}),l1=(0,lo.ZP)("div")(l$()),l2=(0,lo.ZP)("div")(lO()),l5=(0,lo.ZP)(lj.Z)(lR()),l3=(0,lo.ZP)(rn.Z)(lN()),l4=(0,lo.ZP)("div")(lF()),l6=(0,lo.ZP)("div")(lH(),q.Z.orange),l8=()=>{let{authenticated:e}=(0,eZ.ec)(),{orderType:t,setShares:n,shares:r,side:i,setSlippageConstraintSatisfied:o,setSlippageHelperMessage:l,setSlippageTolerance:s,slippageHelperMessage:a,slippageTolerance:c,setHasTouchedShares:d,hasTouchedShares:u,cursorActive:p,setCursorActive:h}=tM(),{limitBuyMax:m,sellMax:x,marketBuyMax:g}=n5(),{drawerContent:f}=(0,oJ.W7)(),v=(0,I.useCallback)(()=>{i===tm.Side.BUY&&(t===tr.mr.Market||t===tr.mr.AMM)?n((0,tf.Du)(g)):i===tm.Side.BUY&&t===tr.mr.Limit?n((0,tf.Du)(m)):n((0,tf.Du)(x))},[i,t,n,g,x,m]);return(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",width:"100%",rowGap:"0.5rem"},children:[(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(st,{children:t===tr.mr.Limit||i===tm.Side.SELL?"Shares":"Amount"}),(0,T.jsx)(eh.kC,{css:{justifyContent:"flex-end"},children:(t===tr.mr.Market||t===tr.mr.AMM)&&(0,T.jsx)(lY,{slippageTolerance:c,setSlippageTolerance:s,setCanCheckout:o,helperMessage:a,setHelperMessage:l,coerceToTop:f===oJ.sc.Injected})})]}),(0,T.jsx)(ls,{onChange:e=>n(e.target.value),value:r,placeholder:"0",type:"number",startAdornment:i===tm.Side.BUY&&(t===tr.mr.Market||t===tr.mr.AMM)?(0,T.jsx)(ew.xv,{css:{color:""===r?"#a1a2a1":"black"},children:"$\xa0"}):(0,T.jsx)(T.Fragment,{}),onBlur(){u||d(!0),h(!1)},focus:p}),e&&(0,T.jsx)(eh.kC,{children:(0,T.jsxs)(ew.xv,{as:"span",css:{color:"$shadeHalfBlack",fontSize:"12px",fontFamily:"$sauce600 !important",p:0,m:0,"&:hover":{cursor:"pointer"}},onClick:v,children:[t===tr.mr.Limit?"Available Balance: ":"Balance: "," ",i===tm.Side.BUY&&"$".concat((0,tf._H)((0,tf.Du)(g))," USDC"),i===tm.Side.SELL?"".concat((0,tf._H)((0,tf.Du)(x))," Shares"):null,(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",fontSize:"12px",fontFamily:"$sauce600 !important",p:0,m:0,"&:hover":{cursor:"pointer"}},children:"\xa0\xa0Max"})]})})]})},l7=(0,t_.zo)("div",{display:"flex"}),l9=(0,t_.zo)(eh.kC,{mr:"$6",pb:"$3",color:"$black",fontFamily:"$sauce600",fontSize:"14px","&:hover":{cursor:"pointer"},variants:{isSelected:{true:{borderBottom:"2px solid $polyBlue",color:"$polyBlue"}}}}),se=()=>{let{side:e,setSide:t}=tM();return(0,T.jsx)(l7,{children:[tm.Side.BUY,tm.Side.SELL].map(n=>(0,T.jsx)(l9,{onClick:()=>t(n),isSelected:n===e,children:(0,tx.capitalize)(n)},n))})},st=(0,t_.zo)(eh.Dr,{fontFamily:"$sauce600",fontSize:"14px"}),sn=(0,t_.zo)(eh.xu,{position:"relative"}),sr=(0,t_.zo)(eh.kC,{width:"100%",flexDirection:"column",rowGap:"0.5rem"}),si=(0,t_.zo)(eh.kC,{width:"100%",justifyContent:"space-between",alignItems:"center"}),so=(0,t_.zo)(eh.kC,{flexDirection:"column",rowGap:"1.5rem",backgroundColor:"#fff","@laptops":{width:"340px",boxShadow:"$dropShadowMd",borderRadius:"12px",border:"1px solid $gray5"},"@tablets":{width:"100vw"},"@phones":{width:"100vw"}}),sl=(0,t_.zo)(eh.kC,{flexDirection:"column",rowGap:"1.25rem",width:"100%",px:"1.5rem",pt:"1.5rem",borderBottom:"1px solid $gray5"}),ss=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",rowGap:"1rem",px:"24px",pb:"24px"}),sa=()=>{let{activeMarket:e,event:{markets:t}}=e3(),{orderType:n,priceFieldKey:r}=tM();return(0,T.jsx)(sn,{children:(0,T.jsxs)(so,{children:[(0,T.jsxs)(sl,{children:[e&&t.length>1&&(0,T.jsxs)(eh.kC,{css:{width:"100%",alignItems:"center",columnGap:"0.75rem"},children:[(0,T.jsx)(tp.Z,{image:e.image,coerceToDefaultImgTag:!0}),(0,T.jsx)(ew.xv,{weight:"semi",css:{fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.groupItemTitle})]}),(0,T.jsxs)(eh.kC,{css:{width:"100%",justifyContent:"space-between"},children:[(0,T.jsx)(se,{}),(0,T.jsx)(o7,{})]})]}),(0,T.jsxs)(ss,{children:[(0,T.jsxs)(sr,{children:[(0,T.jsxs)(si,{children:[(0,T.jsx)(st,{children:"Outcome"}),(0,T.jsx)(lf,{})]}),(0,T.jsx)(lt,{})]}),n===tr.mr.Limit&&(0,T.jsx)(lu,{},r),(0,T.jsx)(l8,{}),(n===tr.mr.Limit||n===tr.mr.Market)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(n8,{}),(0,T.jsx)(tJ,{})]}),n===tr.mr.AMM&&(0,T.jsx)(oY,{})]})]})})};var sc=n(6134),sd=n(69087),su=n(28575);let sp=e7.O$.from(1e4),sh=(e,t)=>{let n=(0,n$.ZP)(e),{poolBalances:r,shareBalances:i,refreshPoolBalances:o,refreshShareBalances:l}=(0,nB.Z)(Array.isArray(t)?t:n,e.marketMakerAddress),{marketPositions:s,refreshMarketPositions:a}=rp(e.marketMakerAddress),c=(0,I.useMemo)(()=>i.some(e=>e.gt(e6._Y))&&r.some(e=>e.gt(e6._Y))?i.map((t,n)=>({outcomeIndex:n.toString(),netQuantity:t.toString(),quantityBought:t.toString(),market:{id:e.id.toString(),outcomeTokenPrices:(0,t$.calcPrice)(r).map(e=>e.toString()),conditions:[]}})):[],[i,r,e]),{liquidityPosition:d,refreshLiquidityPosition:u}=ru(e.marketMakerAddress),{liquidityShares:p,refreshLiquidityShares:h}=rc(e.marketMakerAddress),m=(0,I.useCallback)(async()=>{await Promise.all([o(),l()])},[o,l]),x=(0,I.useMemo)(()=>s.map(t=>(0,su.vH)(e,t)).filter(su.Ec),[e,s]),g=(0,I.useMemo)(()=>c.map(t=>(0,su.Sk)(e,t)).filter(su.Ec),[e,c]),f=(0,I.useMemo)(()=>!!(x.length||g.length),[x,g]),v=(0,I.useMemo)(()=>d&&e7.O$.from(d.amount).gte(sp)?(0,sd.b)(e,d):null,[e,d]),y=(0,I.useMemo)(()=>p.gte(sp)?p:null,[p]),b=(0,I.useMemo)(()=>null!==v||null!==y,[v,y]);return{hasAmmPositions:f,hasAmmLiquidityPosition:b,ammMarketPositions:x,ammMarketPositionsFromChain:g,ammLiquidityPosition:v,ammLiquidityPositionFromChain:null!=y?y:e6._Y,refreshAmmMarketPositions:a,refreshAmmMarketPositionsFromChain:m,refreshAmmLiquidityPositions:u,refreshAmmLiquidityPositionsFromChain:h,poolBalances:r,shareBalances:i,refreshPoolBalances:o,refreshShareBalances:l}};var sm=n(21314),sx=n(5134),sg=n(5647),sf=n.n(sg);function sv(){let e=(0,$.Z)(["\n    margin-left: 3.5px;\n"]);return sv=function(){return e},e}let sy=()=>(0,T.jsx)("p",{children:"Odds are set by the market's first liquidity provider. Must add up to 100%."}),sb=()=>(0,T.jsx)(rn.Z,{title:(0,T.jsx)(sy,{}),arrow:!0,children:(0,T.jsx)("b",{children:(0,T.jsx)(sj,{})})}),sj=(0,N.ZP)(rD())(sv());var sk=n(20605),sw=n(32912),sC=n(47626),sS=n(11046),sM=n(16460);function s_(){let e=(0,$.Z)(["\n    height: 32px;\n    border-radius: 5px;\n    ","\n\n    background-color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 8px;\n"]);return s_=function(){return e},e}function sZ(){let e=(0,$.Z)(["\n    font-style: normal;\n    font-size: 12px;\n    white-space: nowrap;\n"]);return sZ=function(){return e},e}function sz(){let e=(0,$.Z)(["\n    ",";\n    color: #05b16a;\n    font-size: 14px;\n    font-family: OpenSauceSansRegular !important;\n"]);return sz=function(){return e},e}function sL(){let e=(0,$.Z)(["\n    ",";\n    color: #1652f0;\n    font-size: 14px;\n    font-family: OpenSauceSansRegular !important;\n"]);return sL=function(){return e},e}function sT(){let e=(0,$.Z)(["\n    ",";\n    color: #1652f0;\n    font-size: 14px;\n    font-family: OpenSauceSansMedium !important;\n"]);return sT=function(){return e},e}let sD=e=>{let{rewardMarket:t,isTopBorder:n}=e,{isBoosted:r,willBeBoosted:i,percentBoosted:o,tooltipTitle:l}=(0,sk.cJ)(t);return(r||i)&&t.event_start_date?(0,T.jsx)(sP,{isBoosted:r,willBeBoosted:i,isTopBorder:n,children:i?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sS.Z,{}),(0,T.jsx)(sA,{style:{margin:"0 4px"},children:"".concat(o,"% boost at")}),(0,T.jsx)(sB,{children:"".concat((0,sw.Z)(new Date(t.event_start_date),"LLL dd p"))}),(0,T.jsx)(sM.H,{color:"rgba(22, 82, 240, .4)",title:l})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sC.Z,{}),(0,T.jsx)(sI,{style:{marginLeft:"4px"},children:"".concat(o,"% boost activated")})]})}):null},sP=N.ZP.div(s_(),e=>e.isTopBorder&&"border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;",e=>e.isBoosted?"rgba(217,244,227, 0.5);":"rgba(216, 224, 250, 0.5);"),sE=(0,N.iv)(sZ()),sI=N.ZP.span(sz(),sE),sA=N.ZP.span(sL(),sE),sB=N.ZP.span(sT(),sE);var s$=n(30339);function sO(){let e=(0,$.Z)(["\n    margin: 8px 0;\n    background-color: #f4f4f4;\n    border-radius: 5px;\n    padding: 8px;\n"]);return sO=function(){return e},e}function sR(){let e=(0,$.Z)(["\n    display: flex;\n    align-items: center;\n"]);return sR=function(){return e},e}function sN(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return sN=function(){return e},e}function sF(){let e=(0,$.Z)(["\n    font-style: normal;\n    line-height: 21px;\n    letter-spacing: -0.00187324px;\n    font-size: 14px;\n    color: #000;\n"]);return sF=function(){return e},e}function sH(){let e=(0,$.Z)(["\n    ",";\n    font-family: OpenSauceSansRegular !important;\n"]);return sH=function(){return e},e}function sW(){let e=(0,$.Z)(["\n    ",";\n    font-family: OpenSauceSansMedium !important;\n"]);return sW=function(){return e},e}let sq=e=>{var t,n,r,i;let{market:o}=e,{tokenInfoByMarketSlug:l,marketRewardMap:s}=(0,s$.$j)(),a=l[o.slug];return a&&(0,sk.gl)(l,o)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sD,{rewardMarket:a.rewardMarket}),(0,T.jsxs)(sV,{children:[(null===(t=a.rewardMarket)||void 0===t?void 0:null===(n=t.market)||void 0===n?void 0:n.slug)&&s&&s[a.rewardMarket.market.slug]&&Object.entries(s[a.rewardMarket.market.slug].dailyTokenRewards).map(e=>{let[t,n]=e;return(0,T.jsxs)(sY,{children:[(0,T.jsx)(sQ,{children:"Daily ".concat(t," Reward")}),(0,T.jsxs)(sJ,{children:[Math.round(n)," ",t]})]},n)}),(0,T.jsxs)(sY,{children:[(0,T.jsxs)(sG,{children:[(0,T.jsx)(sQ,{children:"Reward vAPR"}),(0,T.jsx)(sM.H,{title:"Estimated variable annual percentage return from providing liquidity in the market."})]}),(null===(r=a.rewardMarket)||void 0===r?void 0:null===(i=r.market)||void 0===i?void 0:i.slug)&&s&&s[a.rewardMarket.market.slug]?(0,T.jsx)(sJ,{children:(0,T.jsx)(tZ.Z,{title:"vAPR",value:(0,tf._H)(s[a.rewardMarket.market.slug].vAPR.toString()),suffix:"%"})}):null]})]})]}):null},sV=N.ZP.div(sO()),sG=N.ZP.div(sR()),sY=N.ZP.div(sN()),sU=(0,N.iv)(sF()),sQ=N.ZP.div(sH(),sU),sJ=N.ZP.div(sW(),sU);var sX=n(52336);let sK=(e,t)=>e.map((e,n)=>(0,t$.mulBN)(e,t[n])).reduce((e,t)=>e.add(t),e6._Y),s0=e=>e.some(e=>e.isZero()),s1=(e,t)=>0===e.length||e.every(t=>t===e[0])||e.every(e=>Number.isNaN(e))?t.map(()=>e6.fh):(0,t$.calcDistributionHint)(e),s2=(e,t,n)=>{let r=s1(n,t);return s0(t)?(0,t$.calcInitialFundingSendAmounts)(e,r):(0,t$.calcAddFundingSendAmounts)(e,t)},s5=(e,t)=>s0(t)?(0,t$.calcInitialFundingDepositedAmounts)(e,t.map(()=>1)):(0,t$.calcAddFundingDepositedAmounts)(e,t),s3=(e,t,n,r)=>{let i=s2(e,t,r),o=i.reduce((e,t)=>e.add(t),e6._Y),l=sK(i,n.map(e=>parseFloat(e)));return[o,l]},s4=(e,t,n)=>{let r=(0,t$.calcPoolTokens)(e,t,n),i=s5(e,t),o=t.map((e,t)=>e.add(i[t])),l=(0,t$.calcPrice)(o),s=sK(i,l);return[r,s]};var s6=n(93303);let s8=(0,t_.zo)(ek.z,{width:"100%",height:"3rem !important",t:"-0.5rem",borderRadius:"4px"});var s7=n(3798),s9=n(23548),ae=n.n(s9);function at(){let e=(0,$.Z)(["\n    && {\n        margin-top: 1rem;\n    }\n"]);return at=function(){return e},e}function an(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 0.5rem;\n\n    h3 {\n        margin-top: 0.75rem;\n        text-align: center;\n    }\n\n    @media "," {\n        margin-top: 1rem;\n    }\n"]);return an=function(){return e},e}function ar(){let e=(0,$.Z)(["\n    border-radius: 50%;\n    padding: 0.5rem;\n    background-color: ",";\n    width: 50px;\n    height: 50px;\n"]);return ar=function(){return e},e}function ai(){let e=(0,$.Z)(["\n    && {\n        width: 36px;\n        height: 32px;\n        opacity: 70%;\n        transform: translate(-1px, 1px);\n        color: white;\n        @media "," {\n            transform: translate(-1px, 1px);\n        }\n    }\n"]);return ai=function(){return e},e}function ao(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    cursor: pointer;\n"]);return ao=function(){return e},e}let al=e=>{let{title:t}=e;return(0,T.jsx)(rn.Z,{title:t,arrow:!0,children:(0,T.jsx)("span",{className:ae().iconWrapper,children:(0,T.jsx)(rD(),{className:ae().infoIcon})})})},as=()=>(0,T.jsx)("div",{className:ae().liquiditySpiel,children:(0,T.jsxs)("p",{children:["Liquidity Provision is in Beta and highly experimental. Participate at your own risk. Currently, you should only provide liquidity if you want to strengthen the accuracy of the market for informational purposes and don’t expect a financial gain or you’re deeply familiar with Automated Market Maker systems and understand the risks and rewards of providing liquidity.",(0,T.jsx)("br",{})]})});(s=j||(j={}))[s.Confirm=0]="Confirm",s[s.Loading=1]="Loading";let aa=e=>{let{amount:t,initialOdds:n,checkoutAction:r,afterCheckout:i,closeModals:o}=e,{emitEvent:l}=(0,rM.EF)(),{authenticationType:s}=(0,eZ.ec)(),[a,c]=(0,I.useState)(j.Confirm),[d,u]=(0,I.useState)(!1),{poolBalances:p,market:h,poolShareSupply:m}=rv(),[x,g]=(0,I.useMemo)(()=>s3(t,p,h.outcomePrices,n),[t,p,h.outcomePrices,n]),[f,v]=(0,I.useMemo)(()=>s4(t,p,m),[t,p,m]),y=async()=>{r(),c(j.Loading);let e={action:rr.eX.Tag,clickEvent:rr.zW.AddLiquidityClickEvent,market:h};l(e)},b=async()=>{i(),o()};return(0,T.jsxs)(T.Fragment,{children:[a===j.Confirm&&(0,T.jsxs)("form",{className:ae().buyModal,children:[(0,T.jsxs)(ad,{children:[(0,T.jsx)(ah,{children:(0,T.jsx)(rL(),{onClick:()=>o()})}),(0,T.jsx)(au,{children:(0,T.jsx)(ap,{})}),(0,T.jsx)("h3",{children:"Confirm Transaction"})]}),(0,T.jsx)(as,{}),(0,T.jsx)("div",{className:ae().vSpacer}),(0,T.jsx)(rN,{label:"Liquidity Added",input:"$".concat((0,tf._H)((0,tf.Du)(t)))}),(0,T.jsx)("div",{className:ae().hLine}),(0,T.jsx)(rN,{label:(0,T.jsxs)("div",{className:ae().flexCenter,children:[(0,T.jsx)("p",{children:"Liquidity Value"}),(0,T.jsx)(al,{title:"The total value of liquidity added to the liquidity pool"})]}),input:"$".concat((0,tf._H)((0,tf.Du)(v))),textClassName:ae().pBold}),(0,T.jsx)(rN,{label:"Est. Liquidity Shares Added",input:(0,tf._H)((0,tf.Du)(f)),containerClassName:ae().subText}),(0,T.jsx)(rN,{label:(0,T.jsxs)("div",{className:ae().flexCenter,children:[(0,T.jsx)("p",{children:"Outcome Shares Value"}),(0,T.jsx)(al,{title:"You are refunded outcome shares if the market prices are uneven"})]}),input:"$".concat((0,tf._H)((0,tf.Du)(g))),textClassName:ae().pBold}),(0,T.jsx)(rN,{label:"Est. Outcome Shares Received",input:(0,tf._H)((0,tf.Du)(x)),containerClassName:ae().subText}),(0,T.jsx)("div",{className:ae().finePrintContainer,children:(0,T.jsx)(rB,{checked:d,setChecked:u,additionalPrint:"."})}),(0,T.jsx)(ac,{type:"submit",disabled:!d,onClick(e){y(),e.preventDefault()},children:"Confirm"})]}),a===j.Loading&&"magic"===s&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:ae().successModal,children:(0,T.jsx)("div",{className:ae().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:b})})})}),a===j.Loading&&"eoa"===s&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:ae().successModal,children:(0,T.jsx)("div",{className:ae().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:b})})})})]})},ac=(0,N.ZP)(i3.Db)(at()),ad=N.ZP.div(an(),H.BC.mobile),au=N.ZP.div(ar(),q.Z.polyGreen),ap=(0,N.ZP)(rt.Z)(ai(),H.BC.mobile),ah=N.ZP.div(ao()),am=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",height:"100%",p:"1rem",backgroundColor:"white","@phones":{pb:"2rem"}}),ax=e=>{let{onComplete:t,onClose:n,coerceFromDialog:r}=e,{hasFetchedLocation:i,isRestrictedLocation:o}=(0,t4.q0)(),{authenticated:l,proxyAddress:s}=(0,eZ.ec)(),{accountProfile:a}=(0,re.Z)(),{accountWalletPreferences:c}=(0,n9.Z)(),{setShowLogoutConnectionErrorModal:d}=(0,t6.vR)(),{enqueueTransaction:u}=(0,rx.HT)(),p=ry(),h=rw(),m=tk(),x=rj(),{poolBalancesMarket:g}=rv(),{proxyUsdcBalance:f,refetchProxyUsdcBalance:v}=(0,n2.Z)(),[,y]=(0,I.useState)(!0),[b,j]=(0,I.useState)(""),[k,w]=(0,I.useState)(!1),[C,S]=(0,I.useState)(!1),[M,_]=(0,I.useState)(!1),[Z,z]=(0,I.useState)(""),[L,D]=(0,I.useState)("number"==typeof m?m:tn.J),[P,E]=(0,I.useState)([]),[A,B]=(0,I.useState)(!1),[$,O]=(0,I.useState)(!1),N=(0,tf.uu)(Z||"0"),F=f.lt(N),H=p.outcomes,W=e=>{S(!1),_(!1),""===e&&z(e);try{(0,tf.uu)(e),z(e)}catch(n){let t=e.slice(0,e.indexOf(".")+tn.p8+1);z(t)}},q=e=>{Number.isNaN(e)?D(0):e===Number(".")?D(0):D(e),tw(e)},V=(0,I.useMemo)(()=>{let e=g.map(()=>e6.fh),t=g.map(()=>e6._Y),n=g.every(e=>e.gt(0));return n&&(e=[],t=(0,t$.calcAddFundingSendAmounts)(N,g)),n||(e=s1(P.map(e=>e),g),t=(0,t$.calcInitialFundingSendAmounts)(N,e)),(0,n7.safeAddFundingToMarket)(tn.Iz,p.marketMakerAddress,tn.ZZ,N,e,x,t.map(e=>(0,t$.mulBN)(e,1-L/100)),t.map(e=>(0,t$.mulBN)(e,1+L/100)))},[p.marketMakerAddress,P,g,x,L,N]),G=(0,I.useCallback)(async()=>{await Promise.all([v(),h()])},[v,h]),Y=async()=>{if(!l){(0,t7.S3)("Neither Magiclink nor Metamask is present",sX.Ui.MagicLinkMissing,s);return}try{u(V,tn.Zc.Matic,oT.iU.AddLiquidity,"",e6._Y,N,p,G,(null==c?void 0:c.advancedMode)?c.gasPreference:null,(null==c?void 0:c.advancedMode)?c.customGasPrice:null)}catch(e){e.message.toLowerCase().includes(oP.hr)?_(!0):S(!0),(0,t7.S3)(e,"Add Liquidity",s,t7.ll.MISSION_CRITICAL)}},U=async()=>{z(""),O(!1),t()},Q=(e,t)=>{let n=P;n[t]=parseInt(String(e)),E(n);let r=Object.values(n).reduce((e,t)=>e+t,0);100===r||n.every(e=>Number.isNaN(e))?B(!1):100!==r&&B(!0)},{hasError:J,errorText:X}=oR({isTradeLargerThanBalance:F,hasTooFewShares:N.lte(0),hasAnOddsError:A}),K=()=>{$||O(!0),a||(console.log("no profile"),d(!0)),!J&&a&&(w(!0),_(!1),S(!1))},ee=(0,I.useCallback)(()=>{w(!1),O(!1)},[w,O]);(0,I.useEffect)(()=>{$&&!J&&O(!1)},[$,J,w]);let et=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sc.$N,{children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"1.125rem"},children:"Add liquidity"})}),(0,T.jsxs)(sc.Be,{css:{my:"1rem !important"},children:[(0,T.jsx)(sq,{market:p}),(0,T.jsxs)(s7.Z,{children:["Add liquidity to earn fees based on the volume traded while you are a liquidity provider. Fees earned are proportional to the percentage of the pool your contributions account for."," ",(0,T.jsx)(R(),{href:tn.F$,as:tn.F$,passHref:!0,children:(0,T.jsx)(ew.ee,{children:(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",textDecoration:"none"},children:"Read more in the docs"})})})]}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",my:"1rem"},children:[(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(ew.xv,{size:"md",weight:"medium",css:{mb:"0.5rem"},children:"Amount"}),(0,T.jsx)(eh.kC,{css:{pb:"0.125rem"},children:(0,T.jsx)(lY,{slippageTolerance:L,setSlippageTolerance:q,setCanCheckout:y,helperMessage:b,setHelperMessage:j,isLp:!0})})]}),(0,T.jsx)(s6.Z,{type:"number",step:"any",min:0,placeholder:"0",value:Z,onChange:e=>W(e.target.value)}),(0,T.jsxs)("div",{hidden:g.every(e=>e.gt(0)),children:[(0,T.jsxs)("div",{className:sf().initialOddsBox,children:[(0,T.jsx)("b",{children:"Initial Odds"}),(0,T.jsx)(sb,{})]}),H.map((e,t)=>(0,T.jsxs)("div",{className:eu()(sf().oddPosition,t===H.length-1&&sf().lastOddsPositionChild),children:[(0,T.jsx)("span",{children:e}),(0,T.jsx)("input",{className:eu()(J&&A&&$&&sf().redBorder),type:"number",placeholder:"0",onChange:e=>Q(e.target.value,t)})]},e))]}),(0,T.jsxs)(ew.xv,{size:"sm",weight:"normal",css:{color:"$gray3",display:"inline",mt:"0.5rem"},children:["Available:"," ",(0,tf._H)((0,tf.Du)(f))||0," ","USDC"," ",(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",cursor:"pointer"},onClick:()=>W((0,tf.Du)(f)),children:"Max"})]}),(0,T.jsx)(oL,{shouldShowError:J&&$,errorText:X}),C&&(0,T.jsx)(o_,{}),M&&(0,T.jsx)(oS,{})]})]}),i&&o?(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0,shouldLeftAlign:!0}):i&&!o?(0,T.jsx)(s8,{type:"primary",onClick:K,disabled:J||""===Z||0>=parseFloat(Z),children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"14px",color:"white"},children:"Add liquidity"})}):null]});return(0,T.jsx)(T.Fragment,{children:r?(0,T.jsxs)(T.Fragment,{children:[k&&(0,T.jsx)(am,{children:(0,T.jsx)(aa,{amount:N,initialOdds:P.map(e=>e),checkoutAction:()=>Y(),afterCheckout:U,closeModals:ee})}),!k&&(0,T.jsxs)(am,{children:[(0,T.jsx)(eh.kC,{onClick:()=>null==n?void 0:n(),children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),et]})]}):(0,T.jsxs)(T.Fragment,{children:[k&&(0,T.jsx)(sc.cZ,{children:(0,T.jsx)(aa,{amount:N,initialOdds:P.map(e=>e),checkoutAction:()=>Y(),afterCheckout:U,closeModals:ee})}),!k&&(0,T.jsxs)(sc.cZ,{children:[(0,T.jsx)(sc.GG,{"aria-label":"Close",asChild:!0,children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),et]})]})})};var ag=n(2259),af=n.n(ag);function av(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 1rem;\n\n    h3 {\n        margin-top: 0.75rem;\n        text-align: center;\n    }\n\n    @media "," {\n        margin-top: 1rem;\n    }\n"]);return av=function(){return e},e}function ay(){let e=(0,$.Z)(["\n    border-radius: 50%;\n    padding: 0.5rem;\n    background-color: ",";\n    width: 50px;\n    height: 50px;\n"]);return ay=function(){return e},e}function ab(){let e=(0,$.Z)(["\n    && {\n        width: 36px;\n        height: 32px;\n        opacity: 70%;\n        transform: translate(-1px, 1px);\n        color: white;\n        @media "," {\n            transform: translate(-1px, 1px);\n        }\n    }\n"]);return ab=function(){return e},e}function aj(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    cursor: pointer;\n"]);return aj=function(){return e},e}(a=k||(k={}))[a.Confirm=0]="Confirm",a[a.Loading=1]="Loading";let ak=e=>{let{amount:t,checkoutAction:n,afterCheckout:r,closeModals:i}=e,{emitEvent:o}=(0,rM.EF)(),{authenticationType:l}=(0,eZ.ec)(),[s,a]=(0,I.useState)(k.Confirm),[c,d]=(0,I.useState)(!1),u=ry(),p=async()=>{n(),a(k.Loading);let e={action:rr.eX.Tag,clickEvent:rr.zW.RemoveLiquidityClickEvent,market:u};o(e)},h=async()=>{r(),i()};return(0,T.jsxs)(T.Fragment,{children:[s===k.Confirm&&(0,T.jsxs)("form",{className:af().buyModal,children:[(0,T.jsxs)(aw,{children:[(0,T.jsx)(aM,{children:(0,T.jsx)(rL(),{onClick:()=>i()})}),(0,T.jsx)(aC,{children:(0,T.jsx)(aS,{})}),(0,T.jsx)("h3",{children:"Confirm Transaction"})]}),(0,T.jsx)(rN,{label:"Shares Merged",input:(0,tf._H)(t)}),(0,T.jsx)("div",{className:af().hLine}),(0,T.jsx)(rN,{label:"USDC Received",input:"$".concat((0,tf._H)(t))}),(0,T.jsx)("div",{className:af().finePrintContainer,children:(0,T.jsx)(rB,{checked:c,setChecked:d,additionalPrint:"."})}),(0,T.jsx)(i3.Db,{type:"submit",disabled:!c,onClick(e){p(),e.preventDefault()},children:"Confirm"})]}),s===k.Loading&&"magic"===l&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:af().successModal,children:(0,T.jsx)("div",{className:af().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:h})})})}),s===k.Loading&&"eoa"===l&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:af().successModal,children:(0,T.jsx)("div",{className:af().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:h})})})})]})},aw=N.ZP.div(av(),H.BC.mobile),aC=N.ZP.div(ay(),q.Z.polyGreen),aS=(0,N.ZP)(rt.Z)(ab(),H.BC.mobile),aM=N.ZP.div(aj()),a_=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",height:"100%",p:"1rem",backgroundColor:"white"}),aZ=e=>{let{onComplete:t,onClose:n,coerceFromDialog:r}=e,{hasFetchedLocation:i,isRestrictedLocation:o}=(0,t4.q0)(),{authenticated:l,proxyAddress:s}=(0,eZ.ec)(),{accountProfile:a}=(0,re.Z)(),{accountWalletPreferences:c}=(0,n9.Z)(),{setShowLogoutConnectionErrorModal:d}=(0,t6.vR)(),{enqueueTransaction:u}=(0,rx.HT)(),p=ry(),h=rk(),m=rw(),{refetchProxyUsdcBalance:x}=(0,n2.Z)(),[g,f]=(0,I.useState)(!1),[v,y]=(0,I.useState)(!1),[b,j]=(0,I.useState)(!1),[k,w]=(0,I.useState)(!1),[C,S]=(0,I.useState)(""),M=(0,tf.uu)(C||"0"),_=h.reduce((e,t)=>e.gt(t)?t:e,e6.Bz),Z=e=>{j(!1),w(!1),""===e&&S(e);try{(0,tf.uu)(e),S(e)}catch(n){let t=e.slice(0,e.indexOf(".")+tn.p8+1);S(t)}},z=(0,I.useCallback)(async()=>{await Promise.all([m(),x()])},[x,m]),L=async()=>{if(!l||!a){(0,t7.S3)("Magiclink is null",sX.Ui.MagicLinkMissing,s);return}try{u((0,n7.mergePositions)(tn.b6,tn.ZZ,p.conditionId,p.outcomes.length,M),tn.Zc.Matic,oT.iU.Merge,"",M,e6._Y,p,z,(null==c?void 0:c.advancedMode)?c.gasPreference:null,(null==c?void 0:c.advancedMode)?c.customGasPrice:null)}catch(e){e.message.toLowerCase().includes(oP.hr)?w(!0):j(!0),(0,t7.S3)(e,"Merge Shares",s,t7.ll.MISSION_CRITICAL)}},D=async()=>{S(""),y(!1),t()},{hasError:P,errorText:E}=oR({units:"shares",isTradeLargerThanBalance:M.gt(_),hasTooFewShares:M.lte(0)}),A=()=>{v||y(!0),a||(console.log("no profile"),d(!0)),P||(f(!0),w(!1),j(!1))};if(_.eq(0)||_.eq(e6.Bz))return null;let B=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sc.$N,{children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"1.125rem"},children:"Merge shares"})}),(0,T.jsxs)(sc.Be,{css:{my:"1rem !important"},children:[(0,T.jsx)(s7.Z,{children:"Merge a share of Yes and No to get 1 USDC. You can do this to save cost when trying to get rid of a position."}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",my:"1rem"},children:[(0,T.jsx)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:(0,T.jsx)(ew.xv,{size:"md",weight:"medium",css:{mb:"0.5rem"},children:"Amount"})}),(0,T.jsx)(s6.Z,{type:"number",step:"any",min:0,placeholder:"0",value:C,onChange:e=>Z(e.target.value)}),(0,T.jsxs)(ew.xv,{size:"sm",weight:"normal",css:{color:"$gray3",display:"inline",mt:"0.5rem"},children:["Available shares:"," ",(0,tf.Du)(_.toString())," ",(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",cursor:"pointer"},onClick:()=>Z((0,tf.Du)(_)),children:"Max"})]}),(0,T.jsx)(oL,{shouldShowError:P&&v,errorText:E}),b&&(0,T.jsx)(o_,{}),k&&(0,T.jsx)(oS,{})]})]}),i&&o?(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0,shouldLeftAlign:!0}):(0,T.jsx)(s8,{type:"primary",onClick:A,disabled:P||""===C||0>=parseFloat(C),children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"14px",color:"white"},children:"Merge Shares"})})]});return(0,T.jsx)(T.Fragment,{children:r?(0,T.jsxs)(T.Fragment,{children:[g&&(0,T.jsx)(a_,{children:(0,T.jsx)(ak,{amount:(0,tf.Du)(M.toString()),checkoutAction:L,afterCheckout:D,closeModals:()=>f(!1)})}),!g&&(0,T.jsxs)(a_,{children:[(0,T.jsx)(eh.kC,{onClick:()=>null==n?void 0:n(),children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),B]})]}):(0,T.jsxs)(T.Fragment,{children:[g&&(0,T.jsx)(sc.cZ,{children:(0,T.jsx)(ak,{amount:(0,tf.Du)(M.toString()),checkoutAction:L,afterCheckout:D,closeModals:()=>f(!1)})}),!g&&(0,T.jsxs)(sc.cZ,{children:[(0,T.jsx)(sc.GG,{"aria-label":"Close",asChild:!0,children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),B]})]})})};var az=n(31811),aL=n.n(az);function aT(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 1rem;\n\n    h3 {\n        margin-top: 0.75rem;\n        text-align: center;\n    }\n\n    @media "," {\n        margin-top: 1rem;\n    }\n"]);return aT=function(){return e},e}function aD(){let e=(0,$.Z)(["\n    border-radius: 50%;\n    padding: 0.5rem;\n    background-color: ",";\n    width: 50px;\n    height: 50px;\n"]);return aD=function(){return e},e}function aP(){let e=(0,$.Z)(["\n    && {\n        width: 36px;\n        height: 32px;\n        opacity: 70%;\n        transform: translate(-1px, 1px);\n        color: white;\n        @media "," {\n            transform: translate(-1px, 1px);\n        }\n    }\n"]);return aP=function(){return e},e}function aE(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    cursor: pointer;\n"]);return aE=function(){return e},e}(c=w||(w={}))[c.Confirm=0]="Confirm",c[c.Loading=1]="Loading";let aI=e=>{let{amount:t,checkoutAction:n,afterCheckout:r,closeModals:i}=e,{emitEvent:o}=(0,rM.EF)(),{authenticationType:l}=(0,eZ.ec)(),{poolBalances:s,poolShareSupply:a,market:c}=rv(),d=(0,I.useMemo)(()=>(0,t$.calcRemoveFundingSendAmounts)(t,s,a),[t,s,a]),[u,p]=(0,I.useState)(w.Confirm),[h,m]=(0,I.useState)(!1),x=async()=>{n(),p(w.Loading);let e={action:rr.eX.Tag,clickEvent:rr.zW.RemoveLiquidityClickEvent,market:c};o(e)},g=async()=>{r(),i()};return(0,T.jsxs)(T.Fragment,{children:[u===w.Confirm&&(0,T.jsxs)("form",{className:aL().buyModal,children:[(0,T.jsxs)(aA,{children:[(0,T.jsx)(aO,{children:(0,T.jsx)(rL(),{onClick:()=>i()})}),(0,T.jsx)(aB,{children:(0,T.jsx)(a$,{})}),(0,T.jsx)("h3",{children:"Confirm Transaction"})]}),(0,T.jsx)(rN,{label:"Liquidity Shares Removed",input:(0,tf._H)((0,tf.Du)(t))}),(0,T.jsx)("div",{className:aL().hLine}),(0,T.jsx)("div",{className:aL().outcomeSharesHeader,children:"Outcome Shares Received"}),(0,T.jsx)("div",{className:aL().outcomeSharesContainer,children:c.outcomes.map((e,t)=>(0,T.jsx)(rN,{label:e,input:(0,tf._H)((0,tf.Du)(d[t])),textClassName:aL().outcomeSharesText},e))}),(0,T.jsx)("div",{className:aL().finePrintContainer,children:(0,T.jsx)(rB,{checked:h,setChecked:m,additionalPrint:"."})}),(0,T.jsx)(i3.Db,{type:"submit",disabled:!h,onClick(e){x(),e.preventDefault()},children:"Confirm"})]}),u===w.Loading&&"magic"===l&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:aL().successModal,children:(0,T.jsx)("div",{className:aL().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:g})})})}),u===w.Loading&&"eoa"===l&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:aL().successModal,children:(0,T.jsx)("div",{className:aL().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:g})})})})]})},aA=N.ZP.div(aT(),H.BC.mobile),aB=N.ZP.div(aD(),q.Z.polyGreen),a$=(0,N.ZP)(rt.Z)(aP(),H.BC.mobile),aO=N.ZP.div(aE()),aR=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",height:"100%",p:"1rem",backgroundColor:"white"}),aN=e=>{let{onComplete:t,onClose:n,coerceFromDialog:r}=e,{hasFetchedLocation:i,isRestrictedLocation:o}=(0,t4.q0)(),{authenticated:l,proxyAddress:s}=(0,eZ.ec)(),{accountProfile:a}=(0,re.Z)(),{accountWalletPreferences:c}=(0,n9.Z)(),{setShowLogoutConnectionErrorModal:d}=(0,t6.vR)(),{enqueueTransaction:u}=(0,rx.HT)(),p=ry(),h=rw(),[m,x]=(0,I.useState)(!1),[g,f]=(0,I.useState)(!1),[v,y]=(0,I.useState)(!1),[b,j]=(0,I.useState)(!1),[k,w]=(0,I.useState)(""),[C,S]=(0,I.useState)(!1),M=(0,tf.uu)(k||"0"),_=rS(),Z=_.lt(M),z=e=>e.lt(tn.lD*tn.gq)?e7.O$.from(0):e.sub(tn.lD),L=e=>{y(!1),f(!1),j(!1),""===e&&w(e);try{(0,tf.uu)(e),w(e)}catch(n){let t=e.slice(0,e.indexOf(".")+tn.p8+1);w(t)}},D=(0,I.useCallback)(async()=>{await h()},[h]),P=async()=>{if(!l||!a){(0,t7.S3)("Magiclink is null",sX.Ui.MagicLinkMissing,s);return}try{u((0,n7.removeFundingFromMarket)(p.marketMakerAddress,oI(M,_.sub(1))),tn.Zc.Matic,oT.iU.RemoveLiquidity,"",oI(M,_.sub(1)),e6._Y,p,D,(null==c?void 0:c.advancedMode)?c.gasPreference:null,(null==c?void 0:c.advancedMode)?c.customGasPrice:null)}catch(e){A(e.message),(0,t7.S3)(e,"Remove Liquidity",s,t7.ll.MISSION_CRITICAL)}},E=async()=>{w(""),S(!1),t()},A=e=>{e&&e.includes("subtraction overflow")?f(!0):e&&e.toLowerCase().includes(oP.hr)?j(!0):y(!0)},{hasError:B,errorText:$}=oR({isTradeLargerThanBalance:Z,hasTooFewShares:M.lte(0),units:"shares"}),O=()=>{C||S(!0),a||(console.log("no profile"),d(!0)),B||(x(!0),j(!1),y(!1),f(!1))};if(_.lte(1))return null;let R=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sc.$N,{children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"1.125rem"},children:"Remove liquidity"})}),(0,T.jsx)(sc.Be,{css:{my:"1rem !important"},children:(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",my:"1rem"},children:[(0,T.jsx)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:(0,T.jsx)(ew.xv,{size:"md",weight:"medium",css:{mb:"0.5rem"},children:"Shares Amount"})}),(0,T.jsx)(s6.Z,{type:"number",step:"any",min:0,placeholder:"0",value:k,onChange:e=>L(e.target.value)}),(0,T.jsxs)(ew.xv,{size:"sm",weight:"normal",css:{color:"$gray3",display:"inline",mt:"0.5rem"},children:["Shares:"," ",(0,tf._H)((0,tf.Du)(z(_)))," ",(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",cursor:"pointer"},onClick:()=>L((0,tf.Du)(z(_))),children:"Max"})]}),(0,T.jsx)(oL,{shouldShowError:B&&C,errorText:$}),v&&(0,T.jsx)(o_,{}),b&&(0,T.jsx)(oS,{}),g&&(0,T.jsx)("h3",{className:sf().errorMessage,children:"Transaction failed. Buy or sell $1 worth of shares and try again."})]})}),i&&o?(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0,shouldLeftAlign:!0}):i&&!o?(0,T.jsx)(s8,{type:"primary",onClick:O,disabled:B||0>=parseFloat(k),children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"14px",color:"white"},children:"Redeem liquidity"})}):null]});return(0,T.jsx)(T.Fragment,{children:r?(0,T.jsxs)(T.Fragment,{children:[m&&(0,T.jsx)(aR,{children:(0,T.jsx)(aI,{amount:M,checkoutAction:P,afterCheckout:E,closeModals:()=>x(!1)})}),!m&&(0,T.jsxs)(aR,{children:[(0,T.jsx)(eh.kC,{onClick:()=>null==n?void 0:n(),children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),R]})]}):(0,T.jsxs)(T.Fragment,{children:[m&&(0,T.jsx)(sc.cZ,{children:(0,T.jsx)(aI,{amount:M,checkoutAction:P,afterCheckout:E,closeModals:()=>x(!1)})}),!m&&(0,T.jsxs)(sc.cZ,{children:[(0,T.jsx)(sc.GG,{"aria-label":"Close",asChild:!0,children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),R]})]})})};var aF=n(45645),aH=n(21800),aW=n.n(aH);function aq(){let e=(0,$.Z)(["\n    && {\n        margin-top: 1rem;\n    }\n"]);return aq=function(){return e},e}function aV(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 0.5rem;\n\n    h3 {\n        margin-top: 0.75rem;\n        text-align: center;\n    }\n\n    @media "," {\n        margin-top: 1rem;\n    }\n"]);return aV=function(){return e},e}function aG(){let e=(0,$.Z)(["\n    border-radius: 50%;\n    padding: 0.5rem;\n    background-color: ",";\n    width: 50px;\n    height: 50px;\n"]);return aG=function(){return e},e}function aY(){let e=(0,$.Z)(["\n    && {\n        width: 36px;\n        height: 32px;\n        opacity: 70%;\n        transform: translate(-1px, 1px);\n        color: white;\n        @media "," {\n            transform: translate(-1px, 1px);\n        }\n    }\n"]);return aY=function(){return e},e}function aU(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    cursor: pointer;\n"]);return aU=function(){return e},e}let aQ=e=>{let{title:t}=e;return(0,T.jsx)(rn.Z,{title:t,arrow:!0,children:(0,T.jsx)("span",{className:aW().iconWrapper,children:(0,T.jsx)(rD(),{className:aW().infoIcon})})})};(d=C||(C={}))[d.Confirm=0]="Confirm",d[d.Loading=1]="Loading";let aJ=e=>{let{amount:t,checkoutAction:n,afterCheckout:r,closeModals:i}=e,o=ry(),{emitEvent:l}=(0,rM.EF)(),{authenticationType:s}=(0,eZ.ec)(),[a,c]=(0,I.useState)(C.Confirm),[d,u]=(0,I.useState)(!1),p=async()=>{n(),c(C.Loading);let e={action:rr.eX.Tag,clickEvent:rr.zW.SplitSharesClickEvent,market:o};l(e)},h=async()=>{r(),i()};return(0,T.jsxs)(T.Fragment,{children:[a===C.Confirm&&(0,T.jsxs)("form",{className:aW().buyModal,children:[(0,T.jsxs)(aK,{children:[(0,T.jsx)(a2,{children:(0,T.jsx)(rL(),{onClick:()=>i()})}),(0,T.jsx)(a0,{children:(0,T.jsx)(a1,{})}),(0,T.jsx)("h3",{children:"Confirm Transaction"})]}),(0,T.jsx)("div",{className:aW().vSpacer}),(0,T.jsx)(rN,{label:"USDC to be split",input:"$".concat((0,tf._H)((0,tf.Du)(t)))}),(0,T.jsx)("div",{className:aW().hLine}),(0,T.jsx)(rN,{label:(0,T.jsxs)("div",{className:aW().flexCenter,children:[(0,T.jsx)("p",{children:"Outcome Shares Value"}),(0,T.jsx)(aQ,{title:"The total value of USDC to be split into shares"})]}),input:"$".concat((0,tf._H)((0,tf.Du)(t))),textClassName:aW().pBold}),(0,T.jsx)(rN,{label:"Est. Outcome Shares Received (each side)",input:(0,tf._H)((0,tf.Du)(t)),containerClassName:aW().subText}),(0,T.jsx)("div",{className:aW().finePrintContainer,children:(0,T.jsx)(rB,{checked:d,setChecked:u,additionalPrint:"."})}),(0,T.jsx)(aX,{type:"submit",disabled:!d,onClick(e){p(),e.preventDefault()},children:"Confirm"})]}),a===C.Loading&&"magic"===s&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:aW().successModal,children:(0,T.jsx)("div",{className:aW().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:h})})})}),a===C.Loading&&"eoa"===s&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:aW().successModal,children:(0,T.jsx)("div",{className:aW().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:h})})})})]})},aX=(0,N.ZP)(i3.Db)(aq()),aK=N.ZP.div(aV(),H.BC.mobile),a0=N.ZP.div(aG(),q.Z.polyGreen),a1=(0,N.ZP)(rt.Z)(aY(),H.BC.mobile),a2=N.ZP.div(aU()),a5=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",height:"100%",p:"1rem",backgroundColor:"white"}),a3=e=>{let{onComplete:t,onClose:n,coerceFromDialog:r}=e,{authenticated:i}=(0,eZ.ec)(),{hasFetchedLocation:o,isRestrictedLocation:l}=(0,t4.q0)(),{accountProfile:s}=(0,re.Z)(),a=ry(),{setShowLogoutConnectionErrorModal:c,setShowDeploySafeModal:d}=(0,t6.vR)(),{chain:u}=(0,te.LN)(),{proxyAddress:p,authenticationType:h,isSafeDeployed:m}=(0,eZ.ec)(),{proxyUsdcBalance:x,refetchProxyUsdcBalance:g}=(0,n2.Z)(),{enqueueTransaction:f}=(0,rx.HT)(),{accountWalletPreferences:v}=(0,n9.Z)(),{setShowDepositModal:y}=(0,aF.EY)(),{refreshShareBalances:b}=nN(),[j,k]=(0,I.useState)(!1),[w,C]=(0,I.useState)(!1),[S,M]=(0,I.useState)(!1),[_,Z]=(0,I.useState)(""),z=(0,tf.uu)(_||"0"),[L,D]=(0,I.useState)(!1),[P,E]=(0,I.useState)(!1),{hasError:A,errorText:B}=oR({units:"USDC",isTradeLargerThanBalance:z.gt(x),hasTooFewShares:z.lte(0)}),$=(0,tf.uu)(_||"0"),O=e=>{D(!1),k(!1),C(!1),""===e&&Z(e);try{(0,tf.uu)(e),Z(e)}catch(n){let t=e.slice(0,e.indexOf(".")+tn.p8+1);Z(t)}},R=(0,I.useCallback)(async()=>{await Promise.all([g(),b()])},[g,b]),N=async()=>{Z(""),D(!1),t()},F=()=>{L||D(!0),s||(console.log("no profile"),c(!0)),!A&&s&&(M(!0),C(!1),k(!1))},H=(0,I.useCallback)(()=>{M(!1),D(!1)},[M,D]),W=async()=>{if(!i){(0,t7.S3)("Neither Magiclink nor Metamask is present",sX.Ui.MagicLinkMissing,p);return}try{var e,t;f((0,n7.splitPosition)(tn.b6,tn.ZZ,null!==(e=null==a?void 0:a.conditionId)&&void 0!==e?e:"",null!==(t=null==a?void 0:a.outcomes.length)&&void 0!==t?t:0,z),tn.Zc.Matic,oT.iU.Split,"",e6._Y,$,a,R,(null==v?void 0:v.advancedMode)?v.gasPreference:null,(null==v?void 0:v.advancedMode)?v.customGasPrice:null),E(!0)}catch(n){console.log("err",n),(0,t7.S3)(n,"Split Shares",p,t7.ll.MISSION_CRITICAL)}};if((0,I.useEffect)(()=>{P&&(E(!1),R())},[P]),!a)return null;let q=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sc.$N,{children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"1.125rem"},children:"Split shares"})}),x.eq(e6._Y)||"eoa"===h&&(!u||137!==u.id)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(sc.Be,{children:(0,T.jsx)(s7.Z,{children:"You must have USDC to split shares!"})}),(0,T.jsx)(s8,{type:"primary",onClick(){if("eoa"===h&&!m){d(!0);return}y(!0),t()},children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"14px",color:"white"},children:"Deposit"})})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(sc.Be,{css:{my:"1rem !important"},children:[(0,T.jsxs)(s7.Z,{children:["Split a USDC into a share of Yes and No. You can do this to save cost by getting both and just selling the other side."," "]}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",my:"1rem"},children:[(0,T.jsx)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:(0,T.jsx)(ew.xv,{size:"md",weight:"medium",css:{mb:"0.5rem"},children:"Amount"})}),(0,T.jsx)(s6.Z,{type:"number",step:"any",min:0,placeholder:"0",value:_,onChange:e=>O(e.target.value)}),(0,T.jsxs)(ew.xv,{size:"sm",weight:"normal",css:{color:"$gray3",display:"inline",mt:"0.5rem"},children:["Available:"," ",(0,tf._H)((0,tf.Du)(x))||0," ","USDC"," ",(0,T.jsx)(eh.Dr,{css:{color:"$polyBlue",cursor:"pointer"},onClick:()=>O((0,tf.Du)(x)),children:"Max"})]}),(0,T.jsx)(oL,{shouldShowError:A&&L,errorText:B}),j&&(0,T.jsx)(o_,{}),w&&(0,T.jsx)(oS,{})]})]}),o&&l?(0,T.jsx)(t5,{copy:t8.o5,withTermsLink:!0,shouldLeftAlign:!0}):o&&!l?(0,T.jsx)(s8,{type:"primary",onClick:F,disabled:A||""===_||0>=parseFloat(_),children:(0,T.jsx)(ew.xv,{weight:"medium",css:{fontSize:"14px",color:"white"},children:"Split shares"})}):null]})]});return(0,T.jsx)(T.Fragment,{children:r?(0,T.jsxs)(T.Fragment,{children:[S&&(0,T.jsx)(a5,{children:(0,T.jsx)(aJ,{amount:$,checkoutAction:()=>W(),afterCheckout:N,closeModals:H})}),!S&&(0,T.jsxs)(a5,{children:[(0,T.jsx)(eh.kC,{onClick:()=>null==n?void 0:n(),children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),q]})]}):(0,T.jsxs)(T.Fragment,{children:[S&&(0,T.jsx)(sc.cZ,{children:(0,T.jsx)(aJ,{amount:$,checkoutAction:()=>W(),afterCheckout:N,closeModals:H})}),!S&&(0,T.jsxs)(sc.cZ,{children:[(0,T.jsx)(sc.GG,{"aria-label":"Close",asChild:!0,children:(0,T.jsx)(sx.c,{style:{position:"absolute",right:"1.5rem",top:"1.875rem",cursor:"pointer"},size:24})}),q]})]})})};(u=S||(S={}))[u.ADD_LIQUIDITY=0]="ADD_LIQUIDITY",u[u.REMOVE_LIQUIDITY=1]="REMOVE_LIQUIDITY",u[u.MERGE_SHARES=2]="MERGE_SHARES",u[u.SPLIT_SHARES=3]="SPLIT_SHARES";let a4=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(30px)"},"100%":{opacity:1,transform:"translateY(0)"}}),a6=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-30px)"}}),a8=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(-30px)"},"100%":{opacity:1,transform:"translateY(0)"}}),a7=(0,t_.F4)({"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(30px)"}}),a9=(0,t_.zo)(sm.AW,{'&[data-state="open"]':{'&[data-side="top"]':{animationName:a4},'&[data-side="bottom"]':{animationName:a8}},'&[data-state="closed"]':{'&[data-side="top"]':{animationName:a7},'&[data-side="bottom"]':{animationName:a6}}}),ce=()=>{let{activeMarket:e}=e3(),{orderType:t}=tM(),{chain:n}=(0,te.LN)(),{setShowConnectModal:r}=(0,t6.vR)(),{authenticated:i,authenticationType:o}=(0,eZ.ec)(),{hasAmmLiquidityPosition:l,shareBalances:s}=sh(e),a=(0,I.useMemo)(()=>{let e=s.reduce((e,t)=>e.gt(t)?t:e,e6.Bz);return e.eq(0)||e.eq(e6.Bz)},[s]),c=(0,I.useMemo)(()=>!l,[l]),[d,u]=(0,I.useState)(!1),[p,h]=(0,I.useState)(void 0),[m,x]=(0,I.useState)(!1),g=(0,I.useCallback)(e=>{i?(h(e),u(!0)):r(!0)},[i,r,h,u]),f=(0,I.useMemo)(()=>[...t===tr.mr.Limit||t===tr.mr.Market?[]:[{label:"Add liquidity",value:S.ADD_LIQUIDITY,onClick:()=>g(S.ADD_LIQUIDITY),disabled:!1},{label:"Remove liquidity",value:S.REMOVE_LIQUIDITY,onClick:()=>g(S.REMOVE_LIQUIDITY),disabled:c}],{label:"Merge shares",value:S.MERGE_SHARES,onClick:()=>g(S.MERGE_SHARES),disabled:a},{label:"Split shares",value:S.SPLIT_SHARES,onClick:()=>g(S.SPLIT_SHARES),disabled:!1}],[a,c,t,g]);return i&&"eoa"===o&&(!n||137!==n.id)?null:(0,T.jsxs)(eh.kC,{css:{width:"100%",m:"1rem 0"},children:[(0,T.jsxs)(sm.h_,{open:m,onOpenChange:x,css:{width:"100%"},modal:!1,children:[(0,T.jsx)(sm.$F,{asChild:!0,css:{border:"1px solid $gray5"},children:(0,T.jsxs)(ek.z,{type:"tertiary",css:{width:"100%",borderRadius:"8px",border:"1px solid $gray2",boxShadow:"$dropShadowMd"},children:[(0,T.jsx)(ew.xv,{size:"md",weight:"medium",children:"More"})," ",(0,T.jsx)(oQ.F,{css:{fontSize:20}})]})}),(0,T.jsx)(a9,{alignOffset:5,variant:"otherTradingWidgets",style:{width:"340px"},children:f.map((e,t)=>(0,T.jsx)(sm.Xi,{css:{"&[data-disabled]":{"&:hover":{cursor:"not-allowed !important"},"& p":{color:"$shadeMain !important"}}},onSelect:()=>e.onClick(),disabled:e.disabled,children:(0,T.jsx)(ew.xv,{size:"lg",weight:"medium",children:e.label},t)},t))})]}),d&&(0,T.jsxs)(sc.Vq,{defaultOpen:!0,open:d,onOpenChange:u,children:[p===S.ADD_LIQUIDITY&&(0,T.jsx)(ax,{onComplete:()=>u(!1)}),p===S.REMOVE_LIQUIDITY&&(0,T.jsx)(aN,{onComplete:()=>u(!1)}),p===S.MERGE_SHARES&&(0,T.jsx)(aZ,{onComplete:()=>u(!1)}),p===S.SPLIT_SHARES&&(0,T.jsx)(a3,{onComplete:()=>u(!1)})]})]})};var ct=n(6098),cn=n(82879),cr=n.n(cn),ci=n(19040),co=n(57144);(p=M||(M={}))[p.Start=0]="Start",p[p.Loading=1]="Loading";let cl=(0,t_.zo)(eh.kC,{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid $gray5",boxShadow:"$dropShadowMd",flexDirection:"column",flexShrink:1,justifyContent:"space-between",width:"100%"}),cs=(0,t_.zo)(eh.kC,{width:"100%",p:"2rem 1.5rem",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"}),ca=(0,t_.zo)(eh.kC,{flexDirection:"column",alignItems:"center",width:"100%",p:"1.5rem 1.25rem 1.25rem",gap:"1rem"}),cc=(0,t_.zo)(eh.kC,{width:"100%",justifyContent:"space-between"}),cd=(0,t_.zo)(ew.xv,{color:"$gray3 !important",fontSize:"$md !important"}),cu=(0,t_.zo)(eh.kC,{color:"black",fontSize:"$md !important",fontWeight:"$semi"}),cp=(0,t_.zo)(ek.z,{width:"100%"}),ch=(0,t_.zo)(ek.z,{width:"100%",backgroundColor:"$lightOpaquePolyBlue",color:"$polyBlue","&:hover":{backgroundColor:"$lightOpaquePolyBlue",opacity:"0.75"},"&:disabled":{cursor:"not-allowed",opacity:"0.5","&:hover":{opacity:"0.5"}}}),cm=(0,t_.zo)(ct.M,{color:"$polyBlue",size:"48px"}),cx=(e,t)=>{var n,r;return{...e,netQuantity:null!==(r=null==t?void 0:null===(n=t[Number(null==e?void 0:e.outcomeIndex)])||void 0===n?void 0:n.toString())&&void 0!==r?r:e.netQuantity}},cg=()=>{var e,t;let{switchNetworkAsync:n}=(0,te.g0)(),{chain:r}=(0,te.LN)(),{authenticated:i,authenticationType:o,proxyAddress:l}=(0,eZ.ec)(),{accountProfile:s}=(0,re.Z)(),{accountWalletPreferences:a}=(0,n9.Z)(),{refetchProxyUsdcBalance:c}=(0,n2.Z)(),{emitEvent:d}=(0,rM.EF)(),{enqueueTransaction:u}=(0,rx.HT)(),{activeMarket:p}=e3(),{shareBalances:h,refreshShareBalances:m}=sh(p),{marketPositions:x,refreshMarketPositions:g}=rp(null!==(e=null==p?void 0:p.marketMakerAddress)&&void 0!==e?e:""),f=rw(),[v,y]=(0,I.useState)(!1),[b,j]=(0,I.useState)(M.Start),[k,w]=(0,I.useState)(!1),{payoutsString:C}=(0,co.i)(p),[S,_]=(0,I.useState)(!1),Z=x.map(e=>cx(e,h)),z=Z.reduce((e,t)=>e.add((0,ci.ac)(t)),e6._Y),L=(0,I.useMemo)(()=>h.length?h.reduce((e,t)=>e.add(t),e6._Y):e6._Y,[h]),D=(0,I.useCallback)(async()=>{await Promise.all([m(),g(),c(),f()])},[c,f,g,m]),P=async()=>{if(_(!1),!i||!s){(0,t7.S3)("Magiclink is null",oD.Ui.MagicLinkMissing,l);return}try{u((0,n7.redeemPositions)(tn.b6,tn.ZZ,p.conditionId,p.outcomes.length),tn.Zc.Matic,oT.iU.Redeem,"NA",z,z,p,D,(null==a?void 0:a.advancedMode)?a.gasPreference:null,(null==a?void 0:a.advancedMode)?a.customGasPrice:null)}catch(e){_(!0),(0,t7.S3)(e,"Redeem Shares",l,t7.ll.MISSION_CRITICAL)}},E=async()=>{P(),j(M.Loading);let e={action:rr.eX.Tag,clickEvent:rr.zW.RedeemClickEvent,market:p};d(e)},A=async()=>{y(!1),D(),j(M.Start)},B=async()=>{try{w(!0),await (null==n?void 0:n(137))}catch(e){w(!1),(0,t7.S3)("Error handling network change",e)}};return(0,I.useEffect)(()=>{let e=async()=>{await D()};L.gt(0)||v||(y(!0),e())},[L,D,v,y]),(0,I.useEffect)(()=>{k&&(null==r?void 0:r.id)===137&&w(!1)},[null==r?void 0:r.id,k]),(0,T.jsxs)(T.Fragment,{children:[b===M.Loading&&"magic"===o&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:cr().successModal,children:(0,T.jsx)("div",{className:cr().polyLoader,children:(0,T.jsx)(ia,{onCheckoutComplete:A})})})}),b===M.Loading&&"eoa"===o&&(0,T.jsx)(on,{children:(0,T.jsx)("div",{className:cr().successModal,children:(0,T.jsx)("div",{className:cr().polyLoader,children:(0,T.jsx)(iG,{onCheckoutComplete:A})})})}),(0,T.jsxs)(cl,{children:[(0,T.jsxs)(cs,{css:{borderBottom:L.gt(0)?"1px solid $gray5":"none"},children:[(0,T.jsx)(cm,{}),(0,T.jsxs)(ew.xv,{size:"xl",weight:"semi",css:{color:"$polyBlue"},children:["Outcome: ",C]}),(0,T.jsx)(ew.xv,{size:"md",css:{color:"$gray3"},children:null!==(t=p.groupItemTitle)&&void 0!==t?t:p.question})]}),Z&&L.gt(0)&&(0,T.jsxs)(ca,{children:[(0,T.jsx)(ew.xv,{weight:"semi",size:"lg",children:"Your Earnings"}),(0,T.jsxs)(eh.kC,{css:{width:"100%",flexDirection:"column",gap:"0.3rem"},children:[(0,T.jsxs)(cc,{children:[(0,T.jsx)(cd,{children:"Position"}),(0,T.jsx)(cu,{children:Z.map(e=>"".concat((0,tf._H)((0,tf.Du)(e.netQuantity))," ").concat(p.outcomes[parseInt(e.outcomeIndex)])).join(" / ")})]}),(0,T.jsxs)(cc,{children:[(0,T.jsx)(cd,{children:"Value"}),(0,T.jsx)(cu,{children:Z.map(e=>"$".concat((0,tf._H)((0,ci.l4)(e)))).join(" / ")})]}),(0,T.jsxs)(cc,{children:[(0,T.jsx)(cd,{children:"Total"}),(0,T.jsxs)(cu,{children:["$",(0,tf._H)((0,tf.Du)(z))]})]})]}),"eoa"!==o||r&&137===r.id?(0,T.jsx)(cp,{type:"primary",onClick:E,children:"Redeem"}):(0,T.jsx)(ch,{type:"primary",onClick:B,disabled:k,children:"Switch to Polygon"})]})]})]})},cf=()=>{let{hasLoadedAllowances:e,areSomeAllowancesApproved:t,triggerAllApprovals:n,isUpdatingAllowances:r}=tu(),{authenticated:i,authenticationType:o}=(0,eZ.ec)();return i&&e&&t&&"eoa"===o?(0,T.jsx)(rF.Z,{onClick:()=>n(!0),disabled:r,children:(0,T.jsx)(tX.Z,{fontSize:12,fontWeight:500,color:"primary",children:"Revoke Allowances"})}):null};var cv=n(90799),cy=n(34631),cb=n(37676);let cj=async e=>{let[t,n,r]=e.queryKey,i="".concat(ej.T5).concat(t,"?").concat(n,"=").concat(r),o=await fetch(i).then(e=>e.json());return o};function ck(e){var t,n,r,i,o;let{activeMarket:l}=e3(),{selectedOutcomeIdx:s}=tM(),a="string"==typeof e?e:null!==(i=null===(t=l.clobTokenIds)||void 0===t?void 0:t[s])&&void 0!==i?i:"",{data:c}=(0,A.useQuery)(nF.a["/last-trade-price"].token_id(a),cj,{enabled:!!a,staleTime:1/0}),{data:d}=(0,A.useQuery)(nF.a["/last-trade-price"].token_id(null!==(o=null==l?void 0:null===(n=l.clobTokenIds)||void 0===n?void 0:n[1])&&void 0!==o?o:""),cj,{enabled:"string"!=typeof e&&"string"==typeof(null==l?void 0:null===(r=l.clobTokenIds)||void 0===r?void 0:r[1]),staleTime:1/0}),u=(0,A.useQueryClient)(),{mutateAsync:p}=(0,A.useMutation)({retry:!1,async onMutate(e){let{clobTokenId:t,newPrice:n}=e,r=nF.a["/last-trade-price"].token_id(t);return await u.cancelQueries(r),u.setQueryData(r,()=>({...n})),{...n}}}),h=(0,I.useMemo)(()=>0===s?c:d,[c,d,s]);return{price:h&&"price"in h?h.price:void 0,side:h&&"side"in h?h.side:void 0,lastPriceMutation:p,zeroLastPrice:c&&"price"in c?c.price:void 0,oneLastPrice:d&&"price"in d?d.price:void 0}}let cw=(0,I.createContext)({}),cC=()=>{var e;let{event:{markets:t}}=e3(),n=(0,I.useMemo)(()=>null!==(e=null==t?void 0:t.filter(e=>!!e.clobTokenIds))&&void 0!==e?e:[],[t]);return{clobMarkets:n,clobTokenIds:(0,I.useMemo)(()=>cS(n),[n])}},cS=e=>{var t;return null!==(t=null==e?void 0:e.reduce((e,t)=>(Array.isArray(t.clobTokenIds)&&(e=[...e,t.clobTokenIds[0]]),e),[]))&&void 0!==t?t:[]},cM=e=>{let{children:t}=e,{clobTokenIds:n}=cC(),r=(0,A.useQueryClient)(),{lastPriceMutation:i}=ck(),{apiCredential:o}=(0,ta.Z)(),{bookMutation:l,initialBookMutation:s}=(0,tA.C)(),{proxyAddress:a}=(0,eZ.ec)(),c=(0,I.useCallback)(async()=>{await r.invalidateQueries([["/api/account/market-positions",a],nF.a["/limit-order-history"],nF.a["/market-order-history"],nF.a["/trade-history"],nF.a["/open-orders"]])},[a,r]),d=(0,I.useRef)(null),u=(0,I.useCallback)(()=>!!Array.isArray(n)&&!!n.length&&n,[n]),{lastMessage:p,sendMessage:h,readyState:m}=(0,cb.ZP)(d.current,{share:!1,filter(e){let t=(0,nK.J2)(e);return void 0!==t},shouldReconnect(e){let t=u();return!1===t},onClose(e){d.current=null},onOpen(e){let t=u();!1!==t&&(h(JSON.stringify({assets_ids:t,type:"market"})),c())}}),x=!!n.length&&null===d.current,g=(0,I.useCallback)(async()=>{x&&(d.current=ej.R_)},[n.length,x]);(0,cy.Z)(g,{refreshOnWindowFocus:!0,ready:x}),(0,I.useEffect)(()=>()=>{d.current=null},[]);let f={[cb.kQ.CONNECTING]:"Connecting",[cb.kQ.OPEN]:"Open",[cb.kQ.CLOSING]:"Closing",[cb.kQ.CLOSED]:"Closed",[cb.kQ.UNINSTANTIATED]:"Uninstantiated"}[m];(0,I.useEffect)(()=>{let e;return"Open"===f?(e&&clearInterval(e),e=setInterval(()=>{h("PING")},3e4)):e&&clearInterval(e),()=>{e&&clearInterval(e)}},[f]);let v=(0,I.useRef)({}),[y,b]=(0,I.useState)({});(0,I.useEffect)(()=>{if(null!==p&&p.data){let e=JSON.parse(p.data),t=(0,nK.c7)(e);if(!v.current[t])try{if(Object.keys(v.current).length>50&&(v.current={}),v.current={...v.current,[t]:!0},"book"===e.event_type&&s(e),"price_change"===e.event_type){l(e);let n=(0,nU.lu)(e);i({clobTokenId:n.market,newPrice:{price:n.price,side:n.side}});let o=parseInt(e.timestamp,10),a=y[e.market];"number"==typeof a&&o<=a&&r.refetchQueries([nF.a["/book?token_id="].tokenId(e.asset_id)]),o!==a&&b(t=>({...t,[e.market]:o}))}}catch(c){console.log("MarketWsContext catch error",c)}}},[o,l,s,p,r,b,i]);let j=(0,I.useMemo)(()=>({marketConnectionStatus:f}),[f]);return(0,T.jsx)(cw.Provider,{value:j,children:t})},c_=()=>(0,I.useContext)(cw);var cZ=n(79531);let cz=e=>{let{color:t}=e;return(0,T.jsx)(cZ.Z,{sx:{borderRadius:"50%",width:{xs:"0.7rem",md:"0.75rem"},height:{xs:"0.7rem",md:"0.75rem"},backgroundColor:t}})};var cL=n(24738);let cT=(0,t_.zo)(eh.kC,{width:"100%",flexDirection:"column"}),cD=(0,t_.zo)(eh.kC,{justifyContent:"center",alignItems:"center",mr:"$2"}),cP=(0,t_.zo)(eh.Dr,{mr:"$1"}),cE=e=>{let{connectionStatus:t}=e;return(0,T.jsx)(cz,{color:"Open"===t?"green":"Connecting"===t?"orange":"red"})},cI=()=>{let{userConnectionStatus:e}=(0,cL.d5)(),{marketConnectionStatus:t}=c_();return(0,T.jsxs)(cT,{css:{mt:"$4"},children:[(0,T.jsx)(cD,{children:(0,T.jsx)(cP,{css:{fontWeight:600},children:"Websocket Channels"})}),(0,T.jsxs)(cD,{children:[(0,T.jsx)(cP,{children:"Market: "}),(0,T.jsx)(cE,{connectionStatus:t})]}),(0,T.jsxs)(cD,{children:[(0,T.jsx)(cP,{children:"User: "}),(0,T.jsx)(cE,{connectionStatus:e})]})]})},cA=()=>{let{setIsOpen:e,injectedContentType:t}=(0,oJ.W7)(),n=(0,I.useCallback)(()=>{e(!1)},[e]),r=(0,I.useMemo)(()=>{switch(t){case oJ.Qt.Buy:case oJ.Qt.Sell:return(0,T.jsx)(eh.kC,{css:{width:"100vw",justifyContent:"center"},children:(0,T.jsx)(sa,{})});case oJ.Qt.Merge:return(0,T.jsx)(aZ,{onComplete:n,onClose:n,coerceFromDialog:!0});case oJ.Qt.Split:return(0,T.jsx)(a3,{onComplete:n,onClose:n,coerceFromDialog:!0});case oJ.Qt.AddLiquidity:return(0,T.jsx)(ax,{onComplete:n,onClose:n,coerceFromDialog:!0});case oJ.Qt.RemoveLiquidity:return(0,T.jsx)(aN,{onComplete:n,onClose:n,coerceFromDialog:!0});case oJ.Qt.Redeem:return(0,T.jsx)(cg,{});default:return(0,T.jsx)(T.Fragment,{})}},[t,n]);return(0,T.jsx)(eh.kC,{css:{position:"relative",inset:0,width:"100%"},children:r})},cB=(0,t_.zo)(ct.M,{color:"$polyBlue",size:"20px"}),c$=e=>{let{market:t,callback:n,isMobile:r,...i}=e,{payoutsString:o}=(0,co.i)(t);return(0,T.jsx)(eh.kC,{css:{gap:"0.5rem","@laptops":{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:"calc(300px + 0.5rem)",py:"1rem"},"@notDesktop":{width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"}},...i,children:n?(0,T.jsx)(ek.z,{type:"primary",onClick(e){e.stopPropagation(),n()},css:{width:"100%",height:"48px",borderRadius:"5px",transition:"all 0.2s",cursor:"pointer","&:active":{opacity:.8}},children:"Redeem"}):(0,T.jsxs)(eh.kC,{css:{"@laptops":{justifyContent:"flex-end"},"@notDesktop":{alignItems:"center",justifyContent:r?"center":"flex-start",width:"100%",columnGap:"0.5rem"}},children:[(0,T.jsx)(cB,{}),(0,T.jsxs)(ew.xv,{size:"md",weight:"medium",css:{color:"$polyBlue"},children:["Result is ",o]})]})})};var cO=(0,t_.zo)(c$),cR=n(11749);let cN=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(30px)"},"100%":{opacity:1,transform:"translateY(0)"}}),cF=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-30px)"}}),cH=(0,t_.F4)({"0%":{opacity:0,transform:"translateY(-30px)"},"100%":{opacity:1,transform:"translateY(0)"}}),cW=(0,t_.F4)({"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(30px)"}}),cq=(0,t_.zo)(oU.fC,{}),cV=(0,t_.zo)(oU.xz,{overflow:"hidden",backgroundColor:"$shadeWhite",transition:"all 0.2s ease",cursor:"pointer",'&[data-state="open"]':{svg:{transform:"rotate(-180deg)"}}}),cG=(0,t_.zo)("button",{all:"unset",display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",backgroundColor:"$gray6",borderRadius:"7px",color:"$shadeBlack",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"0.2s all","&:hover":{backgroundColor:"$gray5"}}),cY=(0,t_.zo)(oU.Uv,{}),cU=(0,t_.zo)(oU.VY,{zIndex:999,backgroundColor:"$shadeWhite",borderRadius:"10px",border:"1px solid $shadeMediumTransparent",boxShadow:"$dropShadowMd",overflow:"hidden",transformOrigin:"var(--radix-dropdown-menu-content-transform-origin)","@media (prefers-reduced-motion: no-preference)":{animationDuration:"200ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="top"]':{animationName:cN},'&[data-side="bottom"]':{animationName:cH}},'&[data-state="closed"]':{'&[data-side="top"]':{animationName:cW},'&[data-side="bottom"]':{animationName:cF}}}}),cQ=(0,t_.zo)(oU.ck,{all:"unset",width:"100%",position:"relative",display:"flex",alignItems:"center",px:"1rem",py:"0.75rem",fontSize:"$md",color:"$shadeBlack",userSelect:"none",transition:"0.2s all",cursor:"pointer","&[data-disabled]":{color:"$shadeMain","&:hover":{cursor:"not-allowed !important"}},"&[data-highlighted]":{backgroundColor:"$shadeMediumTransparent"},'&[data-state="checked"]':{fontFamily:"$sauce500"}}),cJ=(0,t_.zo)(cR.Q,{color:"black",size:"24px"}),cX=()=>{let{setShowConnectModal:e}=(0,t6.vR)(),{authenticated:t}=(0,eZ.ec)(),{setInjectedContentType:n,setDrawerContent:r,setIsOpen:i,drawerContent:o}=(0,oJ.W7)(),l=rk(),s=rS(),a=(0,I.useMemo)(()=>{let e=l.reduce((e,t)=>e.gt(t)?t:e,e6.Bz);return e.eq(0)||e.eq(e6.Bz)},[l]),c=(0,I.useMemo)(()=>s.lte(1),[s]),d=(0,I.useCallback)(o=>{if(!t){e(!0);return}switch(o){case oJ.Qt.AddLiquidity:n(oJ.Qt.AddLiquidity),r(oJ.sc.Injected),i(!0);break;case oJ.Qt.RemoveLiquidity:n(oJ.Qt.RemoveLiquidity),r(oJ.sc.Injected),i(!0);break;case oJ.Qt.Merge:n(oJ.Qt.Merge),r(oJ.sc.Injected),i(!0);break;case oJ.Qt.Split:n(oJ.Qt.Split),r(oJ.sc.Injected),i(!0)}},[r,n,i,t,e]),u=(0,I.useMemo)(()=>[{label:"Merge shares",value:S.MERGE_SHARES,onClick(){d(oJ.Qt.Merge)},disabled:a},{label:"Split shares",value:S.SPLIT_SHARES,onClick(){d(oJ.Qt.Split)},disabled:!1},{label:"Add liquidity (AMM)",value:S.ADD_LIQUIDITY,onClick(){d(oJ.Qt.AddLiquidity)},disabled:!1},{label:"Remove liquidity (AMM)",value:S.REMOVE_LIQUIDITY,onClick(){d(oJ.Qt.RemoveLiquidity)},disabled:c}],[a,c,d]);return(0,T.jsxs)(cq,{modal:o===oJ.sc.Temporary,css:{...o===oJ.sc.Temporary&&{zIndex:999999999}},children:[(0,T.jsx)(cV,{asChild:!0,children:(0,T.jsx)(cG,{"aria-label":"other trade actions",children:(0,T.jsx)(cJ,{})})}),(0,T.jsx)(cY,{children:(0,T.jsx)(cU,{side:"top",align:"end",sideOffset:16,css:{...o===oJ.sc.Temporary&&{zIndex:999999999}},children:u.map(e=>(0,T.jsx)(cQ,{onSelect:()=>e.onClick(),disabled:e.disabled,children:e.label},e.value))})})]})},cK=(0,t_.zo)(ek.z,{height:"48px",width:"50%",opacity:1,border:"none",color:"white",fontSize:"$md",userSelect:"none","* >":{userSelect:"none"},"&:active, &:focus, &:hover":{opacity:.8}}),c0=()=>{let{activeMarket:e}=e3(),{selectedOutcomeIdx:t,orderType:n,setSelectedOutcome:r,setSide:i,setCursorActive:o,setOrderType:l}=tM(),{setIsOpen:s,setDrawerContent:a,setInjectedContentType:c,setCoerceSecondaryNavToTop:d}=(0,oJ.W7)(),{poolPricesMarket:u}=rv(),{shareBalances:p}=nN(),h=rk(),m=(0,I.useMemo)(()=>e.enableOrderBook?p.length?p.reduce((e,t)=>e.add(t),e6._Y):e6._Y:h.length?h.reduce((e,t)=>e.add(t),e6._Y):e6._Y,[e.enableOrderBook,p,h]),{bestPrices:x}=(0,tA.C)(e,t),{isMobile:g}=(0,le.Z)(),f=(0,I.useCallback)((t,n)=>{switch(t){case oJ.Qt.Buy:n&&r(n),e.enableOrderBook||l(tr.mr.AMM),i(tm.Side.BUY),c(oJ.Qt.Buy),a(oJ.sc.Injected),s(!0),g||o(!0),d(!1);break;case oJ.Qt.Sell:n&&r(n),e.enableOrderBook||l(tr.mr.AMM),i(tm.Side.SELL),c(oJ.Qt.Sell),a(oJ.sc.Injected),s(!0),g||o(!0),d(!1);break;case oJ.Qt.Redeem:c(oJ.Qt.Redeem),a(oJ.sc.Injected),s(!0),g||o(!0),d(!1)}},[a,c,s,r,i,o,l,e.enableOrderBook,d,g]);return(0,T.jsx)(eh.kC,{css:{width:"100%",height:"100%",gap:"0.75rem",p:"1rem","@laptops":{display:"none"}},children:e.closed?(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(cO,{market:e,callback:m.gt(0)?()=>f(oJ.Qt.Redeem):void 0,isMobile:!0})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eh.kC,{css:{flexGrow:1,gap:"0.75rem"},children:e.outcomes.map((t,r)=>{var i,o,l;let s=e.enableOrderBook&&n!==tr.mr.AMM?null!==(l=null==x?void 0:null===(i=x[t])||void 0===i?void 0:i.buy)&&void 0!==l?l:"0":null!==(o=null==u?void 0:u[r])&&void 0!==o?o:"0";return(0,T.jsxs)(cK,{css:{...0===r&&{backgroundColor:"$green2","&:active, &:focus":{backgroundColor:"$green2",border:"none"}},...1===r&&{backgroundColor:"$red",border:"1px solid $red","&:active, &:focus":{backgroundColor:"$red",border:"none"}}},onClick:()=>f(oJ.Qt.Buy,t),children:["Buy"," ",(0,tx.capitalize)(t.length>3?"".concat(t.substring(0,3),"."):t),"  ",(0,tf.G_)(s),"\xa2"]},t)})}),(0,T.jsx)(cX,{})]})})};var c1=n(5152),c2=n.n(c1),c5=n(28175),c3=n.n(c5),c4=n(28935),c6=n(97924),c8=n(98121);let c7=e=>{let{seeLessText:t="See less",seeMoreText:n="See more",buttonStyles:r={},maxLines:i=1,lineHeight:o=1.5,textStyles:l,children:s}=e,[a,c]=(0,I.useState)(!1),[d,u]=(0,I.useState)(!1),p=(0,I.useRef)(null),h=(0,c8.Z)(p);return(0,I.useEffect)(()=>{let e=p.current&&(p.current.offsetHeight<p.current.scrollHeight||p.current.offsetWidth<p.current.scrollWidth);u(!!e)},[h]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eh.gO,{css:{position:"relative",width:"100%"},children:(0,T.jsx)(eh.kC,{ref:p,css:{maxWidth:"calc(100vw - 2rem)",lineHeight:o,position:"relative",display:"inline-block",fontSize:"$md",wordWrap:"break-word",overflowWrap:"break-word",...!a&&{overflow:"hidden",maxHeight:.9*o*i+"rem",textOverflow:"ellipsis"},...l},children:s})}),a||d?(0,T.jsxs)(ek.z,{type:"tertiary",onClick(){c(e=>!e)},css:{background:"none !important",padding:0,fontFamily:"$sauce500",fontSize:"$md",mt:"$1",...r},children:[a?t:n,a?(0,T.jsx)(c6.j,{size:20}):(0,T.jsx)(c4.O,{size:20})]}):null]})};var c9=n(358),de=n(66894),dt=n(52269),dn=n(12479),dr=n(6204);let di=(e,t)=>"".concat(tn.B8.explorerUrl,"/").concat(t,"/").concat(e),dl=e=>(0,dn.e)(e),ds=e=>"".concat(e.slice(0,22),"..."),da=e=>"".concat(e.slice(0,36),"..."),dc=(0,t_.zo)(eh.kC,{justifyContent:"center",alignItems:"center",backgroundColor:"$gray6",borderRadius:"$full","@notDesktop":{width:"36px",height:"36px"},"@laptops":{width:"36px",height:"36px"}}),dd=(0,t_.zo)(c9.B,{"@notDesktop":{size:"20px"},"@laptops":{size:"20px"}}),du=(0,t_.zo)(de.c,{"@notDesktop":{size:"20px"},"@laptops":{size:"20px"}}),dp=(0,t_.zo)(dt.f,{"@notDesktop":{size:"20px"},"@laptops":{size:"20px"}}),dh=(0,t_.zo)(dr.Z,{marginLeft:"8px"}),dm=()=>(0,T.jsx)(dc,{children:(0,T.jsx)(dd,{})}),dx=()=>(0,T.jsx)(dc,{children:(0,T.jsx)(du,{})}),dg=()=>(0,T.jsx)(dc,{children:(0,T.jsx)(dp,{})}),df=e=>{let{title:t,value:n,valueLink:r,children:i,...o}=e;return(0,T.jsxs)(eh.kC,{css:{gap:"1rem",borderRadius:"8px",border:"1px solid $gray5",pr:"1.5rem",py:"0.75rem",justifyContent:"center",alignItems:"center",flexGrow:1},...o,children:[i,(0,T.jsxs)(eh.kC,{css:{flexGrow:1,flexDirection:"column",justifyContent:"center"},children:[(0,T.jsx)(ew.xv,{size:"sm",css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:"$gray3 !important"},children:t}),r?(0,T.jsx)(ek.A,{href:r,target:"_blank",rel:"noopener noreferrer",css:{p:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"$sm",color:"$polyBlue","&:hover":{opacity:.8}},children:n}):(0,T.jsx)(ek.A,{as:"p",css:{m:0,p:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:"black"},children:n})]})]})},dv=(0,t_.zo)(df),dy=e=>{let{...t}=e,{activeMarket:{resolution_source:n,marketMakerAddress:r,resolved_by:i}}=e3(),o=(0,I.useMemo)(()=>!!(i&&(i.toLowerCase()===tn.by.toLowerCase()||i.toLowerCase()===tn.ft.toLowerCase())),[i]);return(0,T.jsxs)(eh.kC,{...t,css:{"@laptops":{flexDirection:"row",gap:"1rem"},"@notDesktop":{flexDirection:"column",gap:"0.5rem"}},children:[n&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(dv,{title:"Resolution Source",value:ds(n),valueLink:n,css:{pl:"1rem","@notDesktop":{display:"none"}},children:(0,T.jsx)(dm,{})}),(0,T.jsx)(dv,{title:"Resolution Source",value:da(n),valueLink:n,css:{pl:"1rem","@laptops":{display:"none"}},children:(0,T.jsx)(dm,{})})]}),r&&(0,T.jsx)(dv,{title:"Contract",value:dl(r),valueLink:di(r,"address"),css:{pl:"1rem"},children:(0,T.jsx)(dx,{})}),i&&(0,T.jsx)(T.Fragment,{children:o?(0,T.jsx)(dv,{title:"Resolver",value:dl(i),valueLink:di(i,"address"),css:{pl:"0.5rem"},children:(0,T.jsx)(dh,{width:"36px"})}):(0,T.jsx)(dv,{title:"Resolver",value:dl(i),valueLink:di(i,"address"),css:{pl:"1rem"},children:(0,T.jsx)(dg,{})})})]})};var db=(0,t_.zo)(dy);let dj=e=>{let{description:t,hideSources:n,...r}=e;return(0,T.jsxs)(eh.gO,{...r,children:[(0,T.jsx)(ew.xv,{weight:"medium",size:"xxl",css:{borderBottom:"1px solid $gray6",lineHeight:1.75,mb:"$4"},children:"About"}),(0,T.jsx)(c3(),{options:{nl2br:!0},children:(0,T.jsxs)(c7,{seeLessText:"Show less",seeMoreText:"Show more",maxLines:t.length>100?3:t.length>50?2:1,buttonStyles:{color:"black","&:hover":{opacity:.75}},textStyles:{fontSize:"$md !important",color:"$gray1 !important"},children:[t,!n&&(0,T.jsx)(eh.gO,{css:{mt:"2rem",mb:"1rem"},children:(0,T.jsx)(db,{})})]})})]})};var dk=(0,t_.zo)(dj),dw=n(55008),dC=n(11771),dS=n(51132),dM=n(2532),d_=n(78722),dZ=n(94039);let dz=(0,t_.zo)(dZ.fC,{all:"unset",width:42,height:25,backgroundColor:"$lightGrey",borderRadius:"9999px",position:"relative",boxShadow:"$dropShadowSm",cursor:"pointer",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",'&[data-state="checked"]':{backgroundColor:"$polyBlue"}}),dL=(0,t_.zo)(dZ.bU,{display:"block",width:21,height:21,backgroundColor:"white",borderRadius:"9999px",boxShadow:"$dropShadowSm",transition:"transform 100ms",transform:"translateX(2px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(19px)"}}),dT=e=>{let{checked:t,onCheckedChange:n}=e;return(0,T.jsx)(dz,{checked:t,onCheckedChange:n,children:(0,T.jsx)(dL,{})})};function dD(){let e=(0,$.Z)(["\n    display: flex;\n\n    @media "," {\n        width: 100%;\n        justify-content: center;\n    }\n"]);return dD=function(){return e},e}function dP(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    width: 200px;\n    height: 100%;\n    padding: 0.75rem 0.75rem 0.5rem !important;\n    border-radius: 5px;\n    border: 1px solid ",";\n    background: #fff;\n\n    height: 290px;\n    overflow-y: scroll;\n"]);return dP=function(){return e},e}function dE(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    width: 100%;\n    height: 100%;\n"]);return dE=function(){return e},e}function dI(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    margin-bottom: 0.4rem;\n"]);return dI=function(){return e},e}function dA(){let e=(0,$.Z)(["\n    display: flex;\n    width: 100%;\n    margin-bottom: 0.1rem;\n    font-weight: 500;\n    font-size: 14px;\n"]);return dA=function(){return e},e}function dB(){let e=(0,$.Z)(["\n    display: flex;\n    width: 75%;\n    justify-content: flex-start;\n    margin-left: 1rem;\n    font-size: 13px;\n"]);return dB=function(){return e},e}function d$(){let e=(0,$.Z)(["\n    display: flex;\n    width: 25%;\n    justify-content: flex-end;\n"]);return d$=function(){return e},e}let dO=e=>{let{outcomes:t,setOutcomeVisibilityCallback:n,setVolumeSelectedCallback:r,setLiquiditySelectedCallback:i,setTimescaleVisibilityCallback:o,setPriceAxisVisibilityCallback:l,setTooltipEnablementCallback:s,setAutoscaleEnablementCallback:a,setGridEnablementCallback:c,setDecimalVisibilityCallback:d,setScaleEnablementCallback:u,outcomeVisibility:p,volumeVisibility:h,liquidityVisibility:m,isTimescaleVisible:x,isPriceAxisVisible:g,isTooltipEnabled:f,isAutoscaleEnabled:v,isGridEnabled:y,areDecimalsVisible:b,isScaleEnabled:j,isSingleChart:k}=e,w=(e,t)=>{if(p[e]!==t){let r=p.map((n,r)=>r===e?t:n);n(r)}};return(0,T.jsx)(dR,{children:(0,T.jsxs)(dN,{children:[(0,T.jsxs)(dF,{children:[(0,T.jsx)(dW,{children:"Outcomes"}),t.map((e,t)=>(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:e}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:p[t],onCheckedChange:()=>w(t,!p[t])})})]},e))]}),!k&&(0,T.jsxs)(dF,{children:[(0,T.jsx)(dW,{children:"Indicators"}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Volume"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:h,onCheckedChange:()=>r(!h)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Liquidity"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:m,onCheckedChange:()=>i(!m)})})]})]}),(0,T.jsxs)(dF,{children:[(0,T.jsx)(dW,{children:"Display"}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"X-Axis"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:x,onCheckedChange:()=>o(!x)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Y-Axis"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:g,onCheckedChange:()=>l(!g)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Grid"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:y,onCheckedChange:()=>c(!y)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Decimals"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:b,onCheckedChange:()=>d(!b)})})]})]}),(0,T.jsxs)(dF,{children:[(0,T.jsx)(dW,{children:"Interactivity"}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Autoscale"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:v,onCheckedChange:()=>a(!v)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Tooltip"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:f,onCheckedChange:()=>s(!f)})})]}),(0,T.jsxs)(dH,{children:[(0,T.jsx)(dq,{children:"Zoom"}),(0,T.jsx)(dV,{children:(0,T.jsx)(dT,{checked:j,onCheckedChange:()=>u(!j)})})]})]})]})})},dR=(0,N.ZP)(ep.E.div)(dD(),H.BC.mobile),dN=(0,N.ZP)(ep.E.div)(dP(),q.Z.lightGrey),dF=(0,N.ZP)(ep.E.div)(dE()),dH=(0,N.ZP)(ep.E.div)(dI()),dW=(0,N.ZP)(ep.E.div)(dA()),dq=(0,N.ZP)(ep.E.div)(dB()),dV=(0,N.ZP)(ep.E.div)(d$());var dG=n(80853),dY=n(50173);function dU(){let e=(0,$.Z)(["\n    display: flex;\n    margin-right: 15px;\n\n    @media "," {\n        width: 100%;\n        margin-right: 0;\n        justify-content: center;\n    }\n"]);return dU=function(){return e},e}function dQ(){let e=(0,$.Z)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    background-color: #fff;\n    border-radius: 5px;\n    top: 0;\n    left: 0;\n\n    @media "," {\n        max-width: 270px;\n    }\n"]);return dQ=function(){return e},e}function dJ(){let e=(0,$.Z)(["\n    height: 30;\n    position: relative;\n    margin: 0.2rem;\n    font-family: sans-serif;\n    font-size: 13px;\n    color: #222;\n    transition: 0.25s all;\n\n    :hover {\n        color: ",";\n    }\n"]);return dJ=function(){return e},e}function dX(){let e=(0,$.Z)(["\n    position: relative;\n    z-index: 1;\n    font-family: OpenSauceSansRegular !important;\n    margin: 0.3rem 0.5rem;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n"]);return dX=function(){return e},e}function dK(){let e=(0,$.Z)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    border-radius: 5px;\n    top: 0;\n    left: 0;\n    padding: 0 3px;\n"]);return dK=function(){return e},e}let d0=e=>{let{tabs:t,setSelectedCallback:n,hasAllLineChartDataLoaded:r,defaultTab:i}=e,[o,l]=(0,dG.Z)("CHART_WINDOW_PREFERENCE",{defaultValue:i?dY.Bp[i]:dY.Bp[0],path:"/"}),s=(0,I.useMemo)(()=>dY.Bp.indexOf(o),[o]),{authenticated:a,initiated:c}=(0,eZ.ec)(),{accountPreferences:d,updateAccountChartPreferences:u}=(0,n9.Z)();return(0,I.useEffect)(()=>{"1W"===t[s]?n("7D"):"1M"===t[s]?n("30D"):n(t[s])},[s,l,n,t]),(0,I.useEffect)(()=>{a&&c&&d&&d.chartPreferences&&l(Object.values(d.chartPreferences)[0])},[a,c,d,l]),(0,T.jsx)(d1,{children:(0,T.jsx)(d2,{children:t.map((e,t)=>(0,T.jsxs)(d5,{onClick:r?()=>{if(l(dY.Bp[t]),a){let e={defaultTimeScale:dY.Bp[t]};u(JSON.stringify(e))}}:()=>null,style:{color:t===s?"#fff":r?q.Z.softGrey:"".concat(q.Z.softGrey,"55"),cursor:r?"pointer":"wait"},hover:t===s?"#fff":r?q.Z.polyBlue:"".concat(q.Z.softGrey,"55"),children:[(0,T.jsx)(d3,{children:e}),t===s&&(0,T.jsx)(d4,{style:{backgroundColor:q.Z.polyBlue}})]},t))})})},d1=(0,N.ZP)("div")(dU(),H.BC.mobile),d2=(0,N.ZP)("div")(dQ(),H.BC.mobile),d5=(0,N.ZP)("div")(dJ(),e=>e.hover),d3=(0,N.ZP)("div")(dX()),d4=(0,N.ZP)("div")(dK());var d6=n(17187),d8=n.n(d6);let d7=(0,I.createContext)({chartEventEmitter:void 0}),d9=e=>{let{children:t}=e,[n]=(0,I.useState)(new(d8()));return(0,T.jsx)(d7.Provider,{value:{chartEventEmitter:n},children:t})},ue=e=>{let t=(0,I.useRef)(null),n=n=>{t.current&&"Escape"===n.key&&e()},r=n=>{t.current&&!t.current.contains(n.target)&&e()};return(0,I.useEffect)(()=>(document.addEventListener("keydown",n,!0),document.addEventListener("click",r,!0),()=>{document.removeEventListener("keydown",n,!0),document.removeEventListener("click",r,!0)})),{ref:t}};var ut=n(29744);function un(){let e=function(){let{chartEventEmitter:e}=(0,I.useContext)(d7);return(0,I.useCallback)(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null==e||e.emit(t,...r)},[e])}();return{useListener:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{chartEventEmitter:r}=(0,I.useContext)(d7);(0,I.useEffect)(()=>(null==r||r.addListener(e,t),()=>{null==r||r.removeListener(e,t)}),[t,e,...n])},emit:e}}function ur(){let e=(0,$.Z)(["\n    position: relative;\n    padding: 20px 0 0;\n"]);return ur=function(){return e},e}function ui(){let e=(0,$.Z)(['\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    position: absolute;\n    padding: 0 0 0;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: "#131722";\n    z-index: 1000;\n    text-align: right;\n    top: 0;\n    pointer-events: none;\n    background: transparent;\n    border-radius: 5px;\n    margin-right: 20px;\n    margin-top: 10px;\n']);return ui=function(){return e},e}let uo=e=>{let{liquidityChartData:t,isPriceAxisVisible:n,isScaleEnabled:r,isVolumeShown:i}=e,o=(0,I.useRef)(),l=(0,I.useRef)(),s=(0,I.useRef)(),a=(0,I.useRef)(),c=(0,I.useRef)(0),d=(0,I.useRef)(),u=(0,I.useRef)(!1),p=(0,I.useRef)(r),h=(0,I.useRef)(!1),{emit:m,useListener:x}=un();x("VisibleRangeUpdate",(e,t)=>{("outcomes"===e||"volume"===e&&i)&&l.current.timeScale().setVisibleRange(t)},[i]),x("CrosshairPositionUpdate",(e,n)=>{if("outcomes"===e||"volume"===e&&i){if(n&&n.logical){let r=d.current.dataByIndex(n.logical).value;isNaN(r)||(c.current=r),a.current.innerHTML=g(c.current)}else a.current.innerHTML=g(t[t.length-1].value)}},[i]);let g=e=>h.current?'<div style="display: flex; flex-direction: flex; align-items: flex-start; margin-left: 20px; margin-right: 15px;">'+'<span style="display: flex; margin-right: 5px; color: '.concat(q.Z.softGrey,'cc"; text-align: right;>Liquidity</span>')+'<span style="display: flex; margin: 0; color: '.concat(q.Z.softGrey,'cc;">$').concat((0,tf.TA)(e.toFixed(2)),"</span>")+"</div>":"";(0,I.useEffect)(()=>(l.current=(0,ut.C2)(o.current,{width:o.current.clientWidth,height:dY.oL,timeScale:{fixLeftEdge:!0,fixRightEdge:!0,rightOffset:0,barSpacing:6,lockVisibleTimeRangeOnResize:!1,visible:!1},grid:{vertLines:{visible:!1,color:dY.A,style:3},horzLines:{visible:!1,color:dY.A,style:3}},leftPriceScale:{visible:!1},rightPriceScale:{visible:!1},layout:{background:{type:ut.Mr.Solid,color:"transparent"},textColor:"transparent",fontFamily:"OpenSauceSansRegular"},crosshair:{mode:1,vertLine:{color:"".concat(dY.V2),width:2,style:0,visible:!0,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},handleScroll:{mouseWheel:r,pressedMouseMove:r,horzTouchDrag:r,vertTouchDrag:r},handleScale:{mouseWheel:r,pinch:r,axisPressedMouseMove:r,axisDoubleClickReset:r},trackingMode:{exitMode:0}}),d.current=l.current.addAreaSeries({topColor:"transparent",bottomColor:"transparent",lineColor:dY.MQ,lineWidth:2,crosshairMarkerRadius:3,priceLineColor:dY.MQ,priceLineVisible:!1,baseLineVisible:!1,lastValueVisible:!1}),d.current.setData(t),u.current=!0,o.current.appendChild(a.current),c.current=t[t.length-1].value,a.current.innerHTML=g(c.current),l.current.subscribeCrosshairMove(e=>{if(m("CrosshairPositionUpdate","liquidity",e),!e.time||e.point&&(e.point.x<0||e.point.x>l.current.options().width||e.point.y<0||e.point.y>l.current.options().height)){a.current.innerHTML=g(t[t.length-1].value);return}let n=e.seriesData.get(d.current),r=Number(null==n?void 0:n.value);isNaN(r)||(c.current=r),a.current.innerHTML=g(c.current)}),l.current.timeScale().subscribeVisibleTimeRangeChange(e=>{e&&m("VisibleRangeUpdate","liquidity",e)}),l.current.timeScale().fitContent(),h.current=!0,()=>l.current.remove()),[]),(0,I.useEffect)(()=>{if(h&&u.current){try{l.current.removeSeries(d.current)}catch(e){}a.current.innerHTML=g(t[t.length-1].value),d.current=l.current.addAreaSeries({topColor:"transparent",bottomColor:"transparent",lineColor:dY.MQ,lineWidth:2,crosshairMarkerRadius:3,priceLineColor:dY.MQ,priceLineVisible:!1,baseLineVisible:!1,lastValueVisible:!1}),d.current.setData(t)}l.current.timeScale().fitContent()},[t]),(0,I.useEffect)(()=>{a.current.innerHTML=g(c.current)},[n]),(0,I.useEffect)(()=>{r&&!p.current&&l.current.applyOptions({handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),!r&&p.current&&l.current.applyOptions({handleScale:{mouseWheel:!1,pinch:!1,axisPressedMouseMove:!1,axisDoubleClickReset:!1},handleScroll:{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1}}),p.current=r},[r]);let f=(0,I.useCallback)(()=>n?63:0,[n]);return(0,I.useEffect)(()=>(s.current=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;l.current.applyOptions({width:t,height:n}),setTimeout(()=>{var e,t;null===(t=null===(e=l.current)||void 0===e?void 0:e.timeScale())||void 0===t||t.fitContent()},0)}),s.current.observe(o.current),()=>s.current.disconnect()),[]),(0,T.jsx)(ul,{ref:o,layout:!0,initial:{marginLeft:f()},animate:{marginLeft:f()},transition:{duration:.1,ease:"linear"},children:(0,T.jsx)(us,{ref:a,initial:{marginLeft:-f()},animate:{marginLeft:-f()},transition:{duration:.1,ease:"linear"}})})},ul=(0,N.ZP)(ep.E.div)(ur()),us=(0,N.ZP)(ep.E.div)(ui());function ua(){let e=(0,$.Z)(["\n    position: relative;\n    padding: 20px 0 0;\n"]);return ua=function(){return e},e}function uc(){let e=(0,$.Z)(['\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    position: absolute;\n    padding: 0 0 0;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: "#131722";\n    z-index: 1000;\n    text-align: right;\n    top: 0;\n    pointer-events: none;\n    background: transparent;\n    border-radius: 5px;\n    margin-right: 20px;\n    margin-top: 10px;\n']);return uc=function(){return e},e}let ud=e=>{let{volumeChartData:t,isPriceAxisVisible:n,isScaleEnabled:r,isLiquidityShown:i}=e,o=(0,I.useRef)(),l=(0,I.useRef)(),s=(0,I.useRef)(),a=(0,I.useRef)(),c=(0,I.useRef)(0),d=(0,I.useRef)(),u=(0,I.useRef)(0),p=(0,I.useRef)(!1),h=(0,I.useRef)(r),m=(0,I.useRef)(!1),{emit:x,useListener:g}=un();g("VisibleRangeUpdate",(e,t)=>{("outcomes"===e||"liquidity"===e&&i)&&l.current.timeScale().setVisibleRange(t)},[i]),g("CrosshairPositionUpdate",(e,t)=>{if("outcomes"===e||"liquidity"===e&&i){if(t&&t.logical){let n=d.current.dataByIndex(t.logical).value;isNaN(n)||(c.current=n),a.current.innerHTML=f(c.current)}else a.current.innerHTML=f(u.current)}},[i]);let f=e=>m.current?'<div style="display: flex; flex-direction: flex; align-items: flex-start; margin-left: 20px; margin-right: 15px;">'+'<span style="display: flex; margin-right: 5px; color: '.concat(q.Z.softGrey,'cc";>Volume</span>')+'<span style="display: flex; margin: 0; color: '.concat(q.Z.softGrey,'cc;">$').concat((0,tf.TA)(e.toFixed(2)),"</span>")+"</div>":"";(0,I.useEffect)(()=>(l.current=(0,ut.C2)(o.current,{width:o.current.clientWidth,height:dY.oL,timeScale:{fixLeftEdge:!0,fixRightEdge:!0,rightOffset:0,barSpacing:6,lockVisibleTimeRangeOnResize:!1,visible:!1},grid:{vertLines:{visible:!1,color:dY.A,style:3},horzLines:{visible:!1,color:dY.A,style:3}},leftPriceScale:{visible:!1},rightPriceScale:{visible:!1},layout:{background:{type:ut.Mr.Solid,color:"transparent"},textColor:"transparent",fontFamily:"OpenSauceSansRegular"},crosshair:{mode:1,vertLine:{color:"".concat(dY.V2),width:2,style:0,visible:!0,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},handleScroll:{mouseWheel:r,pressedMouseMove:r,horzTouchDrag:r,vertTouchDrag:r},handleScale:{mouseWheel:r,pinch:r,axisPressedMouseMove:r,axisDoubleClickReset:r},trackingMode:{exitMode:0}}),d.current=l.current.addHistogramSeries({color:dY.qC,base:0,priceLineVisible:!1,baseLineVisible:!1,lastValueVisible:!1}),d.current.setData(t),p.current=!0,u.current=t.reduce((e,t)=>e+t.value,0),o.current.appendChild(a.current),c.current=u.current,a.current.innerHTML=f(c.current),l.current.subscribeCrosshairMove(e=>{if(x("CrosshairPositionUpdate","volume",e),!e.time||e.point&&(e.point.x<0||e.point.x>l.current.options().width||e.point.y<0||e.point.y>l.current.options().height)){a.current.innerHTML=f(u.current);return}let t=e.seriesData.get(d.current),n=Number(null==t?void 0:t.value);isNaN(n)||(c.current=n),a.current.innerHTML=f(c.current)}),l.current.timeScale().subscribeVisibleTimeRangeChange(e=>{e&&x("VisibleRangeUpdate","volume",e)}),l.current.timeScale().fitContent(),m.current=!0,()=>l.current.remove()),[]),(0,I.useEffect)(()=>{if(m&&p.current){try{l.current.removeSeries(d.current)}catch(e){}u.current=t.reduce((e,t)=>e+t.value,0),a.current.innerHTML=f(u.current),d.current=l.current.addHistogramSeries({color:dY.qC,base:0,priceLineVisible:!1,baseLineVisible:!1,lastValueVisible:!1}),d.current.setData(t)}l.current.timeScale().fitContent()},[t]),(0,I.useEffect)(()=>{a.current.innerHTML=f(c.current)},[n]),(0,I.useEffect)(()=>{r&&!h.current&&l.current.applyOptions({handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),!r&&h.current&&l.current.applyOptions({handleScale:{mouseWheel:!1,pinch:!1,axisPressedMouseMove:!1,axisDoubleClickReset:!1},handleScroll:{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1}}),h.current=r},[r]);let v=(0,I.useCallback)(()=>n?63:0,[n]);return(0,I.useEffect)(()=>(s.current=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;l.current.applyOptions({width:t,height:n}),setTimeout(()=>{var e,t;null===(t=null===(e=l.current)||void 0===e?void 0:e.timeScale())||void 0===t||t.fitContent()},0)}),s.current.observe(o.current),()=>s.current.disconnect()),[]),(0,T.jsx)(uu,{ref:o,layout:!0,initial:{marginLeft:v()},animate:{marginLeft:v()},transition:{duration:.1,ease:"linear"},children:(0,T.jsx)(up,{ref:a,initial:{marginLeft:-v()},animate:{marginLeft:-v()},transition:{duration:.1,ease:"linear"}})})},uu=(0,N.ZP)(ep.E.div)(ua()),up=(0,N.ZP)(ep.E.div)(uc());function uh(){let e=(0,$.Z)(["\n    position: relative;\n    padding: 0;\n    transition: 0.2s all;\n"]);return uh=function(){return e},e}function um(){let e=(0,$.Z)(["\n    position: absolute;\n    height: 100%;\n    left: -2px;\n    width: calc(100% + 5px);\n    transition: 0.1s all;\n"]);return um=function(){return e},e}function ux(){let e=(0,$.Z)(["\n    position: relative;\n    padding: "," 0 0;\n    z-index: 3;\n    background-color: #fff;\n    cursor: crosshair;\n    transition: 0.1s all;\n"]);return ux=function(){return e},e}function ug(){let e=(0,$.Z)(["\n    position: relative;\n    padding: 0;\n    background-color: #fff;\n    z-index: ",";\n    height: 80;\n    transition: 0.2s all;\n    cursor: crosshair;\n"]);return ug=function(){return e},e}function uf(){let e=(0,$.Z)(['\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    position: absolute;\n    padding: 0 0 0;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: "#131722";\n    z-index: 1000;\n    text-align: right;\n    top: 0;\n    pointer-events: none;\n    background-color: transparent;\n    border-radius: 5px;\n    margin-left: 20px;\n    transition: 0.1s all;\n']);return uf=function(){return e},e}function uv(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: ",";\n    z-index: 1001;\n    text-align: center;\n    top: 0;\n    pointer-events: none;\n    background-color: #fff;\n    border: 1px solid ",";\n    border-radius: 5px;\n"]);return uv=function(){return e},e}function uy(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: ",";\n    z-index: 1001;\n    text-align: center;\n    top: 0;\n    pointer-events: none;\n"]);return uy=function(){return e},e}function ub(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    transition: 0.2s all;\n"]);return ub=function(){return e},e}let uj=e=>"$".concat(e.toFixed(2)),uk=e=>{let{chartData:t,chartMetadata:n,outcomeVisibility:r,volumeChartData:i,liquidityChartData:o,showVolumeSeries:l,showLiquiditySeries:s,isTimescaleVisible:a,isPriceAxisVisible:c,isTooltipEnabled:d,isAutoscaleEnabled:u,isGridEnabled:p,areDecimalsVisible:h,isScaleEnabled:m,headerOutcomeIndex:x,noMargin:g}=e,f=(0,I.useRef)(),v=(0,I.useRef)(),y=(0,I.useRef)(),b=(0,I.useRef)(),j=(0,I.useRef)(),k=(0,I.useRef)(),w=(0,I.useRef)(),C=(0,I.useRef)(),S=(0,I.useRef)(x),M=(0,I.useRef)(),_=(0,I.useRef)(),Z=(0,I.useRef)(),z=(0,I.useRef)(a),L=(0,I.useRef)(c),D=(0,I.useRef)(d),P=(0,I.useRef)(u),E=(0,I.useRef)(p),A=(0,I.useRef)(h),B=(0,I.useRef)(m),$=(0,I.useRef)(!1),[O,R]=(0,I.useState)(!1),{emit:N,useListener:F}=un();F("VisibleRangeUpdate",(e,t)=>{t&&("volume"===e&&l||"liquidity"===e&&s)&&v.current.timeScale().setVisibleRange(t)},[l,s]),F("CrosshairPositionUpdate",(e,t)=>{if("volume"===e&&l||"liquidity"===e&&s){if(t&&t.logical){let n=w.current.map((e,n)=>{if(C.current[n]){let r=w.current[n].dataByIndex(t.logical);if(!isNaN(r.value))return r.value}return -1});W(void 0,n)}else W()}},[l,s]);let H=e=>{switch(e){case"1H":return"Past 1 Hour";case"6H":return"Past 6 Hours";case"1D":return"Past 24 Hours";case"7D":return"Past 7 Days";case"30D":return"Past 30 Days";case"ALL":return"Since Market Creation";default:return""}},W=(0,I.useCallback)((e,t)=>{try{var r,i,o,l;let s=!1;if((!e||!e.time||e&&e.point&&((null===(r=e.point)||void 0===r?void 0:r.x)<0||(null===(i=e.point)||void 0===i?void 0:i.x)>v.current.options().width||(null===(o=e.point)||void 0===o?void 0:o.y)<0||(null===(l=e.point)||void 0===l?void 0:l.y)>v.current.options().height))&&(s=!0),$.current){let a=C.current.reduce((e,t)=>t?e+1:e,0);if(0===a){b.current.innerHTML="";return}let c=_.current;if(!s&&e){let d=e.seriesData.get(w.current[S.current]),u=Number(null==d?void 0:d.value);isNaN(u)||(c=u)}t&&t[S.current]>=0&&(c=t[S.current]),!s||t||isNaN(_.current)||(c=_.current);let p=c-(s&&!t?M.current:_.current),h=p<0?"-":"+",m=Math.abs(p)/(s&&!t?M.current:_.current)*100,x='<div style="display: flex; flex-direction: row;">'+'<span style="display: flex; color: '.concat(q.Z.softGrey,'; font-size: 14px;">').concat(n.seriesTitles[S.current],"</span>")+"</div>",g='<div style="display: flex; flex-direction: row; align-items: flex-end; margin-top: 5px;">'+'<span style="display: flex; font-size: 24px; line-height: 20px; font-family: OpenSauceSansRegular !important; color: '.concat(q.Z.black,'; margin-right: 5px;">').concat(n.isScalar?(0,tf.TA)(c.toFixed(2),n.formatType):(100*c).toFixed(A.current?2:0),"&#162;</span>")+"</div>",f='<div style="display: flex; flex-direction: row; height: 100%; align-items: flex-end; margin-top: 5px;">'+'<span style="display: flex; width: 100%; color: '.concat(p<0?q.Z.polyPink:q.Z.polyGreen,'cc;">').concat(h).concat(Math.abs(100*p).toFixed(0),"&#162;</span>")+'<span style="display: flex; width: 100%; margin-left: 6px; color: '.concat(p<0?q.Z.polyPink:q.Z.polyGreen,'cc;">(').concat(h).concat(m.toFixed(2),"%)</span>")+'<span style="display: flex; width: 100%; margin-left: 6px; white-space: nowrap; color: '.concat(q.Z.softGrey,"; opacity: ").concat(s?"0.75":"0",';">').concat(H(Z.current),"</span>")+"</div>";b.current.innerHTML='<div style="display: flex; flex-direction: column; align-items: flex-start;">'+x+g+f+"</div>"}else b.current.innerHTML=""}catch(y){(0,t7.S3)(y,"assembleTooltipInnerHtml")}},[n.formatType,n.isScalar,n.seriesTitles]),V=(0,I.useCallback)(e=>{try{var t,r,i,o,l,s;if(!e||!e.time||e&&e.point&&((null===(t=e.point)||void 0===t?void 0:t.x)<0||(null===(r=e.point)||void 0===r?void 0:r.x)>v.current.options().width||(null===(i=e.point)||void 0===i?void 0:i.y)<0||(null===(o=e.point)||void 0===o?void 0:o.y)>v.current.options().height)){j.current.style.display="none",k.current.style.display="none";return}let a=new Date(1e3*e.time);if(D.current){j.current.style.display="block";let c=null===(l=e.seriesData.get(w.current[0]))||void 0===l?void 0:l.value,d=null===(s=e.seriesData.get(w.current[1]))||void 0===s?void 0:s.value;if(j.current.innerHTML='<div style="display: flex; flex-direction: '.concat(c>d?"column":"column-reverse",'; align-items: center; gap: 4px; margin: 8px 10px;">')+"".concat(w.current.map((t,r)=>{if(!C.current[r])return"";let i=e.seriesData.get(t);if(!i)return"";let o=n.isScalar?(0,tf.TA)(i.value.toFixed(2),n.formatType):"".concat((100*i.value).toFixed(A.current?2:0),"&#162;");return'\n                    <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; width: 100%;">\n                        <div style="display: flex; font-size: 12px; text-align: left; line-height: 16px; margin-right: 15px; color: black;"><span style="display: flex; color: '.concat(dY.Yg[r%3],'; font-size: 32px; line-height: 10px; margin-right: 5px; margin-top: 0;">&#8226;</span>').concat(n.seriesTitles[r],'</div>\n                        <div style="font-size: 12px; line-height: 16px; text-align: left; color: color: black;">').concat(o,"</div>\n                    </div>\n                ")}).join(""))+"</div>",e.point){let u=L.current?8:0,p=L.current?58:0,h=L.current?f.current.clientWidth-p:f.current.clientWidth,m=j.current.offsetWidth/2,x=e.point.x-m+p;e.point.x>h-m+u&&(x=f.current.clientWidth-j.current.offsetWidth+u),e.point.x<m&&(x=p);let g=e.point.y+15;g<dY.YE&&(g=dY.YE),j.current.style.left=x+"px",j.current.style.top=g+"px"}}if(k.current.style.display="block",k.current.innerHTML='<div style="display: flex; flex-direction: column; justify-content: flex-start; width: 100%; border: 0px solid transparent; background-color: transparent;">\n            <div style="display: flex; flex-direction: row; justify-content: center; width: 100%; color: '.concat(q.Z.softGrey,'cc;">').concat(dY.gg[a.getUTCMonth()]," ").concat(a.getUTCDate(),", ").concat(a.getUTCFullYear()," ").concat(0===a.getUTCHours()||12===a.getUTCHours()?12:a.getUTCHours()%12,":").concat(String(a.getUTCMinutes()).padStart(2,"0")," ").concat(a.getUTCHours()>=12?"PM":"AM","</div>\n            </div>")+"</div>",e.point){let y=L.current?8:0,b=L.current?58:0,S=L.current?f.current.clientWidth-b:f.current.clientWidth,M=k.current.offsetWidth/2,_=e.point.x-M+b;e.point.x>S-M+y&&(_=f.current.clientWidth-k.current.offsetWidth+y-1),e.point.x<M&&(_=b),k.current.style.left=_+"px",k.current.style.top=dY.YE-15+"px"}}catch(Z){(0,t7.S3)(Z,"assembleFloatingTooltipInnerHtml")}},[n.formatType,n.isScalar,n.seriesTitles]),G=(0,I.useCallback)(()=>{let e=dY.z4+dY.YE;return l&&(e+=dY.oL+dY.Ev),s&&(e+=dY.oL+dY.Ev),a&&(e+=dY.cu),e},[l,s,a]),Y=(0,I.useCallback)(()=>c?10:0,[c]),U=(0,I.useCallback)(()=>{let e=dY.z4;return a&&(e+=dY.cu),e},[a]);return(0,I.useEffect)(()=>{v.current=(0,ut.C2)(f.current,{width:f.current.clientWidth,height:U(),timeScale:{fixLeftEdge:!0,fixRightEdge:!0,rightOffset:0,barSpacing:6,lockVisibleTimeRangeOnResize:!1,borderVisible:!1,visible:a,timeVisible:!0,secondsVisible:!1,ticksVisible:!1},grid:{vertLines:{visible:p,color:"".concat(q.Z.softGrey,"55"),style:3},horzLines:{visible:p,color:"".concat(q.Z.softGrey,"55"),style:3}},leftPriceScale:{visible:c,scaleMargins:{top:.05,bottom:.02},borderVisible:!1,ticksVisible:!1},rightPriceScale:{visible:!1},layout:{background:{type:ut.Mr.Solid,color:"transparent"},textColor:"".concat(q.Z.softGrey,"cc"),fontFamily:"Arial"},crosshair:{mode:1,vertLine:{color:dY.V2,width:2,style:0,visible:!0,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},handleScroll:{mouseWheel:m,pressedMouseMove:m,horzTouchDrag:m,vertTouchDrag:m},handleScale:{mouseWheel:m,pinch:m,axisPressedMouseMove:m,axisDoubleClickReset:m},trackingMode:{exitMode:0}});let e=[],i=[];for(let o=0;o<r.length;o+=1)e.push(),i.push();w.current=e,C.current=i;for(let l=0;l<r.length;l+=1)if(r[l]&&t.length&&t[l]&&t[l].length){w.current[l]=v.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[l%3],"09"),lineColor:"".concat(dY.Yg[l%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:uj,minMove:1e-4},autoscaleInfoProvider:u?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{w.current[l].setData(t[l])}finally{C.current[l]=!0}f.current.appendChild(b.current)}return Z.current=n.window,W(),v.current.subscribeCrosshairMove(e=>{N("CrosshairPositionUpdate","outcomes",e),W(e),V(e)}),v.current.timeScale().subscribeVisibleTimeRangeChange(e=>{e&&N("VisibleRangeUpdate","outcomes",e)}),v.current.timeScale().fitContent(),$.current=!0,()=>v.current.remove()},[]),(0,I.useEffect)(()=>{$.current&&(Z.current=n.window,M.current=t[S.current][0].value,_.current=t[S.current][t[S.current].length-1].value,W())},[n.window,W]),(0,I.useEffect)(()=>{if(t.length){for(let e=0;e<r.length;e+=1)if(r[e]&&C.current[e]&&t.length&&t[e]&&t[e].length){try{v.current.removeSeries(w.current[e])}catch(n){}w.current[e]=v.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:uj,minMove:1e-4},autoscaleInfoProvider:u?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{w.current[e].setData(t[e])}catch(i){}w.current[e].priceScale().applyOptions({scaleMargins:{top:.05,bottom:.02}})}try{M.current=t[S.current][0].value,_.current=t[S.current][t[S.current].length-1].value}catch(o){(0,t7.S3)(o,"Change in chart data")}W(),v.current.timeScale().fitContent()}},[t]),(0,I.useEffect)(()=>{if(t.length){for(let e=0;e<r.length;e+=1){if(!r[e]&&C.current[e])try{v.current.removeSeries(w.current[e])}finally{C.current[e]=r[e]}r[e]&&!C.current[e]&&t.length&&t[e]&&t[e].length&&(w.current[e]=v.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:uj,minMove:1e-4},autoscaleInfoProvider:u?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})}),w.current[e].setData(t[e]),C.current[e]=r[e],w.current[e].priceScale().applyOptions({scaleMargins:{top:.05,bottom:.02}}))}if(!C.current[S.current]){S.current=0===S.current?1:0;try{M.current=t[S.current][0].value,_.current=t[S.current][t[S.current].length-1].value}catch(n){(0,t7.S3)(n,"Change in outcome visibility")}}W(),r.some(e=>!0===e)?R(!1):R(!0)}},[r]),(0,I.useEffect)(()=>{a&&!z.current&&v.current.applyOptions({timeScale:{visible:!0,timeVisible:["1H","6H","1D"].includes(n.window),secondsVisible:!1},layout:{textColor:"".concat(q.Z.softGrey,"cc")},height:U()}),!a&&z.current&&v.current.applyOptions({timeScale:{visible:!1},height:U()}),z.current=a},[a,U,n.window]),(0,I.useEffect)(()=>{if(c&&!L.current){for(let e=0;e<r.length;e+=1){if(!r[e]&&C.current[e])try{v.current.removeSeries(w.current[e])}finally{C.current[e]=!1}if(r[e]&&!C.current[e]){w.current[e]=v.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:uj,minMove:1e-4},autoscaleInfoProvider:u?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{w.current[e].setData(t[e])}finally{C.current[e]=!0}}}W(),v.current.applyOptions({leftPriceScale:{visible:!0}})}!c&&L.current&&v.current.applyOptions({leftPriceScale:{visible:!1}}),L.current=c},[c]),(0,I.useEffect)(()=>{D.current=d},[d]),(0,I.useEffect)(()=>{A.current=h,W()},[h]),(0,I.useEffect)(()=>{if(u&&!P.current)for(let e=0;e<w.current.length;e+=1)w.current[e].applyOptions({autoscaleInfoProvider:e=>e()});if(!u&&P.current)for(let t=0;t<w.current.length;t+=1)w.current[t].applyOptions({autoscaleInfoProvider:()=>({priceRange:{minValue:0,maxValue:1}})});P.current=u},[u]),(0,I.useEffect)(()=>{p&&!E.current&&v.current.applyOptions({grid:{vertLines:{color:"".concat(q.Z.softGrey,"55"),style:3,visible:!0},horzLines:{color:"".concat(q.Z.softGrey,"55"),style:3,visible:!0}}}),!p&&E.current&&v.current.applyOptions({grid:{vertLines:{visible:!1},horzLines:{visible:!1}}}),E.current=p},[p]),(0,I.useEffect)(()=>{m&&!B.current&&v.current.applyOptions({handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),!m&&B.current&&v.current.applyOptions({handleScale:!1,handleScroll:!1}),B.current=m},[m]),(0,I.useEffect)(()=>{S.current=x;try{M.current=t[x][0].value,_.current=t[x][t[x].length-1].value}catch(e){(0,t7.S3)(e,"Change in header outcome index")}W()},[W,x]),(0,I.useEffect)(()=>(y.current=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;v.current.applyOptions({width:t,height:n}),setTimeout(()=>{var e,t;null===(t=null===(e=v.current)||void 0===e?void 0:e.timeScale())||void 0===t||t.fitContent()},0)}),y.current.observe(f.current),()=>y.current.disconnect()),[]),(0,T.jsx)(uw,{style:{height:G(),marginRight:!g&&c?"17px":"-1px"},children:(0,T.jsxs)(uC,{children:[(0,T.jsxs)(uS,{ref:f,style:{marginLeft:g?"0":Y()},children:[(0,T.jsx)(u_,{ref:b,style:{left:-Y()}}),O&&(0,T.jsx)(uL,{style:{top:"".concat((dY.z4+dY.YE)/2,"px")},children:(0,T.jsx)("span",{children:"No outcomes selected"})})]}),s&&(0,T.jsx)(uM,{zIndex:2,children:(0,T.jsx)(uo,{liquidityChartData:o,isPriceAxisVisible:c,isScaleEnabled:m,isVolumeShown:l})}),l&&(0,T.jsx)(uM,{zIndex:1,children:(0,T.jsx)(ud,{volumeChartData:i,isPriceAxisVisible:c,isScaleEnabled:m,isLiquidityShown:s})}),(0,T.jsx)(uZ,{ref:j}),(0,T.jsx)(uz,{ref:k})]})})},uw=(0,N.ZP)("div")(uh()),uC=(0,N.ZP)("div")(um()),uS=(0,N.ZP)("div")(ux(),"".concat(dY.YE,"px")),uM=(0,N.ZP)("div")(ug(),e=>e.zIndex),u_=(0,N.ZP)("div")(uf()),uZ=(0,N.ZP)("div")(uv(),q.Z.black,q.Z.lightGrey),uz=(0,N.ZP)("div")(uy(),q.Z.softGrey),uL=(0,N.ZP)("div")(ub());function uT(){let e=(0,$.Z)(["\n    position: relative;\n    padding: 0;\n    margin: 0;\n    transition: 0.2s all;\n"]);return uT=function(){return e},e}function uD(){let e=(0,$.Z)(["\n    position: absolute;\n    height: 100%;\n    left: -2px;\n    width: calc(100% + 5px);\n    transition: 0.1s all;\n"]);return uD=function(){return e},e}function uP(){let e=(0,$.Z)(["\n    position: relative;\n    padding: "," 0 0;\n    z-index: 3;\n    background-color: #fff;\n    cursor: crosshair;\n    transition: 0.1s all;\n"]);return uP=function(){return e},e}function uE(){let e=(0,$.Z)(['\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    position: absolute;\n    padding: 0 0 0;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: "#131722";\n    z-index: 1000;\n    text-align: right;\n    top: 0;\n    pointer-events: none;\n    background-color: transparent;\n    border-radius: 5px;\n    margin-left: 20px;\n']);return uE=function(){return e},e}function uI(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: ",";\n    z-index: 1001;\n    text-align: center;\n    top: 0;\n    pointer-events: none;\n    background-color: #fff;\n    border: 1px solid ",";\n    border-radius: 5px;\n    transition: 0.1s all;\n"]);return uI=function(){return e},e}function uA(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    box-sizing: border-box;\n    font-size: 12px;\n    color: ",";\n    z-index: 1001;\n    text-align: center;\n    top: 0;\n    pointer-events: none;\n"]);return uA=function(){return e},e}function uB(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    transition: 0.1s all;\n"]);return uB=function(){return e},e}let u$=e=>"$".concat(e.toFixed(2)),uO=e=>{let{chartData:t,chartMetadata:n,outcomeVisibility:r,isTimescaleVisible:i,isPriceAxisVisible:o,isTooltipEnabled:l,isAutoscaleEnabled:s,isGridEnabled:a,areDecimalsVisible:c,isScaleEnabled:d,headerOutcomeIndex:u,noMargin:p}=e,h=(0,I.useRef)(),m=(0,I.useRef)(),x=(0,I.useRef)(),g=(0,I.useRef)(),f=(0,I.useRef)(),v=(0,I.useRef)(),y=(0,I.useRef)(),b=(0,I.useRef)(),j=(0,I.useRef)(u),k=(0,I.useRef)(),w=(0,I.useRef)(),C=(0,I.useRef)(),S=(0,I.useRef)(i),M=(0,I.useRef)(o),_=(0,I.useRef)(l),Z=(0,I.useRef)(s),z=(0,I.useRef)(a),L=(0,I.useRef)(c),D=(0,I.useRef)(d),P=(0,I.useRef)(!1),[E,A]=(0,I.useState)(!1),B=e=>{switch(e){case"1H":return"Past 1 Hour";case"6H":return"Past 6 Hours";case"1D":return"Past 24 Hours";case"7D":return"Past 7 Days";case"30D":return"Past 30 Days";case"ALL":return"Since Market Creation";default:return""}},$=(0,I.useCallback)((e,t)=>{try{var r,i,o,l;let s=!1;if((!e||!e.time||e&&e.point&&((null===(r=e.point)||void 0===r?void 0:r.x)<0||(null===(i=e.point)||void 0===i?void 0:i.x)>m.current.options().width||(null===(o=e.point)||void 0===o?void 0:o.y)<0||(null===(l=e.point)||void 0===l?void 0:l.y)>m.current.options().height))&&(s=!0),P.current){let a=b.current.reduce((e,t)=>t?e+1:e,0);if(0===a){g.current.innerHTML="";return}let c=w.current;if(!s&&e){let d=e.seriesData.get(y.current[j.current]),u=Number(null==d?void 0:d.value);isNaN(u)||(c=u)}t&&t[j.current]>=0&&(c=t[j.current]),!s||t||isNaN(w.current)||(c=w.current);let p=c-(s&&!t?k.current:w.current),h=p<0?"-":"+",x=Math.abs(p)/(s&&!t?k.current:w.current)*100,f='<div style="display: flex; flex-direction: row;">'+'<span style="display: flex; color: '.concat(q.Z.softGrey,'; font-size: 14px;">').concat(n.seriesTitles[j.current],"</span>")+"</div>",v='<div style="display: flex; flex-direction: row; align-items: flex-end; margin-top: 5px;">'+'<span style="display: flex; font-size: 24px; line-height: 20px; font-weight: 400; color: '.concat(q.Z.black,'; margin-right: 5px;">').concat(n.isScalar?(0,tf.TA)(c.toFixed(2),n.formatType):(100*c).toFixed(L.current?2:0),"&#162;</span>")+"</div>",S='<div style="display: flex; flex-direction: row; height: 100%; align-items: flex-end; margin-top: 5px;">'+'<span style="display: flex; width: 100%; color: '.concat(p<0?q.Z.polyPink:q.Z.polyGreen,'cc;">').concat(h).concat(Math.abs(100*p).toFixed(0),"&#162;</span>")+'<span style="display: flex; width: 100%; margin-left: 6px; color: '.concat(p<0?q.Z.polyPink:q.Z.polyGreen,'cc;">(').concat(h).concat(x.toFixed(2),"%)</span>")+'<span style="display: flex; width: 100%; margin-left: 6px; white-space: nowrap; color: '.concat(q.Z.softGrey,"; opacity: ").concat(s?"0.75":"0",';">').concat(B(C.current),"</span>")+"</div>";g.current.innerHTML='<div style="display: flex; flex-direction: column; align-items: flex-start;">'+f+v+S+"</div>"}else g.current.innerHTML=""}catch(M){(0,t7.S3)(M,"assembleTooltipInnerHtml")}},[n.formatType,n.isScalar,n.seriesTitles]),O=(0,I.useCallback)(e=>{try{var t,r,i,o;if(!e||!e.time||e&&e.point&&((null===(t=e.point)||void 0===t?void 0:t.x)<0||(null===(r=e.point)||void 0===r?void 0:r.x)>m.current.options().width||(null===(i=e.point)||void 0===i?void 0:i.y)<0||(null===(o=e.point)||void 0===o?void 0:o.y)>m.current.options().height)){f.current.style.display="none",v.current.style.display="none";return}let l=new Date(1e3*e.time);if(_.current){f.current.style.display="block";let s=e.seriesData.get(y.current[0]).value,a=e.seriesData.get(y.current[1]).value;if(f.current.innerHTML='<div style="display: flex; flex-direction: '.concat(s>a?"column":"column-reverse",'; align-items: center; gap: 4px; margin: 8px 10px;">')+"".concat(y.current.map((t,r)=>{if(!b.current[r])return"";let i=n.isScalar?(0,tf.TA)(e.seriesData.get(t).value.toFixed(2),n.formatType):"".concat((100*e.seriesData.get(t).value).toFixed(L.current?2:0),"&#162;");return'\n                    <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; width: 100%;">\n                        <div style="display: flex; font-size: 12px; text-align: left; line-height: 16px; margin-right: 15px; color: black;"><span style="display: flex; color: '.concat(dY.Yg[r%3],'; font-size: 32px; line-height: 10px; margin-right: 5px; margin-top: 0;">&#8226;</span>').concat(n.seriesTitles[r],'</div>\n                        <div style="font-size: 12px; line-height: 16px; text-align: left; color: color: black;">').concat(i,"</div>\n                    </div>\n                ")}).join(""))+"</div>",e.point){let c=M.current?8:0,d=M.current?58:0,u=M.current?h.current.clientWidth-d:h.current.clientWidth,p=f.current.offsetWidth/2,x=e.point.x-p+d;e.point.x>u-p+c&&(x=h.current.clientWidth-f.current.offsetWidth+c),e.point.x<p&&(x=d);let g=e.point.y+15;g<dY.YE&&(g=dY.YE),f.current.style.left=x+"px",f.current.style.top=g+"px"}}if(v.current.style.display="block",v.current.innerHTML='<div style="display: flex; flex-direction: column; justify-content: flex-start; width: 100%; border: 0px solid transparent; background-color: transparent;">\n            <div style="display: flex; flex-direction: row; justify-content: center; width: 100%; color: '.concat(q.Z.softGrey,'cc;">').concat(dY.gg[l.getUTCMonth()]," ").concat(l.getUTCDate(),", ").concat(l.getUTCFullYear()," ").concat(0===l.getUTCHours()||12===l.getUTCHours()?12:l.getUTCHours()%12,":").concat(String(l.getUTCMinutes()).padStart(2,"0")," ").concat(l.getUTCHours()>=12?"PM":"AM","</div>\n            </div>")+"</div>",e.point){let j=M.current?8:0,k=M.current?58:0,w=M.current?h.current.clientWidth-k:h.current.clientWidth,C=v.current.offsetWidth/2,S=e.point.x-C+k;e.point.x>w-C+j&&(S=h.current.clientWidth-v.current.offsetWidth+j-1),e.point.x<C&&(S=k),v.current.style.left=S+"px",v.current.style.top=dY.YE-15+"px"}}catch(Z){(0,t7.S3)(Z,"assembleFloatingTooltipInnerHtml")}},[n.formatType,n.isScalar,n.seriesTitles]),R=(0,I.useCallback)(()=>{let e=dY.z4+dY.YE;return i?e+dY.cu:e},[i]),N=(0,I.useCallback)(()=>o?10:0,[o]),F=(0,I.useCallback)(()=>{let e=dY.z4;return i&&(e+=dY.cu),e},[i]);return(0,I.useEffect)(()=>{m.current=(0,ut.C2)(h.current,{width:h.current.clientWidth,height:F(),timeScale:{fixLeftEdge:!0,fixRightEdge:!0,rightOffset:0,barSpacing:6,lockVisibleTimeRangeOnResize:!1,borderVisible:!1,visible:i,timeVisible:["1H","6H","1D"].includes(n.window),secondsVisible:!1,ticksVisible:!1},grid:{vertLines:{visible:a,color:"".concat(q.Z.softGrey,"55"),style:3},horzLines:{visible:a,color:"".concat(q.Z.softGrey,"55"),style:3}},leftPriceScale:{visible:o,scaleMargins:{top:.05,bottom:.02},borderVisible:!1,ticksVisible:!1},rightPriceScale:{visible:!1},layout:{background:{type:ut.Mr.Solid,color:"transparent"},textColor:"".concat(q.Z.softGrey,"cc"),fontFamily:"Arial"},crosshair:{mode:1,vertLine:{color:dY.V2,width:2,style:0,visible:!0,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},handleScroll:{mouseWheel:d,pressedMouseMove:d,horzTouchDrag:d,vertTouchDrag:d},handleScale:{mouseWheel:d,pinch:d,axisPressedMouseMove:d,axisDoubleClickReset:d},trackingMode:{exitMode:0}});let e=[],l=[];for(let c=0;c<r.length;c+=1)e.push(),l.push();y.current=e,b.current=l;for(let u=0;u<r.length;u+=1)if(r[u]&&t.length&&t[u]&&t[u].length){y.current[u]=m.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[u%3],"09"),lineColor:"".concat(dY.Yg[u%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:u$,minMove:1e-4},autoscaleInfoProvider:s?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{y.current[u].setData(t[u])}finally{b.current[u]=!0}h.current.appendChild(g.current)}return C.current=n.window,$(),m.current.subscribeCrosshairMove(e=>{$(e),O(e)}),m.current.timeScale().fitContent(),P.current=!0,()=>m.current.remove()},[]),(0,I.useEffect)(()=>{P.current&&(C.current=n.window,k.current=t[j.current][0].value,w.current=t[j.current][t[j.current].length-1].value,$())},[n.window,$]),(0,I.useEffect)(()=>{if(t.length){for(let e=0;e<r.length;e+=1)if(r[e]&&b.current[e]&&t.length&&t[e]&&t[e].length){try{m.current.removeSeries(y.current[e])}catch(n){}y.current[e]=m.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:u$,minMove:1e-4},autoscaleInfoProvider:s?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{y.current[e].setData(t[e])}catch(i){}y.current[e].priceScale().applyOptions({scaleMargins:{top:.05,bottom:.02}})}try{k.current=t[j.current][0].value,w.current=t[j.current][t[j.current].length-1].value}catch(o){(0,t7.S3)(o,"Change in chart data")}$(),m.current.timeScale().fitContent()}},[t]),(0,I.useEffect)(()=>{if(t.length){for(let e=0;e<r.length;e+=1){if(!r[e]&&b.current[e])try{m.current.removeSeries(y.current[e])}finally{b.current[e]=r[e]}r[e]&&!b.current[e]&&t.length&&t[e]&&t[e].length&&(y.current[e]=m.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:u$,minMove:1e-4},autoscaleInfoProvider:s?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})}),y.current[e].setData(t[e]),b.current[e]=r[e],y.current[e].priceScale().applyOptions({scaleMargins:{top:.05,bottom:.02}}))}if(!b.current[j.current]){j.current=0===j.current?1:0;try{k.current=t[j.current][0].value,w.current=t[j.current][t[j.current].length-1].value}catch(n){(0,t7.S3)(n,"Change in outcome visibility")}}$(),r.some(e=>!0===e)?A(!1):A(!0)}},[r]),(0,I.useEffect)(()=>{i&&!S.current&&m.current.applyOptions({timeScale:{visible:!0,timeVisible:["1H","6H","1D"].includes(n.window),secondsVisible:!1},layout:{textColor:"".concat(q.Z.softGrey,"cc")},height:F()}),!i&&S.current&&m.current.applyOptions({timeScale:{visible:!1},height:F()}),S.current=i},[i,F,n.window]),(0,I.useEffect)(()=>{if(o&&!M.current){for(let e=0;e<r.length;e+=1){if(!r[e]&&b.current[e])try{m.current.removeSeries(y.current[e])}finally{b.current[e]=!1}if(r[e]&&!b.current[e]){y.current[e]=m.current.addAreaSeries({bottomColor:"transparent",topColor:"".concat(dY.Yg[e%3],"09"),lineColor:"".concat(dY.Yg[e%3],"bb"),lineWidth:2,lineType:0,crosshairMarkerRadius:3,priceLineColor:"".concat(q.Z.softGrey,"55"),priceLineStyle:1,priceLineVisible:!1,lastValueVisible:!1,baseLineVisible:!1,priceFormat:{type:"custom",formatter:u$,minMove:1e-4},autoscaleInfoProvider:s?e=>e():()=>({priceRange:{minValue:0,maxValue:1}})});try{y.current[e].setData(t[e])}finally{b.current[e]=!0}}}$(),m.current.applyOptions({leftPriceScale:{visible:!0}})}!o&&M.current&&m.current.applyOptions({leftPriceScale:{visible:!1}}),M.current=o},[o]),(0,I.useEffect)(()=>{_.current=l},[l]),(0,I.useEffect)(()=>{L.current=c,$()},[c]),(0,I.useEffect)(()=>{if(s&&!Z.current)for(let e=0;e<y.current.length;e+=1)y.current[e].applyOptions({autoscaleInfoProvider:e=>e()});if(!s&&Z.current)for(let t=0;t<y.current.length;t+=1)y.current[t].applyOptions({autoscaleInfoProvider:()=>({priceRange:{minValue:0,maxValue:1}})});Z.current=s},[s]),(0,I.useEffect)(()=>{a&&!z.current&&m.current.applyOptions({grid:{vertLines:{color:"".concat(q.Z.softGrey,"55"),style:3,visible:!0},horzLines:{color:"".concat(q.Z.softGrey,"55"),style:3,visible:!0}}}),!a&&z.current&&m.current.applyOptions({grid:{vertLines:{visible:!1},horzLines:{visible:!1}}}),z.current=a},[a]),(0,I.useEffect)(()=>{d&&!D.current&&m.current.applyOptions({handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),!d&&D.current&&m.current.applyOptions({handleScale:!1,handleScroll:!1}),D.current=d},[d]),(0,I.useEffect)(()=>{j.current=u;try{k.current=t[u][0].value,w.current=t[u][t[u].length-1].value}catch(e){(0,t7.S3)(e,"Change in header outcome index")}$()},[$,u]),(0,I.useEffect)(()=>(x.current=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;m.current.applyOptions({width:t,height:n}),setTimeout(()=>{var e,t;null===(t=null===(e=m.current)||void 0===e?void 0:e.timeScale())||void 0===t||t.fitContent()},0)}),x.current.observe(h.current),()=>x.current.disconnect()),[]),(0,T.jsx)(uR,{style:{height:R(),marginRight:!p&&o?"17px":"-1px"},children:(0,T.jsxs)(uN,{children:[(0,T.jsxs)(uF,{ref:h,style:{marginLeft:p?"0":N()},children:[(0,T.jsx)(uH,{ref:g,style:{left:-N(),opacity:1}}),E&&(0,T.jsx)(uV,{style:{top:"".concat((dY.z4+dY.YE)/2,"px")},children:(0,T.jsx)("span",{children:"No outcomes selected"})})]}),(0,T.jsx)(uW,{ref:f}),(0,T.jsx)(uq,{ref:v})]})})},uR=(0,N.ZP)("div")(uT()),uN=(0,N.ZP)("div")(uD()),uF=(0,N.ZP)("div")(uP(),"".concat(dY.YE,"px")),uH=(0,N.ZP)("div")(uE()),uW=(0,N.ZP)("div")(uI(),q.Z.black,q.Z.lightGrey),uq=(0,N.ZP)("div")(uA(),q.Z.softGrey),uV=(0,N.ZP)("div")(uB());function uG(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-content: center;\n    position: relative;\n    width: calc(100% + 8px);\n    left: -8px;\n    padding: ",";\n    overflow-x: hidden;\n    overflow-y: visible;\n"]);return uG=function(){return e},e}function uY(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    position: absolute;\n    top: 16px;\n    width: 50%;\n    height: 32px;\n    margin-bottom: 0;\n    z-index: 4;\n    right: 0;\n"]);return uY=function(){return e},e}function uU(){let e=(0,$.Z)(["\n    display: flex;\n    justify-content: flex-end;\n    gap: 0.1rem;\n    width: 100%;\n"]);return uU=function(){return e},e}function uQ(){let e=(0,$.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: ",";\n    align-items: center;\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 0;\n    padding: 10px 0 0;\n    z-index: 3;\n"]);return uQ=function(){return e},e}function uJ(){let e=(0,$.Z)(["\n    height: 338.61px;\n    margin: 0 10px;\n    transform: translateY(-10px);\n"]);return uJ=function(){return e},e}function uX(){let e=(0,$.Z)(["\n    height: 100%;\n    width: 100%;\n    z-index: 3;\n    min-height: ","px;\n"]);return uX=function(){return e},e}function uK(){let e=(0,$.Z)(["\n    transition: 0.2s all;\n"]);return uK=function(){return e},e}function u0(){let e=(0,$.Z)(["\n    display: flex;\n    z-index: 4;\n    transition: 0.2s all;\n"]);return u0=function(){return e},e}function u1(){let e=(0,$.Z)(["\n    user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n"]);return u1=function(){return e},e}function u2(){let e=(0,$.Z)(["\n    ",";\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    padding: 0 0.5rem 0 0.3rem;\n    border: 1px solid ",";\n    border-radius: 5px;\n    font-size: 12px;\n    color: "," !important;\n    overflow: hidden;\n    transition: all 0.2s ease;\n    margin: 0.15rem 0 0.15rem 1rem;\n\n    :hover {\n        cursor: pointer;\n        background: rgba(216, 216, 216, 0.5);\n    }\n\n    @media "," {\n        justify-content: center;\n        padding: 0 0.5rem;\n    }\n"]);return u2=function(){return e},e}function u5(){let e=(0,$.Z)(["\n    @media "," {\n        display: flex;\n        user-select: none;\n    }\n    @media "," {\n        display: none;\n    }\n"]);return u5=function(){return e},e}function u3(){let e=(0,$.Z)(["\n    @media "," {\n        display: none;\n    }\n    @media "," {\n        display: flex;\n        user-select: none;\n        align-items: center;\n        justify-content: space-between;\n    }\n"]);return u3=function(){return e},e}let u4=(0,t_.zo)(lw.M,{size:"20px"}),u6=(0,t_.zo)(d_.W,{size:"20px",transform:"rotate(90deg)"}),u8=(0,t_.zo)(tz.aJ,{border:"none",borderRadius:"4px",cursor:"pointer",backgroundColor:"white",padding:"0.25rem",transition:"all 0.2s",height:"28px","* >":{userSelect:"none"},"&:hover":{backgroundColor:"$gray6"},"&:active":{backgroundColor:"$gray6"}}),u7=e=>{let{copy:t,callback:n,children:r}=e;return(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(u8,{onClick:n,children:r}),(0,T.jsxs)(tz._v,{side:"top",align:"center",sideOffset:4,children:[t," ",(0,T.jsx)(tz.Ce,{})]})]})})},u9=e=>{var t,n,r,i,o;let{market:l,chartData:s,isSingleChart:a,injectedWindows:c,noPadding:d,hideViewEvent:u}=e,{allLineChartData:p}=rv(),{event:h,activeMarketVolumeOpen:m,activeMarketLiquidityOpen:x,activeMarketXAxisShown:g,setActiveMarketVolumeOpen:f,setActiveMarketLiquidityOpen:v,setActiveMarketXAxisShown:y}=e3(),[b,j]=(0,I.useState)(!1),k=null!=c?c:dY.Bp,[w,C]=(0,I.useState)(!1),S=(0,I.useCallback)(()=>{C(!w)},[w]),M=(0,I.useMemo)(()=>tg().debounce(S,50),[S]),{ref:_}=ue(()=>M()),[Z,z]=(0,I.useState)(k[k.length-1]),[L,D]=(0,I.useState)(l.outcomes.map(e=>!0)),[P,E]=(0,I.useState)(!0),[A,B]=(0,I.useState)(!0),[$,O]=(0,I.useState)(!1),[N,H]=(0,I.useState)(!1),[W,q]=(0,I.useState)(!1),[V,G]=(0,I.useState)(!1),[Y,U]=(0,I.useState)(0),[Q,J]=(0,I.useState)(s?null===(t=s[k.indexOf(Z)])||void 0===t?void 0:t.prices:[]),[X,K]=(0,I.useState)(s&&!a?null===(n=s[k.indexOf(Z)])||void 0===n?void 0:n.volume:[]),[ee,et]=(0,I.useState)(s&&a?null===(r=s[k.indexOf(Z)])||void 0===r?void 0:r.liquidity:[]),en=(0,I.useCallback)(()=>b,[b]),er=(0,I.useCallback)(e=>{z(e)},[z]),ei=(0,I.useCallback)(e=>{D(e)},[D]),eo=(0,I.useCallback)(e=>{E(e),eN(e)},[E]),el=(0,I.useCallback)(e=>{B(e),eq(e)},[B]),es=(0,I.useCallback)(e=>{O(e),eH(e)},[O]),ea=(0,I.useCallback)(e=>{H(e),eG(e)},[H]),ec=(0,I.useCallback)(e=>{q(e),eJ(e)},[q]),ed=(0,I.useCallback)(e=>{G(e),eU(e)},[G]),eu=(0,I.useCallback)(()=>{U(0===Y?1:0)},[Y,U]);return(0,I.useEffect)(()=>{var e,t,n,r,i,o;E(null===(e=eR())||void 0===e||e),B(null===(t=eW())||void 0===t||t),O(null!==(n=eF())&&void 0!==n&&n),H(null!==(r=eV())&&void 0!==r&&r),G(null!==(i=eY())&&void 0!==i&&i),q(null!==(o=eQ())&&void 0!==o&&o)},[]),(0,I.useEffect)(()=>{var e,t,n;if(!en()&&s&&s.length&&(null==s?void 0:null===(e=s[k.indexOf(Z)])||void 0===e?void 0:null===(t=e.prices)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.length)){let r=k.indexOf(Z);J(s[r].prices),a||(K(s[r].volume),et(s[r].liquidity)),j(!0),s[r].prices[1][s[r].prices[1].length-1].value>s[r].prices[0][s[r].prices[0].length-1].value&&U(1)}},[s,j,J,K,et,en,Z,a,k]),(0,I.useEffect)(()=>{var e,t,n;let r=a?s:null!=p?p:s;if(r&&r.length&&(null===(e=r[k.indexOf(Z)])||void 0===e?void 0:null===(t=e.prices)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.length)){let i=k.indexOf(Z);J(r[i].prices),a||(K(r[i].volume),et(r[i].liquidity)),r[i].prices[1][r[i].prices[1].length-1].value>r[i].prices[0][r[i].prices[0].length-1].value&&U(1)}},[Z,s,p,en,a,k]),(0,T.jsx)(pe,{padding:d?"0":a?"15px 0":"15px",children:Q.length&&Q[0].length&&(a||X.length&&ee.length)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(pt,{children:[(0,T.jsxs)(pn,{children:[(0,T.jsx)(u7,{copy:"Switch outcomes",callback:eu,children:(0,T.jsx)(u6,{})}),(0,T.jsx)(u7,{copy:"Settings",callback:M,children:(0,T.jsx)(u4,{})})]}),w&&(0,T.jsx)(ps,{ref:_,children:(0,T.jsx)(dO,{outcomes:l.outcomes,setOutcomeVisibilityCallback:ei,setVolumeSelectedCallback:f,setLiquiditySelectedCallback:v,setTimescaleVisibilityCallback:y,setPriceAxisVisibilityCallback:eo,setTooltipEnablementCallback:el,setAutoscaleEnablementCallback:es,setGridEnablementCallback:ea,setDecimalVisibilityCallback:ec,setScaleEnablementCallback:ed,outcomeVisibility:L,volumeVisibility:m,liquidityVisibility:x,isTimescaleVisible:g,isPriceAxisVisible:P,isAutoscaleEnabled:$,isTooltipEnabled:A,isGridEnabled:N,areDecimalsVisible:W,isScaleEnabled:V,isSingleChart:a})})]}),(0,T.jsx)(po,{children:(0,T.jsx)(pl,{children:(0,T.jsx)(d9,{children:a?(0,T.jsx)(uO,{chartData:Q,chartMetadata:{seriesTitles:l.outcomes,window:Z,isScalar:"scalar"===l.market_type,formatType:l.format_type},outcomeVisibility:L,isTimescaleVisible:g,isPriceAxisVisible:P,isTooltipEnabled:A,isAutoscaleEnabled:$,isGridEnabled:N,areDecimalsVisible:W,isScaleEnabled:V,headerOutcomeIndex:Y,noMargin:d}):(0,T.jsx)(uk,{chartData:Q,chartMetadata:{seriesTitles:l.outcomes,window:Z,isScalar:"scalar"===l.market_type,formatType:l.format_type},outcomeVisibility:L,volumeChartData:X,liquidityChartData:ee,showVolumeSeries:m,showLiquiditySeries:x,isTimescaleVisible:g,isPriceAxisVisible:P,isTooltipEnabled:A,isAutoscaleEnabled:$,isGridEnabled:N,areDecimalsVisible:W,isScaleEnabled:V,headerOutcomeIndex:Y,noMargin:d})})})}),(0,T.jsxs)(pr,{justifyContent:!u&&h&&(null===(i=h.markets)||void 0===i?void 0:i.length)>1?"space-between":"flex-end",children:[!u&&(null==h?void 0:null===(o=h.markets)||void 0===o?void 0:o.length)>1?(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"/event/".concat(h.slug),passHref:!0,legacyBehavior:!0,children:(0,T.jsxs)(pc,{children:[(0,T.jsx)(pd,{children:(0,T.jsx)(dM.u,{size:"1.25rem"})}),(0,T.jsxs)(pu,{children:[(0,T.jsx)(dM.u,{size:"1.5rem"}),"View event"]})]})}):null,(0,T.jsx)(d0,{tabs:k.map(e=>"7D"===e?"1W":"30D"===e?"1M":e),setSelectedCallback:er,hasAllLineChartDataLoaded:Boolean(s&&s.length&&s[0].prices.length||p&&p.length&&p[0].prices.length),defaultTab:k.length-1})]})]}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(pi,{children:(0,T.jsx)(ev,{})})})})},pe=(0,N.ZP)("div")(uG(),e=>e.padding),pt=(0,N.ZP)("div")(uY()),pn=(0,N.ZP)("div")(uU()),pr=(0,N.ZP)("div")(uQ(),e=>e.justifyContent),pi=(0,N.ZP)("div")(uJ()),po=(0,N.ZP)("div")(uX(),dY.z4+dY.YE),pl=(0,N.ZP)("span")(uK()),ps=(0,N.ZP)("div")(u0()),pa=(0,N.iv)(u1()),pc=N.ZP.a(u2(),pa,q.Z.softGrey,q.Z.softGrey,H.BC.mobile),pd=(0,N.ZP)("span")(u5(),H.BC.mobile,H.BC.desktop),pu=(0,N.ZP)("span")(u3(),H.BC.mobile,H.BC.desktop);var pp=n(8833),ph=n(61213),pm=n(1314),px=n(60498),pg=n(51345),pf=n.n(pg),pv=n(4213);let py=(0,t_.zo)(pv.F,{position:"relative",transition:"all 0.2s",variants:{color:{dark:{color:"$shadeDarker !important"},light:{color:"$shadeWhite !important"},green:{color:"$green2_50","&:hover":{color:"$green2"}},red:{color:"$red_50","&:hover":{color:"$red"}}}},defaultVariants:{color:"dark"}});var pb=n(63934);let pj=(0,t_.zo)(pb.fC,{}),pk=(0,t_.zo)(pb.xz,{'&[data-state="open"]':{},'&[data-state="closed"]':{}}),pw=(0,t_.zo)(pb.h_,{}),pC=(0,t_.zo)(pb.VY,{animationDuration:"400ms",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="top"]':{animationName:o9.xm},'&[data-side="right"]':{animationName:o9.Pp},'&[data-side="bottom"]':{animationName:o9.Qb},'&[data-side="left"]':{animationName:o9.cT}},'&[data-state="closed"]':{'&[data-side="top"]':{animationName:o9.zW},'&[data-side="right"]':{animationName:o9.P$},'&[data-side="bottom"]':{animationName:o9.qA},'&[data-side="left"]':{animationName:o9.p9}},'&[data-side="left"]':{},'&[data-side="right"]':{},'&[data-side="bottom"]':{},'&[data-side="top"]':{},'&[data-align="start"]':{},'&[data-align="end"]':{},'&[data-align="center"]':{},variants:{variant:{default:{px:"$3",py:"$2",backgroundColor:"#fff",boxShadow:"$card"}},borderRadius:{sm:{borderRadius:"$sm"},md:{borderRadius:"$md"},lg:{borderRadius:"$lg"}},minWidth:{sm:{minWidth:"190px"}}},defaultVariants:{variant:"default",borderRadius:"md",minWidth:"sm"}});(0,t_.zo)(pb.Eh,{fill:"white"});let pS=(0,t_.zo)("a",{all:"unset",cursor:"pointer",borderRadius:"100%",display:"inline-block","&:focus":{boxShadow:"0 0 0 2px white"}});(0,t_.zo)("img",{display:"block",borderRadius:"100%",variants:{size:{normal:{width:45,height:45},large:{width:60,height:60}}},defaultVariants:{size:"normal"}});var pM=n(84682);let p_=(0,t_.zo)(pM.fC,{position:"relative",overflow:"hidden",transform:"translateZ(0)",'&[data-state="value"]':{},'&[data-state="max"]':{},'&[data-state="complete"]':{},'&[data-state="indeterminate"]':{},'&[data-state="loading"]':{},variants:{variant:{default:{borderRadius:"$pill",width:"100%"}},height:{sm:{height:"4px"}},color:{green:{background:"$green2_50"},red:{background:"$red_50"}}},defaultVariants:{variant:"default",height:"sm"}}),pZ=(0,t_.zo)(pM.z$,{transition:"transform 660ms cubic-bezier(0.65, 0, 0.35, 1)",'&[data-state="value"]':{},'&[data-state="max"]':{},'&[data-state="complete"]':{},'&[data-state="indeterminate"]':{},'&[data-state="loading"]':{},variants:{variant:{default:{width:"100%",height:"100%"}},color:{green:{backgroundColor:"$green2"},red:{backgroundColor:"$red"}}},defaultVariants:{variant:"default"}}),pz=e=>{let{orderDetails:t,color:n="green"}=e;if(!t)return null;let r=Math.max((t.totalQty-t.availableQty)/t.totalQty*100,2);return(0,T.jsxs)(pj,{openDelay:100,closeDelay:200,children:[(0,T.jsx)(pk,{asChild:!0,children:(0,T.jsx)(pS,{as:"span",css:{position:"absolute",right:"36px"},children:(0,T.jsx)(py,{color:n,css:{display:"block",size:"18px",top:"1px"}})})}),(0,T.jsx)(pw,{children:(0,T.jsx)(pC,{variant:"default",side:"left",sideOffset:5,children:(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",gap:"$1"},children:[(0,T.jsxs)(eh.kC,{css:{flex:1,justifyContent:"space-between",mb:"$1",gap:"$4"},children:[(0,T.jsx)(ew.xv,{size:"md",weight:"semi",children:"Filled"}),(0,T.jsxs)(ew.xv,{size:"md",weight:"semi",children:[tT()(t.totalQty-t.availableQty).format("0,0")," ","/ ",tT()(t.totalQty).format("0,0")]})]}),(0,T.jsx)(eh.kC,{css:{flex:1},children:(0,T.jsx)(p_,{color:n,value:r,children:(0,T.jsx)(pZ,{color:n,style:{transform:"translateX(-".concat(100-r,"%)")}})})}),(0,T.jsx)(eh.kC,{css:{flex:1},children:(0,T.jsxs)(ew.xv,{size:"md",weight:"light",css:{color:"$gray3 !important"},children:[tT()(t.availableQty).format("0,0")," ","remaining"]})})]})})})]})},pL=e=>{let t=parseFloat(e).toFixed(2);return(0,tf.dh)(t)},pT=(e,t)=>pL((parseFloat(e)-parseFloat(t)).toString()),pD=(e,t)=>parseFloat(e)/parseFloat((0,tf.Du)(t))*100,pP=(e,t)=>0===t?.4*e:.6*e/3;(h=_||(_={})).Loading="loading",h.Spread="spread",h.NoAsks="noAsks",h.NoBids="noBids";let pE=e=>{var t,n,r;let{containerStyles:i}=e,{isMobile:o}=(0,le.Z)(),[l,s]=(0,I.useState)(!1);(0,I.useEffect)(()=>{s(!0)},[]);let{activeMarket:a}=e3(),{hasTouchedPrice:c,orderType:d,selectedOutcome:u,selectedOutcomeIdx:p,side:h,setHasTouchedPrice:m,setOrderType:x,setCursorActive:g,setPrice:f,setPriceUpdateLocation:v,setShares:y}=tM(),{side:b,price:j}=ck(),{areBooksRefreshing:k,bidsValue:w,asksValue:C,askPriceKeysSorted:S,bidPriceKeysSorted:M,bidMap:Z,askMap:z}=(0,tA.C)(a,p),{userOpenOrdersPriceTotalsMap:L}=(0,nY.Z)(null==a?void 0:a.clobTokenIds),D=(0,I.useMemo)(()=>{let e=0===S.length,t=0===M.length;if(k&&e&&t)return[...Array.from({length:5},e=>_.Loading),_.Spread,...Array.from({length:5},e=>_.Loading)];{let n=S.concat([_.Spread]).concat(M);return e&&n.unshift(_.NoAsks),t&&n.push(_.NoBids),n}},[S,M,k]);(0,ph.Z)("Book",{activeMarket:a,areBooksRefreshing:k,askMap:z,askPriceKeysSorted:S,asksValue:C,bidMap:Z,bidPriceKeysSorted:M,bidsValue:w,book:D,hasComponentMounted:l,hasTouchedPrice:c,lastPrice:j,lastSide:b,userOpenOrdersPriceTotalsMap:L,orderType:d,selectedOutcomeIdx:p,setCursorActive:g,setHasTouchedPrice:m,setOrderType:x});let P=null!==(n=null==D?void 0:D.length)&&void 0!==n?n:0,E=(0,pp.Z)(H.BC.mobile,{noSsr:!0}),A=(0,pp.Z)("(max-width:768px)",{noSsr:!0}),B=(0,pp.Z)("(max-width: 1017px)",{noSsr:!0}),$=(0,pp.Z)("(min-width: 1018px) and (max-width: 1220px)",{noSsr:!0}),O=(0,pp.Z)("(min-width: 1221px)",{noSsr:!0}),R=I.createRef(),[N,F]=(0,I.useState)(!1),[W,q]=(0,I.useState)(!1);(0,I.useEffect)(()=>{if(R.current&&(null==S?void 0:S.length)>=4&&(null==M?void 0:M.length)>=4&&(!N&&0===p||!W&&1===p)){let e=D.indexOf(_.Spread);e>4&&(R.current.scrollToItem({align:"start",rowIndex:e-4}),0===p&&F(!0),1===p&&q(!0))}},[R,N,W,D,null==S?void 0:S.length,null==M?void 0:M.length,p]),(0,I.useEffect)(()=>{R.current&&(R.current.resetAfterColumnIndex(0,!0),R.current.resetAfterColumnIndex(1,!0))},[R,E,A]);let V=(0,I.useCallback)(e=>B?{gridWidth:window.innerWidth-32,colWidth:pP(window.innerWidth-32,null!=e?e:0)}:$?{gridWidth:window.innerWidth-436,colWidth:pP(window.innerWidth-436,null!=e?e:0)}:O?{gridWidth:784,colWidth:pP(784,null!=e?e:0)}:{gridWidth:300,colWidth:pP(300,null!=e?e:0)},[B,$,O]),[G,Y]=(0,I.useState)(null),[U,Q]=(0,I.useState)(null),J=(0,I.useMemo)(()=>({hoveredRowIndex:G,setHoveredRowIndex:Y,clickedRowIndex:U,setClickedRowIndex:Q}),[G,U]);(0,I.useEffect)(()=>{if(U||0===U){let e=D[U],t=U<S.length;if(c||m(!0),e!==_.Spread){d!==tr.mr.Limit&&x(tr.mr.Limit);try{var n,r,i,l;let s=(0,tf.G_)(e,2);v("click"),f(s);let a=t?null!==(i=null==z?void 0:null===(n=z[e])||void 0===n?void 0:n.netSize)&&void 0!==i?i:"0":null!==(l=null==Z?void 0:null===(r=Z[e])||void 0===r?void 0:r.netSize)&&void 0!==l?l:"0",u=(0,nU.oo)(a,2);h===tm.Side.BUY?y(t?u:""):y(t?"":u)}catch(p){}}}o||g(!0)},[U]);let X=(0,I.useCallback)((e,t)=>{var n,r;let i=(0,px.Ct)(e,null!==(r=null==a?void 0:null===(n=a.clobTokenIds)||void 0===n?void 0:n[p])&&void 0!==r?r:"",t);return L[i]},[L,p,null==a?void 0:a.clobTokenIds]),K=(0,I.useCallback)(e=>{var t,n,r,i,o,l,s,a,c,d,u,p,h,m;let{columnIndex:x,data:g,rowIndex:f,style:v}=e,y=D[f];if(y===_.NoAsks||y===_.NoBids)return(0,T.jsxs)("div",{style:{...v,backgroundColor:"#f5f5f5",color:"#999",fontSize:"0.8rem",textAlign:"center",padding:"0.5rem"},children:[1===x&&y===_.NoAsks&&"No asks",1===x&&y===_.NoBids&&"No bids"]});if(y===_.Loading)return(0,T.jsx)("div",{style:v,children:(0,T.jsx)("div",{className:pf().skeleton})});let b=f<S.length,k="spread"===y,{hoveredRowIndex:L,setHoveredRowIndex:P,setClickedRowIndex:E}=g,I=eu()(pf().rw);return L===f&&(I=k?eu()(pf().rwHoverSpread):b?eu()(0===x?pf().rwHoverAskInset:pf().rwHoverAsk):eu()(0===x?pf().rwHoverBidInset:pf().rwHoverBid)),(0,T.jsxs)("div",{className:eu()(I),style:v,onMouseEnter:()=>P(f),onMouseLeave:()=>P(null),onTouchEnd:()=>E(f),onClick:()=>E(f),children:[0===x?(0,T.jsx)("div",{className:eu()(pf().rwCell,pf().hasGraphPadding,pf().start,k&&pf().hasTopAndBottomBorder),children:k?(0,T.jsxs)("div",{className:pf().flexRow,children:[(0,T.jsxs)("div",{className:pf().rwLabelWrapper,children:[M.length>0?(0,T.jsx)("div",{className:eu()(pf().rwLabel,pf().rwLabelGreen),children:"Bids"}):null,S.length>0?(0,T.jsx)("div",{className:eu()(pf().rwLabel,pf().rwLabelRed),children:"Asks"}):null]}),(0,T.jsx)(pB,{css:{mr:"4px"},children:"Last:"})," ",(0,T.jsx)(pB,{children:"".concat((0,tf.G_)(j),"\xa2")})]}):(0,T.jsx)("div",{className:pf().rwGraphWrapper,children:(0,T.jsx)("div",{className:pf().rwCell100Wrapper,children:(0,T.jsx)("div",{className:eu()(pf().rwGraph,b?pf().isRed:pf().isGreen),style:{width:"".concat(b?pD(null!==(s=null==z?void 0:null===(t=z[y])||void 0===t?void 0:t.netValue)&&void 0!==s?s:"0",C):pD(null!==(a=null==Z?void 0:null===(n=Z[y])||void 0===n?void 0:n.netValue)&&void 0!==a?a:"0",w),"%")}})})})}):null,1===x?(0,T.jsx)("div",{className:eu()(pf().rwCell,pf().center,k&&pf().hasTopAndBottomBorder),children:k?(0,T.jsx)("div",{className:pf().flexRow,children:"0"!==j&&j?(0,T.jsxs)("span",{className:eu()(pf().spreadWrapper),children:[(0,T.jsx)(pB,{children:"Spread:"})," ",(0,T.jsx)(pB,{children:"".concat(void 0!==D[f-1]&&void 0!==D[f+1]?(0,tf.G_)(pT(null!==(c=D[f-1])&&void 0!==c?c:"0",null!==(d=D[f+1])&&void 0!==d?d:"0")):"0","\xa2")})]}):(0,T.jsx)("div",{className:eu()(pf().skeleton,pf().lastPrice)})}):(0,T.jsx)("div",{children:(0,T.jsxs)(p$,{css:{color:b?"$red":"$green2"},children:[(0,T.jsx)(pz,{orderDetails:X(y,b?tm.Side.SELL:tm.Side.BUY),color:b?"red":"green"}),(0,tf.G_)(y),"\xa2"]})})}):null,2===x?(0,T.jsx)("div",{className:eu()(pf().rwCell,pf().center,k&&pf().hasTopAndBottomBorder),children:k?(0,T.jsx)("div",{children:"\xa0"}):(0,T.jsx)("div",{className:eu()(pf().sauce,pf().is500,pf().isResponsiveSize),children:pL(b?null!==(u=null==z?void 0:null===(r=z[y])||void 0===r?void 0:r.size)&&void 0!==u?u:"0":null!==(p=null==Z?void 0:null===(i=Z[y])||void 0===i?void 0:i.size)&&void 0!==p?p:"0")})}):null,3===x?(0,T.jsx)("div",{className:eu()(pf().rwCell,pf().center,k&&pf().hasTopAndBottomBorder),children:k?(0,T.jsx)("div",{children:"\xa0"}):(0,T.jsxs)("div",{className:eu()(pf().sauce,pf().is500,pf().isResponsiveSize),children:["$",pL(b?null!==(h=null==z?void 0:null===(o=z[y])||void 0===o?void 0:o.netValue)&&void 0!==h?h:0:null!==(m=null==Z?void 0:null===(l=Z[y])||void 0===l?void 0:l.netValue)&&void 0!==m?m:0)]})}):null]})},[D,P,j,b,A,w,C,z,Z,L,B,$,O]);return(0,T.jsx)(eh.xu,{css:{backgroundColor:"transparent",height:"fit-content",...i},children:l?(0,T.jsxs)(eh.xu,{css:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,T.jsxs)(eh.xu,{css:{display:"flex",py:"10px",backgroundColor:"white",borderTop:"1px solid $gray6",borderBottom:"1px solid $gray6"},children:[(0,T.jsx)(pI,{css:{width:V(0).colWidth,justifyContent:"flex-start"},children:(0,T.jsx)(pA,{children:"Trade ".concat(u)})}),(0,T.jsx)(pI,{css:{width:V(1).colWidth},children:(0,T.jsx)(pA,{children:"Price"})}),(0,T.jsx)(pI,{css:{width:V(2).colWidth},children:(0,T.jsx)(pA,{children:"Shares"})}),(0,T.jsx)(pI,{css:{width:V(3).colWidth},children:(0,T.jsx)(pA,{children:"Total"})})]}),(0,T.jsx)(pm.cd,{className:eu()(pf().rw),style:{margin:"0 auto"},ref:R,height:Math.min(48*P,432),rowCount:P,rowHeight:()=>48,columnCount:4,width:null!==(r=null===(t=V())||void 0===t?void 0:t.gridWidth)&&void 0!==r?r:784,columnWidth(e){var t,n;return null!==(n=null===(t=V(e))||void 0===t?void 0:t.colWidth)&&void 0!==n?n:196},itemData:J,children:K})]}):null})},pI=(0,t_.zo)("div",{display:"flex",justifyContent:"center",textTransform:"uppercase"}),pA=(0,t_.zo)("span",{fontFamily:"$sauce600",fontSize:"$xxs",color:"$gray3",letterSpacing:"1px"}),pB=(0,t_.zo)("span",{fontFamily:"$sauce600",fontSize:"16px",color:"$gray3"}),p$=(0,t_.zo)("span",{fontFamily:"$sauce600",fontSize:"16px",position:"relative"});var pO=n(67131),pR=n.n(pO),pN=n(9669),pF=n.n(pN);n(11268);let pH=["1H","6H","1D","7D"],pW=e=>{switch(e){case"1H":return 3600;case"6H":return 21600;case"1D":return 86400;case"7D":return 604800;default:throw Error("Unknown window - ".concat(e))}},pq=e=>{switch(e){case"1H":return 1;case"6H":return 3;case"1D":return 5;case"7D":return 10;default:throw Error("Unknown window - ".concat(e))}},pV=(e,t)=>"".concat(ej.T5).concat(e,"?startTs=").concat(t.startTs,"&endTs=").concat(t.endTs,"&fidelity=").concat(t.fidelity,"&market=").concat(t.market),pG=e=>{let t=Math.floor(new Date().getTime()/1e3);return pH.map(n=>{let r=t-pW(n);return{startTs:r,endTs:t,fidelity:pq(n),market:e}})},pY=async(e,t)=>{let n=t.map(e=>pG(e)),r=n.map(t=>t.map(t=>pV(e,t))),i=await Promise.all(r.map(async e=>{let t=await Promise.all(e.map(e=>fetch(e).then(e=>e.json()).then(e=>e.history)));return t}));return i},pU=(e,t,n)=>pY(e,[t,n]).then(e=>e.map(e=>e.map(e=>e))),pQ=e=>{var t,n,r,i;let[o,l]=(0,I.useState)(),s=Intl.DateTimeFormat().resolvedOptions().timeZone,{data:a}=(0,A.useQuery)(nF.a["/prices-history"].markets(null!==(r=null==e?void 0:null===(t=e.clobTokenIds)||void 0===t?void 0:t[0])&&void 0!==r?r:"",null!==(i=null==e?void 0:null===(n=e.clobTokenIds)||void 0===n?void 0:n[1])&&void 0!==i?i:""),e=>{let[t,n,r,i]=e.queryKey;return pU(t,r,i)},{enabled:Array.isArray(null==e?void 0:e.clobTokenIds)});(0,I.useEffect)(()=>{a&&s&&(async()=>{let e=new(pR());e.addEventListener("message",e=>{l(e.data)}),e.postMessage({args:[a,s]})})()},[a,s]);let c=(0,I.useMemo)(()=>null==o?void 0:o.map(e=>e.timeSeriesData),[o]);return c};function pJ(){let e=(0,$.Z)(["\n    height: 368.61px;\n    margin: 0 10px;\n"]);return pJ=function(){return e},e}let pX=e=>null==e?void 0:e.every(e=>e.prices.every(e=>e.length>0)),pK=e=>{let{market:t,hideViewEvent:n}=e,r=pQ(t);return(0,T.jsx)(T.Fragment,{children:t&&r&&pX(r)?(0,T.jsx)(u9,{market:t,chartData:r,isSingleChart:!0,injectedWindows:pH,noPadding:!0,hideViewEvent:n}):(0,T.jsx)(p0,{children:(0,T.jsx)(ev,{})})})},p0=(0,lo.ZP)(ep.E.div)(pJ());var p1=n(51528),p2=n(61436),p5=n(83266);let p3=e=>{let{color:t}=e;return(0,T.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,T.jsx)("path",{d:"M11.589 6.08917L10.4106 4.91083L6.83314 8.48833V0.5H5.16648V8.48833L1.58898 4.91083L0.410645 6.08917L5.99981 11.6783L11.589 6.08917Z",fill:t})})},p4=e=>{let{color:t="black"}=e;return(0,T.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,T.jsx)("path",{d:"M10.192 0.344238L5.94897 4.58624L1.70697 0.344238L0.292969 1.75824L4.53497 6.00024L0.292969 10.2422L1.70697 11.6562L5.94897 7.41424L10.192 11.6562L11.606 10.2422L7.36397 6.00024L11.606 1.75824L10.192 0.344238Z",fill:t})})},p6=(0,t_.zo)("div"),p8=(0,t_.zo)("span",{fontFamily:"$sauce600",color:"$black",fontSize:"$xl",lineHeight:"$xxl"}),p7=(0,t_.zo)("div",{mb:"$2"}),p9=(0,t_.zo)("span",{color:"$black",fontWeight:"500",fontSize:"14px"}),he=(0,t_.zo)("span",{color:"$gray3",fontWeight:"500",fontSize:"12px"}),ht=(0,t_.zo)("button",{backgroundColor:"$transparent",color:"$polyBlue",border:"none",padding:0,fontSize:"$sm",fontFamily:"$sauce700","&:disabled":{opacity:.75},"&:hover":{opacity:.8,cursor:"pointer","&:disabled":{cursor:"not-allowed"}}});(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-end"}),(0,t_.zo)("div",{display:"flex",justifyContent:"center",width:"100%",my:"24px"});let hn=(e,t)=>e.map((e,t)=>{let n="".concat(e.outcome,"-").concat(e.side,"-").concat(e.price,"-").concat(e.filledSize,"-").concat(e.orderID,"-").concat(e.timestamp,"-").concat(e.match_time),r=new Date(1e3*Number(e.match_time));return(0,T.jsxs)(p6,{css:{display:"flex",justifyContent:"space-between",py:"$4",borderBottom:"1px solid $gray6"},children:[(0,T.jsxs)(p6,{css:{display:"flex"},children:[(0,T.jsx)(hp,{children:(0,T.jsx)(p3,{color:"black"})}),(0,T.jsxs)(hd,{children:[(0,T.jsx)(p7,{children:(0,T.jsx)(p9,{css:{textTransform:"capitalize"},children:"".concat(e.type," ").concat(e.side," ").concat(e.outcome)})}),(0,T.jsx)(he,{children:(0,p2.Z)(r)?(0,sw.Z)(r,"LLL dd pp"):"loading"})]})]}),(0,T.jsxs)(hu,{children:[(0,T.jsx)(p7,{children:(0,T.jsxs)(p9,{children:["$",(0,tf.Qh)(e.totalValue)]})}),(0,T.jsx)(he,{children:"".concat((0,tf._H)(e.filledSize)," shares at $").concat(e.price)})]})]},n)}),hr=e=>{let{filledOrders:t,isAuthenticated:n,omitHeader:r,containerStyles:i}=e;return n&&(null==t?void 0:t.length)?(0,T.jsxs)(hi,{css:{...i},children:[!r&&(0,T.jsx)(p8,{children:"History"}),hn(t.slice(0,3),!0),(0,T.jsxs)(p5.Y0,{children:[t.length>3?(0,T.jsx)(hl,{children:"Show more"}):null,(0,T.jsxs)(p5.SO,{children:[(0,T.jsxs)(hs,{children:[(0,T.jsx)("div",{}),(0,T.jsx)(ha,{children:"History"}),(0,T.jsx)(ho,{children:(0,T.jsx)(p4,{color:"black"})})]}),(0,T.jsx)(hc,{children:hn(t,!1)})]})]})]}):null},hi=(0,t_.zo)("div",{}),ho=(0,t_.zo)(p1.x8,{backgroundColor:"transparent",border:"none","&:hover":{cursor:"pointer"}}),hl=(0,t_.zo)(p1.xz,{color:"$polyBlue",background:"transparent",border:"none",padding:0,fontSize:"$sm",fontFamily:"$sauce700",mt:"$4","&:hover":{opacity:.8,cursor:"pointer"}}),hs=(0,t_.zo)("div",{display:"flex",justifyContent:"space-between",mb:"$5"}),ha=(0,t_.zo)(p1.Dx,{fontFamily:"$sauce700",color:"$black",justifySelf:"center",margin:0}),hc=(0,t_.zo)("div",{height:"420px",overflowY:"scroll"}),hd=(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),hu=(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-end"}),hp=(0,t_.zo)("div",{background:"#F2F2F2",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",p:"0 14px",mr:"8px"}),hh=(0,t_.zo)(t1.t,{}),hm=e=>{let{copy:t,withTermsLink:n,shouldLeftAlign:r}=e;return(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsxs)(ek.z,{css:{display:"flex",alignItems:"center",gap:"0.15rem",padding:"6px 8px",borderRadius:"5px",fontSize:"$sm",color:"$polyRed400",backgroundColor:"$polyRed50",cursor:"not-allowed","&:hover":{backgroundColor:"$polyRed50"}},children:[(0,T.jsx)(hh,{size:"12px"})," \xa0Unavailable"]})}),(0,T.jsx)(tz._v,{side:"top",align:"center",sideOffset:12,css:{borderRadius:"8px",padding:"1rem",mb:"4px",fontSize:"$sm",lineHeight:"$md","@notDesktop":{width:"calc(100vw - 2rem)"},"@laptops":{width:"calc(338px - 3rem)"}},children:n?(0,T.jsxs)(ew.xv,{css:{textAlign:r?"left":"center",color:"white"},children:[t," See our"," ",(0,T.jsx)(R(),{href:"/tos",passHref:!0,legacyBehavior:!0,children:(0,T.jsx)(ew.ee,{target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})}),"."]}):(0,T.jsx)(ew.xv,{css:{textAlign:r?"left":"center",color:"white"},children:t})})]})})},hx=e=>{let{openOrders:t,omitHeader:n,containerStyles:r}=e,{cancelOrder:i}=nN(),{hasFetchedLocation:o,isRestrictedLocation:l}=(0,t4.q0)(),[s,a]=(0,I.useState)(null),[c,d]=(0,I.useState)({}),u=async e=>{try{var t;a(e);let n=await i(e);(null==n?void 0:null===(t=n.canceled)||void 0===t?void 0:t.includes(e))&&d(t=>({...t,[e]:!0}))}finally{a(null)}},p=o&&l;return t&&t.length?(0,T.jsxs)(eh.xu,{css:{...r},children:[!n&&(0,T.jsx)(p8,{children:"Open Orders"}),t.filter(e=>!0!==c[e.orderID]).map((e,t)=>{let n=s===e.orderID;return(0,T.jsxs)(eh.xu,{css:{display:"flex",justifyContent:"space-between",py:"$4",borderBottom:"1px solid $gray6",borderTop:0===t?"1px solid $gray6":"none",backgroundColor:n?"$gray6":"unset",cursor:n?"not-allowed":"cursor"},children:[(0,T.jsxs)(hg,{children:[(0,T.jsx)(p7,{children:(0,T.jsx)(p9,{css:{textTransform:"capitalize"},children:"Limit ".concat(e.side," ").concat(e.outcome||"")})}),(0,T.jsx)(he,{children:(0,sw.Z)(new Date(Number(e.timestamp)),"LLL dd")})]}),(0,T.jsxs)(hf,{children:[(0,T.jsx)(p7,{children:(0,T.jsx)(p9,{children:"Original: ".concat(tT()(e.size).format("0,0.00")," | Current: ").concat(tT()(e.available_size).format("0,0.00")," @ ").concat(tT()(e.price).multiply(100).format("0"),"\xa2")})}),p?(0,T.jsx)(hm,{copy:t8.o5}):(0,T.jsx)(ht,{disabled:n,onClick:()=>u(e.orderID),children:"Cancel"})]})]},"open-order-".concat(e.orderID,"-").concat(t))})]}):null},hg=(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),hf=(0,t_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-end"});var hv=n(76132);(m=Z||(Z={})).Book="Order Book",m.Chart="Graph",m.Positions="Positions",m.OpenOrders="Open Orders",m.History="History",m.LiquidityPositions="Liquidity";let hy=(0,I.createContext)({}),hb=e=>{let{market:t,children:n}=e,{authenticated:r}=(0,eZ.ec)(),i=(0,I.useMemo)(()=>r&&t.clobTokenIds?t.clobTokenIds:[],[r,t.clobTokenIds]),{filledOrders:o}=nG(),{userOpenOrders:l}=(0,nY.Z)(i),s=(0,I.useMemo)(()=>l.length,[l]),a=(0,I.useMemo)(()=>o.length,[o]),{orderType:c}=tM(),{shareBalances:d}=nN(),{hasAmmPositions:u,hasAmmLiquidityPosition:p}=sh(t),[h,m]=(0,I.useState)(t.enableOrderBook&&!t.closed?[Z.Book,Z.Chart]:[Z.Chart]),[x,g]=(0,I.useState)(0),f=(0,I.useMemo)(()=>x<=h.length?h[x]:h[0],[x,h]);(0,I.useEffect)(()=>{let e=t.enableOrderBook&&!t.closed?[Z.Book,Z.Chart]:[Z.Chart];r&&(s&&e.push(Z.OpenOrders),(u||t.enableOrderBook&&d.some(e=>e.gt(0)))&&e.push(Z.Positions),t.enableOrderBook&&(c===tr.mr.Limit||c===tr.mr.Market)&&a&&e.push(Z.History),p&&e.push(Z.LiquidityPositions)),(0,tx.isEqual)(h,e)||m(e)},[s,a,t.enableOrderBook,r,d,c,u,p]),(0,I.useEffect)(()=>{h.includes(f)||g(0)},[h,f]);let v=(0,I.useMemo)(()=>({market:t,tabs:h,selected:f,selectedIndex:x,setSelectedIndex:g,filledOrders:o,openOrders:l}),[t,h,f,x,g,o,l]);return(0,T.jsx)(hy.Provider,{value:v,children:n})},hj=()=>(0,I.useContext)(hy),hk=(0,t_.zo)(eh.Dr,{ml:"4px",borderRadius:"4px",fontFamily:"$sauce600",fontSize:"12px",py:"6px",px:"8px",variants:{isOutcomeZero:{true:{color:"$green2",backgroundColor:"rgba(39, 174, 96, 0.1)"},false:{color:"$red",backgroundColor:"rgba(235, 87, 87, 0.1)"}}}}),hw=e=>{let{portfolioPositions:t}=e;return t&&0!==t.length?t.map((e,t)=>{let n="".concat(e.outcome.slice(0,3)," ").concat((0,tf.Qh)(e.qty)," • ").concat((0,tf.G_)(e.priceAvg),"\xa2"),r=0===e.outcomeIndex||"0"===e.outcomeIndex.toString();return(0,T.jsx)(hk,{isOutcomeZero:r,css:{ml:1===t?"4px":0},children:n},n)}):null};var hC=n(24799);let hS=e7.O$.from(1e4),hM=(0,t_.zo)(sm.AW,{"@phones":{width:"300px",zIndex:1002},'&[data-state="open"]':{'&[data-side="top"]':{animationName:a4},'&[data-side="bottom"]':{animationName:a8}},'&[data-state="closed"]':{'&[data-side="top"]':{animationName:a7},'&[data-side="bottom"]':{animationName:a6}}}),h_=()=>{let{activeMarket:e}=e3(),{setShowConnectModal:t}=(0,t6.vR)(),{authenticated:n}=(0,eZ.ec)(),{setInjectedContentType:r,setDrawerContent:i,setIsOpen:o}=(0,oJ.W7)(),[l,s]=(0,I.useState)(!1),[a,c]=(0,I.useState)(!1),[d,u]=(0,I.useState)(void 0),p=(0,I.useCallback)(e=>{if(!n){t(!0);return}switch(e){case oJ.Qt.AddLiquidity:r(oJ.Qt.AddLiquidity),i(oJ.sc.Injected),o(!0);break;case oJ.Qt.RemoveLiquidity:r(oJ.Qt.RemoveLiquidity),i(oJ.sc.Injected),o(!0);break;case oJ.Qt.Merge:r(oJ.Qt.Merge),i(oJ.sc.Injected),o(!0);break;case oJ.Qt.Split:r(oJ.Qt.Split),i(oJ.sc.Injected),o(!0)}},[i,r,o,n,t]),h=(0,I.useMemo)(()=>[...e.closed?[]:[{label:"Add liquidity",value:S.ADD_LIQUIDITY,onClick(){p(oJ.Qt.AddLiquidity)},disabled:!1}],{label:"Remove liquidity",value:S.REMOVE_LIQUIDITY,onClick:()=>p(oJ.Qt.RemoveLiquidity),disabled:!1}],[e.closed,p]),m=(0,I.useCallback)(e=>{n?(u(e),c(!0)):t(!0)},[n,t,u,c]),x=(0,I.useMemo)(()=>[...e.closed?[]:[{label:"Add liquidity",value:S.ADD_LIQUIDITY,onClick(){m(S.ADD_LIQUIDITY)},disabled:!1}],{label:"Remove liquidity",value:S.REMOVE_LIQUIDITY,onClick:()=>m(S.REMOVE_LIQUIDITY),disabled:!1}],[e.closed,m]);return(0,T.jsxs)(eh.kC,{css:{width:"100%",justifyContent:"end"},children:[(0,T.jsxs)(sm.h_,{open:l,onOpenChange:s,css:{width:"100%"},modal:!1,children:[(0,T.jsx)(sm.$F,{asChild:!0,children:(0,T.jsx)(eh.kC,{css:{justifyContent:"center",alignItems:"center",height:32,width:32,borderRadius:32,outline:"none",border:"none !important","&:hover":{background:"$gray6"},'&[data-state="open"]':{background:"$gray6"}},children:(0,T.jsx)(cR.Q,{size:24})})}),(0,T.jsxs)(hM,{alignOffset:5,variant:"otherTradingWidgets",css:{width:"240px",mr:"10rem","@tablets":{mr:"1rem"},"@phones":{mr:"0.5rem"}},children:[h.map((e,t)=>(0,T.jsx)(sm.Xi,{css:{"&[data-disabled]":{"&:hover":{cursor:"not-allowed !important"},"& p":{color:"$shadeMain !important"}},"@notMobile":{display:"none"}},onSelect:()=>e.onClick(),disabled:e.disabled,children:(0,T.jsx)(ew.xv,{size:"lg",weight:"medium",children:e.label},t)},t)),x.map((e,t)=>(0,T.jsx)(sm.Xi,{css:{"&[data-disabled]":{"&:hover":{cursor:"not-allowed !important"},"& p":{color:"$shadeMain !important"}},"@phones":{display:"none"}},onSelect:()=>e.onClick(),disabled:e.disabled,children:(0,T.jsx)(ew.xv,{size:"lg",weight:"medium",children:e.label},t)},t))]})]}),a&&(0,T.jsxs)(sc.Vq,{defaultOpen:!0,open:a,onOpenChange:c,children:[d===S.ADD_LIQUIDITY&&(0,T.jsx)(ax,{onComplete:()=>c(!1)}),d===S.REMOVE_LIQUIDITY&&(0,T.jsx)(aN,{onComplete:()=>c(!1)}),d===S.MERGE_SHARES&&(0,T.jsx)(aZ,{onComplete:()=>c(!1)}),d===S.SPLIT_SHARES&&(0,T.jsx)(a3,{onComplete:()=>c(!1)})]})]})},hZ={py:"10px",m:0,fontFamily:"$sauce400 !important",fontSize:"$md",lineHeight:"$md"},hz=(0,t_.zo)("table",{borderSpacing:0,width:"100%"}),hL=(0,t_.zo)(eh.kC,{}),hT=(0,t_.zo)(eh.kC,{...hZ}),hD=(0,t_.zo)("thead",{borderBottom:"1px solid $gray6",py:"10px",mb:"0.5rem"}),hP=(0,t_.zo)("tbody",{}),hE=(0,t_.zo)("tr",{display:"flex",width:"fit-content"}),hI=(0,t_.zo)("td",{...hZ}),hA=(0,t_.zo)(eh.kC,{placeItems:"center",p:"0.25rem",borderRadius:"4px",width:"fit-content",variants:{color:{green:{color:"$green2",backgroundColor:"$green2_10"},red:{color:"$red",backgroundColor:"$red_10"}}}}),hB=(0,t_.zo)(eh.Dr,{variants:{color:{green:{color:"$green2"},red:{color:"$red"}}}});(x=z||(z={})).Shares="shares",x.Value="value",x.PoolShare="poolShare",x.EarnedFees="earnedFees",x.Spacer="spacer";let h$=[{id:z.Shares,accessorKey:z.Shares,cell:e=>e.getValue(),header:"shares",size:120},{id:z.Value,accessorKey:z.Value,cell:e=>e.getValue(),header:"value",size:120},{id:z.PoolShare,accessorKey:z.PoolShare,cell:e=>e.getValue(),header:"pool share",size:130},{id:z.EarnedFees,accessorKey:z.EarnedFees,cell:e=>e.getValue(),header:"earned fees",size:200},{id:z.Spacer,accessorKey:z.Spacer,cell:()=>null,header:()=>"",size:100}],hO=e=>{let{market:t,containerVariant:n,containerStyles:r,headerStyles:i,bodyStyles:o,tableHeaderItemStyles:l,tableBodyItemStyles:s}=e,{ammLiquidityPosition:a,ammLiquidityPositionFromChain:c,hasAmmLiquidityPosition:d}=sh(t),u=(0,I.useMemo)(()=>{var e;return(null===(e=t.events)||void 0===e?void 0:e.length)?t.slug===t.events[0].slug:void 0},[t]),p=(0,I.useMemo)(()=>a?[a].map(e=>({shares:tT()(e.liquidityShares).format("0,0.00"),value:tT()(e.sharesValue).format("$0,0.00"),poolShare:"".concat((0,tf.Qh)(e.poolPercentage),"%"),earnedFees:tT()(e.fees).format("$0,0.00")})):[],[a]),h=(0,I.useMemo)(()=>c&&c.gte(hS)?[c].map(e=>({shares:tT()((0,tf.Du)(e)).format("0,0.00"),value:"-",poolShare:"-",earnedFees:"-"})):[],[c]),m=(0,hC.useReactTable)({data:null!=p?p:h,columns:h$,getCoreRowModel:(0,hC.getCoreRowModel)()});return d?(0,T.jsxs)(eh.W2,{variant:n,css:{borderRadius:"8px",display:"block",...r,"@phones":{border:"none",py:"1rem",px:0}},children:[(0,T.jsx)(eh.MM,{css:{px:"1.5rem",pt:"0.5rem",pb:"0.25rem",...i,"@phones":{px:0}},children:(0,T.jsxs)(eh.kC,{css:{justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsxs)(ew.h4,{variant:"primary",css:{width:"100%",flexDirection:"row",justifyContent:"space-between"},children:["Liquidity"," "]}),(0,T.jsx)(h_,{})]})}),(0,T.jsxs)(eh.Bb,{css:{px:"1.5rem",pb:"0.5rem",overflowX:"hidden",...o,"@phones":{px:0,overflowX:"scroll"}},children:[(0,T.jsx)(hL,{css:{justifyContent:"space-between",display:"none","@phones":{display:"flex"}},children:(0,T.jsx)(eh.kC,{css:{display:"grid",width:"100%",py:"0.5rem",flexDirection:"column",gridTemplateColumns:"50% 50%",gridRowGap:"1rem"},children:m.getRowModel().rows.map(e=>e.getVisibleCells().map(e=>(0,T.jsxs)(eh.kC,{css:{flexDirection:"column"},children:[(0,T.jsx)(ew.h4,{variant:"secondary",children:e.column.columnDef.header}),(0,T.jsx)(hT,{children:(0,hC.flexRender)(e.column.columnDef.cell,e.getContext())})]},e.column.id)))})}),(0,T.jsxs)(hz,{css:{width:m.getCenterTotalSize(),"@phones":{display:"none"}},children:[(0,T.jsx)(hD,{children:m.getHeaderGroups().map(e=>(0,T.jsx)(hE,{children:e.headers.map(e=>(0,T.jsx)(ew.h4,{variant:"secondary",as:"th",colSpan:e.colSpan,css:{width:e.getSize(),textAlign:"left",py:"10px",borderBottom:"1px solid $gray6",marginBottom:"0.5rem",position:"relative",...l,"@phones":{pl:0}},children:e.isPlaceholder?null:(0,hC.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,T.jsx)(hP,{children:m.getRowModel().rows.map(e=>(0,T.jsx)(hE,{children:e.getVisibleCells().map((t,n)=>(0,T.jsx)(hI,{css:{width:n===e.getVisibleCells().length-1?"auto":t.column.getSize(),...s,"@phones":{pl:0}},children:n===e.getVisibleCells().length-1?(0,T.jsx)(eh.kC,{css:{mt:"-0.25rem",display:"none","@laptops":{display:u?"none":"flex"}},children:(0,T.jsx)(h_,{})}):(0,hC.flexRender)(t.column.columnDef.cell,t.getContext())},t.id))},e.id))})]})]})]}):null};(g=L||(L={})).Outcome="outcome",g.Quantity="qty",g.AvgPrice="avgPrice",g.Value="value",g.TotalReturn="totalReturn";let hR=[{id:L.Outcome,accessorKey:L.Outcome,cell:e=>e.getValue(),header:()=>"outcome",size:130},{id:L.Quantity,accessorKey:L.Quantity,cell:e=>e.getValue(),header:()=>"shares",size:130},{id:L.AvgPrice,accessorKey:L.AvgPrice,cell:e=>e.getValue(),header:()=>"avg",size:130},{id:L.Value,accessorKey:L.Value,cell:e=>"".concat(e.getValue()),header:()=>"value",size:130},{id:L.TotalReturn,accessorKey:L.TotalReturn,cell:e=>"".concat(e.getValue()),header:()=>"total return",size:262}],hN=e=>{let{market:t,containerVariant:n,containerStyles:r,headerStyles:i,bodyStyles:o,tableHeaderItemStyles:l,tableBodyItemStyles:s}=e,{shareBalances:a,ammMarketPositionsFromChain:c}=sh(t),{marketPositions:d}=(0,rd.Z)(),{orderType:u}=tM(),{zeroLastPrice:p,oneLastPrice:h}=ck(),m=(0,I.useMemo)(()=>{var e;let n=(0,su.Gb)(t,null!=d?d:[],u===tr.mr.AMM,[parseFloat(null!=p?p:"0"),parseFloat(null!=h?h:"0")]);return null!==(e=n.map(e=>({outcome:e.outcome,qty:tT()(e.qty).format("0,0"),avgPrice:"".concat(tT()(e.priceAvg).multiply(100).format("0"),"\xa2"),value:tT()(e.currentMarketValue).format("$0,0.00"),totalReturn:[tT()(e.profit).format("$0,0.00"),tT()(e.loss).divide(100).format("0.00%"),"".concat(0>parseFloat(e.loss)?"red":"green")]})))&&void 0!==e?e:[]},[t,d,u,p,h]),x=(0,I.useMemo)(()=>c.map(e=>({outcome:e.outcome,qty:tT()(e.qty).format("0,0"),avgPrice:"-",value:tT()(e.currentMarketValue).format("$0,0.00"),totalReturn:["-",void 0,void 0]})),[c]),g=(0,I.useMemo)(()=>{let e=m.length>=x.length?m:x;return 1===e.length&&e[0].outcome===t.outcomes[1]},[x,t.outcomes,m]),f=(0,hC.useReactTable)({data:m.length>=x.length?m:x,columns:hR,getCoreRowModel:(0,hC.getCoreRowModel)()}),v=e=>e[2]?(0,T.jsxs)(hB,{children:[e[0],(0,T.jsx)(hB,{color:e[2],children:" (".concat(e[1],")")})]}):(0,T.jsx)(hB,{children:"-"});return a&&(0!==m.length||0!==x.length)?(0,T.jsxs)(eh.W2,{variant:n,css:{borderRadius:"8px",display:"block",...r},children:[(0,T.jsx)(eh.MM,{css:{px:"1.5rem",pt:"1.25rem",pb:"0.25rem",...i},children:(0,T.jsx)(ew.h4,{variant:"primary",children:"Positions"})}),(0,T.jsx)(eh.Bb,{css:{px:"1.5rem",py:"0.125rem",overflowX:"auto",...o},children:(0,T.jsxs)(hz,{css:{width:f.getCenterTotalSize()},children:[(0,T.jsx)(hD,{children:f.getHeaderGroups().map(e=>(0,T.jsx)(hE,{children:e.headers.map(e=>(0,T.jsx)(ew.h4,{variant:"secondary",as:"th",colSpan:e.colSpan,css:{width:e.getSize(),textAlign:"left",py:"10px",borderBottom:"1px solid $gray6",marginBottom:"0.5rem",position:"relative",...l},children:e.isPlaceholder?null:(0,hC.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,T.jsx)(hP,{children:f.getRowModel().rows.map((e,t)=>(0,T.jsx)(hE,{children:e.getVisibleCells().map(e=>(0,T.jsx)(hI,{css:{width:e.column.getSize(),...s},children:e.getContext().column.id===L.Outcome?(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(hA,{color:0!==t||g?"red":"green",css:{fontFamily:"$sauce500 !important"},children:(0,hC.flexRender)(e.column.columnDef.cell,e.getContext())})}):e.getContext().column.id===L.TotalReturn?(0,T.jsx)(T.Fragment,{children:v(e.getValue())}):(0,T.jsx)(T.Fragment,{children:(0,hC.flexRender)(e.column.columnDef.cell,e.getContext())})},e.id))},e.id))})]})})]}):null},hF=(0,t_.zo)(dS.fC,{border:"none"}),hH=(0,t_.zo)(dS.ck,{borderTop:"1px solid $shadeMediumTransparent",overflow:"hidden"}),hW=(0,t_.zo)(dS.h4,{all:"unset",display:"flex",alignItems:"center",justifyContent:"space-between",flex:1,width:"100%",backgroundColor:"$shadeWhite",fontFamily:"$sauce500",fontSize:"$md",lineHeight:1,color:"$shadeOffBlack",cursor:"pointer",transition:"all 0.2s"}),hq=(0,t_.zo)(dS.VY,{overflowX:"hidden",overflowY:"scroll",fontSize:"$md",color:"$shadeOffBlack",backgroundColor:"$shadeWhite",overflow:"hidden",'&[data-state="open"]':{animation:"".concat(o9.qw," 300ms ease")},'&[data-state="closed"]':{animation:"".concat(o9.iM," 300ms ease")}}),hV=(0,t_.zo)(eh.kC,{mr:"$6",pb:"$3",color:"$gray3",fontFamily:"$sauce700",fontSize:"14px",textTransform:"capitalize","&:hover":{cursor:"pointer"},variants:{isSelected:{true:{borderBottom:"2px solid $gray1",color:"$gray1"}}}}),hG=(0,t_.zo)(ek.z,{display:"flex",placeContent:"center",columnGap:"0.25rem",width:"150px",py:"1rem",px:0,borderRadius:"5px",fontSize:"$md",transition:"all 0.2s",cursor:"pointer"}),hY=(0,t_.zo)(ct.M,{color:"$polyBlue",size:"20px"}),hU=(0,t_.zo)("p",{position:"relative",margin:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"$sauce600 !important",fontSize:"$lg",lineHeight:"$md",maxWidth:"400px","@media (min-width: 1018px) and (max-width: 1080px)":{maxWidth:"240px"},"@media (min-width: 1080px) and (max-width: 1140px)":{maxWidth:"280px"},"@media (min-width: 1140px) and (max-width: 1220px)":{maxWidth:"320px"}}),hQ=(0,t_.zo)(dS.xz,{}),hJ=(0,t_.zo)(eh.kC,{width:"100%",flexDirection:"column",transition:"0.2s all",py:"1rem",gap:"0.75rem"}),hX=e=>{let{isBook:t,isChart:n,activeMarketVolumeOpen:r,activeMarketLiquidityOpen:i,activeMarketXAxisShown:o,children:l}=e;return(0,T.jsx)(eh.gO,{css:{maxWidth:"800px",...t&&{maxWidth:"800px",maxHeight:"466px"},...n&&{...r&&i&&{minHeight:o?"521px":"495px",height:o?"521px":"495px",maxHeight:o?"521px":"495px"},...r&&!i&&{minHeight:o?"441px":"415px",height:o?"441px":"415px",maxHeight:o?"441px":"415px"},...!r&&i&&{minHeight:o?"441px":"415px",height:o?"441px":"415px",maxHeight:o?"441px":"415px"},...!r&&!i&&{minHeight:o?"361px":"335px",height:o?"361px":"335px",maxHeight:o?"361px":"335px"}}},children:l})},hK=e=>{let{market:t,ammChainPrices:n}=e,{isMobile:r}=(0,le.Z)(),{event:{image:i},activeMarket:o,accordionMarketSlug:l,setActiveMarket:s,setAccordionMarketSlug:a}=e3(),{setSelectedOutcome:c,selectedOutcome:d,selectedOutcomeIdx:u,orderType:p,setOrderType:h,setCursorActive:m,side:x}=tM(),{bestPrices:g}=(0,tA.C)(t,u),f=(0,I.useMemo)(()=>tT()(t.liquidity).format("$0,0"),[t.liquidity]),v=(0,I.useMemo)(()=>tT()(t.liquidityAmm).format("$0,0"),[t.liquidityAmm]),y=(0,I.useMemo)(()=>tT()(t.liquidityClob).format("$0,0"),[t.liquidityClob]),{marketPositions:b}=rp(t.marketMakerAddress),{zeroLastPrice:j,oneLastPrice:k}=ck(),w=(0,su.Gb)(t,null!=b?b:[],p===tr.mr.AMM,[parseFloat(null!=j?j:"0"),parseFloat(null!=k?k:"0")]),{payoutsString:C}=(0,co.i)(t),S=(0,I.useCallback)(e=>{t.enableOrderBook||h(tr.mr.AMM),s(t),l&&a(t.slug),c(e),r||m(!0)},[t,h,l,s,a,c,m,r]);return(0,T.jsxs)(hJ,{onClick(e){var n;"string"==typeof(null==t?void 0:null===(n=t.outcomes)||void 0===n?void 0:n[0])&&S(null==t?void 0:t.outcomes[0])},css:{"&:hover":{backgroundColor:l===t.slug?"white":"$gray6_50"}},children:[(0,T.jsxs)(eh.kC,{css:{width:"100%",flexDirection:"row",justifyContent:"space-between"},children:[(0,T.jsxs)(eh.kC,{css:{alignItems:"center",gap:"1rem"},children:[t.image!==i&&(0,T.jsx)(tp.Z,{image:t.image,coerceToDefaultImgTag:!0,css:{borderRadius:"$sm",overflow:"hidden"},skeletonCss:{borderRadius:"$sm"}}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",rowGap:"0.6rem"},children:[(0,T.jsx)(eh.kC,{children:(0,T.jsx)(hU,{children:t.groupItemTitle})}),(0,T.jsxs)(eh.kC,{css:{alignItems:"center",columnGap:"0.75rem"},children:[(0,T.jsxs)(ew.xv,{weight:"normal",color:"light",css:{fontSize:"12px",whiteSpace:"nowrap"},children:[tT()(t.volume).format("($0.0a)")," Vol."]}),(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsxs)(ew.xv,{weight:"normal",color:"light",css:{fontSize:"12px",whiteSpace:"nowrap"},children:[tT()(t.liquidity).format("($0.0a)")," ","Liq."]})}),(0,T.jsx)(hv.Z,{parsedLiquidityTotalTooltip:f,parsedLiquidityAmmTooltip:v,parsedLiquidityClobTooltip:y})]})})]})]})]}),t.closed?(0,T.jsx)(eh.kC,{css:{justifyContent:"flex-end",gap:"0.5rem"},children:(0,T.jsxs)(eh.kC,{css:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"calc(300px + 0.5rem)",columnGap:"0.5rem",borderRadius:"5px",transition:"all 0.2s",cursor:"pointer"},children:[(0,T.jsx)(hY,{}),(0,T.jsxs)(ew.xv,{size:"md",weight:"medium",css:{color:"$polyBlue"},children:["Result is ",C]})]})}):(0,T.jsx)(eh.kC,{css:{justifyContent:"flex-end",alignItems:"center",gap:"0.5rem"},children:g&&t.outcomes.map((e,r)=>{var i,l,s;let a=t.slug===o.slug&&e===d,c=t.enableOrderBook&&p!==tr.mr.AMM?null!==(s=null==g?void 0:null===(i=g[e])||void 0===i?void 0:i[null==x?void 0:x.toLowerCase()])&&void 0!==s?s:"0":null!==(l=null==n?void 0:n[r])&&void 0!==l?l:"0";return(0,T.jsxs)(hG,{as:"div",onMouseOver(e){e.stopPropagation()},onClick(t){t.preventDefault(),t.stopPropagation(),S(e)},css:{border:"none",...0===r&&{color:a?"white":"$green2",backgroundColor:a?"$green2":"$green2_10","&:hover":{cursor:"pointer",...a&&{opacity:.9},...!a&&{backgroundColor:"$green2_20"}},"&:active":{color:"white",backgroundColor:"$green2"}},...1===r&&{color:a?"white":"$red",backgroundColor:a?"$red":"$red_10","&:hover":{cursor:"pointer",...a&&{opacity:.9},...!a&&{backgroundColor:"$red_20"}},"&:active":{color:"white",backgroundColor:"$red"}}},children:[(0,tx.capitalize)(x)," ",(0,tx.capitalize)(e.length>3?"".concat(e.substring(0,3),"."):e),"  ",(0,tf.G_)(c),"\xa2"]},"".concat(e,"-").concat(r))})})]}),w?(0,T.jsx)(eh.kC,{css:{alignItems:"center"},children:(0,T.jsx)(hw,{portfolioPositions:w})}):null]})},h0=()=>{let{activeMarketVolumeOpen:e,activeMarketLiquidityOpen:t,activeMarketXAxisShown:n}=e3(),{market:r,tabs:i,selected:o,selectedIndex:l,setSelectedIndex:s}=hj(),{orderType:a}=tM(),{filledOrders:c}=nG(),{userOpenOrders:d}=(0,nY.Z)(r.clobTokenIds),{authenticated:u}=(0,eZ.ec)();return(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",width:"100%"},children:[(0,T.jsx)(eh.kC,{css:{width:"100%"},children:i.map((e,t)=>(0,T.jsx)(hV,{onClick:()=>s(t),isSelected:t===l,children:e},e))}),(0,T.jsx)(eh.kC,{css:{width:"100%"},children:(0,T.jsxs)(eh.gO,{css:{width:"100%",borderTop:"1px solid #F2F2F2"},children:[o===Z.Book&&!r.closed&&(0,T.jsx)(eh.kC,{css:{overflowY:"scroll",overflowX:"hidden"},children:(0,T.jsx)(hX,{isBook:!0,children:(0,T.jsx)(eh.kC,{children:(0,T.jsx)(pE,{})})})}),o===Z.Chart&&(0,T.jsxs)(eh.xu,{css:{pb:"1.5rem"},children:[(a===tr.mr.Limit||a===tr.mr.Market)&&137===tn.B8.chainId&&(0,T.jsxs)(hX,{isChart:!0,activeMarketVolumeOpen:e,activeMarketLiquidityOpen:t,activeMarketXAxisShown:n,children:[r.enableOrderBook&&!r.closed&&137===tn.B8.chainId&&(0,T.jsx)(pK,{market:r,hideViewEvent:!0}),(!r.enableOrderBook||r.closed)&&(0,T.jsx)(u9,{market:r,noPadding:!0,hideViewEvent:!0})]}),a===tr.mr.AMM&&(0,T.jsx)(hX,{isChart:!0,activeMarketVolumeOpen:e,activeMarketLiquidityOpen:t,activeMarketXAxisShown:n,children:(0,T.jsx)(u9,{market:r,noPadding:!0,hideViewEvent:!0})})]}),o===Z.OpenOrders&&(0,T.jsx)(hx,{openOrders:d,omitHeader:!0,containerStyles:{overflowX:"hidden",overflowY:"hidden"}}),o===Z.Positions&&(0,T.jsx)(hN,{market:r,headerStyles:{display:"none"},bodyStyles:{px:"0",overflowX:"hidden",overflowY:"hidden"}}),o===Z.LiquidityPositions&&(0,T.jsx)(hO,{market:r,headerStyles:{display:"none"},bodyStyles:{px:"0",overflowX:"hidden",overflowY:"hidden"}}),o===Z.History&&(0,T.jsx)(T.Fragment,{children:r.enableOrderBook&&(0,T.jsx)(hr,{filledOrders:c,isAuthenticated:u,omitHeader:!0,containerStyles:{overflowX:"hidden",overflowY:"hidden",pb:c.length>=3?"1rem":"0"}})})]})})]})},h1=e=>{let{ammChainPrices:t}=e,{market:n}=hj();return(0,T.jsxs)(hH,{value:n.slug,children:[(0,T.jsx)(hW,{asChild:!0,children:(0,T.jsx)(hQ,{children:(0,T.jsx)(hK,{market:n,ammChainPrices:t})})}),(0,T.jsx)(hq,{css:{minHeight:"fit-content",height:"fit-content",maxHeight:"fit-content"},children:(0,T.jsx)(h0,{})})]})},h2=I.memo((0,t_.zo)(h1));var h5=n(15926);let h3=(0,t_.zo)(h5.fC,{width:"100%"}),h4=h5.xz,h6=h5.VY,h8=(0,t_.zo)(ek.z,{display:"inline-flex",alignItems:"center",justifyContent:"center",mb:"0.5rem",background:"none !important",fontFamily:"$sauce500",fontSize:"$md",padding:0,transition:"0.2s all",cursor:"pointer",'&[data-state="closed"]':{},'&[data-state="open"]':{svg:{transform:"rotate(-180deg)"}},"&:hover":{opacity:.75}}),h7=e=>{let{markets:t}=e,[n,r]=(0,I.useState)(!1),[i,o]=(0,I.useState)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(h3,{open:n,onOpenChange:r,css:{mb:"1rem"},children:[(0,T.jsx)(h4,{asChild:!0,children:(0,T.jsxs)(h8,{children:[(0,T.jsxs)(ew.xv,{weight:"medium",children:[n?"Hide":"View"," resolved markets"]}),(0,T.jsx)(oQ.F,{})]})}),(0,T.jsx)(h6,{children:(0,T.jsx)(hF,{type:"single",collapsible:!0,value:null!=i?i:"",onValueChange(e){""===e?o(void 0):o(e)},children:t.map(e=>(0,T.jsx)(hb,{market:e,children:(0,T.jsx)(h2,{})},e.slug))})})]})})};var h9=n(42034);let me=(0,t_.zo)(sx.c,{width:"20px",height:"20px",transform:"scale(1.3) translateY(1px)"}),mt=(0,t_.zo)(tz.aJ,{border:"none",borderRadius:"4px",cursor:"pointer",backgroundColor:"white",padding:"0.25rem",transition:"all 0.2s","* >":{userSelect:"none"},"&:hover":{backgroundColor:"$gray6"},"&:active":{backgroundColor:"$gray6"}}),mn=(0,t_.zo)(tz._v,{transformOrigin:"var(--radix-tooltip-content-transform-origin)","@media (prefers-reduced-motion: no-preference)":{animationDuration:"100ms"}}),mr=()=>{let{setIsOpen:e}=(0,oJ.W7)();return(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(mt,{onClick:()=>e(!1),children:(0,T.jsx)(me,{})}),(0,T.jsx)(tz.NM,{children:(0,T.jsxs)(mn,{side:"top",align:"center",sideOffset:4,children:["Close",(0,T.jsx)(tz.Ce,{})]})})]})})};var mi=n(26152),mo=n(22053),ml=n(74855),ms=n.n(ml),ma=n(48764).Buffer;let mc=e=>{var t;let n=e.split(","),r=null===(t=n[0].match(/:(.*?);/))||void 0===t?void 0:t[1],i=ma.from(n[1],"base64").toString("ascii"),o=i.length,l=new Uint8Array(o);for(;o--;)l[o]=i.charCodeAt(o);return new File([l],"image.jpg",{type:r})},md=async e=>{try{if(void 0===navigator.share||!e.title)return;navigator.canShare(e)&&navigator.canShare(e)&&await navigator.share(e)}catch(t){if("AbortError"===t.name)return;console.error("error: ",t)}},mu=e=>{let t=(0,I.useMemo)(()=>({...e,...e.images&&{files:e.images.map(e=>mc(e))}}),[e]),n=(0,I.useCallback)(async()=>md(t),[t]);return{share:n}},mp=(0,t_.zo)(mo.M,{width:"20px",height:"20px"}),mh=(0,t_.zo)(tz.aJ,{border:"none",borderRadius:"4px",cursor:"pointer",backgroundColor:"white",padding:"0.25rem",transition:"all 0.2s","* >":{userSelect:"none"},"&:hover":{backgroundColor:"$gray6"},"&:active":{backgroundColor:"$gray6"}}),mm=(0,t_.zo)(tz._v,{transformOrigin:"var(--radix-tooltip-content-transform-origin)","@media (prefers-reduced-motion: no-preference)":{animationDuration:"100ms"}}),mx=e=>{let{params:t}=e,[n,r]=(0,I.useState)(!1),[i,o]=(0,I.useState)(!1),[l,s]=(0,I.useState)(!1),[a,c]=(0,I.useState)(""),d=(0,I.useMemo)(()=>t||{title:a,url:a},[t,a]),{isMobile:u}=(0,le.Z)(),{share:p}=mu(d);return(0,I.useEffect)(()=>{let e=setTimeout(()=>null,3e3);return l&&(e=setTimeout(()=>{s(!1)},1e4)),()=>clearTimeout(e)},[l]),(0,I.useEffect)(()=>{let e=setTimeout(()=>null,3e3);return i&&(e=setTimeout(()=>{s(!1),o(!1)},1e3)),()=>clearTimeout(e)},[i]),(0,I.useEffect)(()=>{var e;if(null==t?void 0:t.url){c(t.url);return}(null==window?void 0:null===(e=window.location)||void 0===e?void 0:e.href)&&c(window.location.href)},[c,t]),(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{onOpenChange(e){u||(r(e),e||o(!0))},open:n,children:[(0,T.jsxs)(mh,{onClick:u?()=>p():void 0,children:[(0,T.jsx)(eh.Dr,{css:{"@notDesktop":{display:"none"}},children:(0,T.jsx)(ms(),{text:a,onCopy:()=>s(!0),children:(0,T.jsx)(mp,{fontSize:22})})}),(0,T.jsx)(eh.Dr,{css:{"@laptops":{display:"none"}},children:(0,T.jsx)(mp,{fontSize:22})})]}),(0,T.jsx)(tz.NM,{children:(0,T.jsxs)(mm,{side:"top",align:"center",sideOffset:4,onPointerDownOutside:e=>e.preventDefault(),children:[l?"Copied!":"Share",(0,T.jsx)(tz.Ce,{})]})})]})})},mg=e=>{var t,n,r,i;let{coerceToMarket:o,isMobile:l,...s}=e,[a,c]=(0,I.useState)(""),{activeMarket:d,event:u}=e3(),p=(0,I.useMemo)(()=>tT()(o?d.volumeNum:u.volume).format("($0.0a)"),[o,u.volume,d.volumeNum]),h=(0,I.useMemo)(()=>tT()(o?d.liquidityNum:u.liquidity).format("($0.0a)"),[o,u.liquidity,d.liquidityNum]),m=(0,I.useMemo)(()=>tT()(o?d.liquidityNum:u.liquidity).format("$0,0"),[o,u.liquidity,d.liquidityNum]),x=(0,I.useMemo)(()=>tT()(o?d.liquidityAmm:u.liquidityAmm).format("$0,0"),[o,u.liquidityAmm,d.liquidityAmm]),g=(0,I.useMemo)(()=>tT()(o?d.liquidityClob:u.liquidityClob).format("$0,0"),[o,u.liquidityClob,d.liquidityClob]),f=(0,I.useMemo)(()=>o&&d.endDateIso?(0,sw.Z)((0,h9.Z)(d.endDateIso,"yyyy-MM-dd",new Date),"PP"):!o&&u.endDate?(0,sw.Z)((0,h9.Z)(u.endDate,"yyyy-MM-dd",new Date),"PP"):void 0,[o,u.endDate,d.endDateIso]),v=(0,I.useMemo)(()=>({title:d.question,url:a}),[a,d.question]);return(0,I.useEffect)(()=>{var e;(null==window?void 0:null===(e=window.location)||void 0===e?void 0:e.origin)&&c("".concat(window.location.origin,"/event/").concat(u.slug,"/").concat(d.slug))},[c,d.slug,u.slug]),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",marginBottom:"$4",rowGap:"$4"},...s,children:[(0,T.jsxs)(eh.kC,{css:{columnGap:"1rem",width:"100%"},children:[(0,T.jsx)(tp.Z,{image:o?d.image:u.image,size:l?48:90,coerceToDefaultImgTag:!0,css:{borderRadius:"$sm",overflow:"hidden"},containerCss:{borderRadius:"$sm",overflow:"hidden"},skeletonCss:{borderRadius:"$sm"}}),(0,T.jsxs)(eh.kC,{css:{rowGap:"0.75rem",flexDirection:"column","@laptops":{flexGrow:1},"@notDesktop":{width:"calc(100vw - 3rem)"}},children:[(0,T.jsxs)(eh.kC,{css:{width:"100%",justifyContent:"space-between"},children:[(0,T.jsxs)(eh.kC,{css:{alignItems:"center",":not(:last-child)":{marginRight:"$4"}},children:[(0,T.jsx)(R(),{href:"/markets/category/".concat(null===(t=u.categories)||void 0===t?void 0:t[0].slug),passHref:!0,legacyBehavior:!0,children:(0,T.jsx)(eh.gO,{css:{padding:"5px 8px",borderRadius:"4px",backgroundColor:"#F2F2F2",color:"#333",fontSize:"12px",fontFamily:"$sauce600",cursor:"pointer",whiteSpace:"nowrap"},children:null===(n=u.categories)||void 0===n?void 0:n[0].label})}),(0,T.jsxs)(ew.xv,{size:"md",weight:"normal",css:{color:"$gray3",whiteSpace:"nowrap","@phones":{display:"none"}},children:[p," Vol."]}),(0,T.jsx)(tz.zt,{children:(0,T.jsxs)(tz.u,{children:[(0,T.jsx)(tz.aJ,{asChild:!0,children:(0,T.jsxs)(ew.xv,{size:"md",weight:"normal",css:{color:"$gray3",whiteSpace:"nowrap","@phones":{display:"none"}},children:[h," Liq."]})}),(0,T.jsx)(hv.Z,{parsedLiquidityTotalTooltip:m,parsedLiquidityAmmTooltip:x,parsedLiquidityClobTooltip:g})]})}),f&&(0,T.jsxs)(ew.xv,{size:"md",weight:"normal",css:{color:"$gray3",whiteSpace:"nowrap","@phones":{display:"none"}},children:["Expires ",f]})]}),(0,T.jsxs)(eh.kC,{css:{gap:"0.25rem"},children:[(0,T.jsx)(mi.Z,{eventSlug:u.slug}),(0,T.jsx)(mx,{params:v}),o&&(0,T.jsx)(mr,{})]})]}),(0,T.jsx)(eh.kC,{css:{width:"100%","@notDesktop":{display:"none"}},children:(0,T.jsx)(ew.xv,{weight:"bold",css:{lineHeight:"32px",mb:"$2",fontSize:"$xxxl"},children:o?null!==(r=d.groupItemTitle)&&void 0!==r?r:d.question:u.title})})]})]}),(0,T.jsx)(eh.kC,{css:{width:"100%","@laptops":{display:"none"}},children:(0,T.jsx)(ew.xv,{weight:"bold",css:{lineHeight:"32px",mb:"$2",fontSize:"$xxl"},children:o?null!==(i=d.groupItemTitle)&&void 0!==i?i:d.question:u.title})})]})};var mf=(0,t_.zo)(mg),mv=n(75838),my=n(70722),mb=n(76743);let mj=e=>pF().get("/api/series?slug=".concat(e)).then(e=>{let{data:t}=e;return t}),mk=e=>{let{data:t,isLoading:n,refetch:r,...i}=(0,A.useQuery)(["/api/series",e],()=>mj(e),{refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnReconnect:!1,cacheTime:3e5,keepPreviousData:!0,staleTime:1/0,retry:!1,onError(t){(0,t7.S3)(t,"useSeries (".concat(e,")"))}});return{series:t,refreshSeries:r,isLoading:n,...i}},mw={"&:hover":{boxShadow:"$dropShadowSmDark"}},mC=(0,t_.zo)(eh.kC,{justifyContent:"center",alignItems:"center",p:"5.5px 14px",borderRadius:"500px",border:"1px solid transparent",cursor:"pointer",...mw}),mS={"&[data-disabled]":{"&:hover":{cursor:"not-allowed !important"},"& p":{color:"$shadeMain !important"}}},mM=e=>{let{currentEvent:t,series:n}=e,[r,i]=(0,I.useState)(!1),[o,l]=(0,I.useState)(!1),{series:s,isLoading:a}=mk(n.slug),c=(0,I.useMemo)(()=>{var e,t;return s||(null==s?void 0:s.events)||(null==s?void 0:null===(e=s.events)||void 0===e?void 0:e.length)?s&&s.events&&(null===(t=s.events)||void 0===t?void 0:t.length)>0&&s.events.sort((e,t)=>new Date(e.endDate).getTime()-new Date(t.endDate).getTime()):null},[s]),d=(0,I.useMemo)(()=>c&&c.length?c.filter(e=>!e.closed):null,[c]),u=(0,I.useMemo)(()=>c&&c.length?c.filter(e=>e.closed):null,[c]),p=(0,I.useMemo)(()=>{if(d&&d.length)return d.slice(0,3)},[d]),h=(0,I.useMemo)(()=>d&&d.length>3?d.slice(3,d.length):null,[d]),m=(0,I.useCallback)(e=>e?(0,my.format)((0,my.utcToZonedTime)(new Date(e),"UTC"),"MMM d"):null,[]),x=(0,I.useCallback)(e=>e?(0,my.format)((0,my.utcToZonedTime)(new Date(e),"UTC"),"MMM d, yyyy"):null,[]);return c&&s&&!a?(0,T.jsx)(mb.Z,{in:!a,timeout:200,classNames:"fade",unmountOnExit:!0,children:(0,T.jsxs)(eh.kC,{css:{gap:"0.5rem",mb:"1.25rem"},children:[u&&u.length>0&&(0,T.jsxs)(sm.h_,{open:o,onOpenChange:l,css:{width:"100%"},modal:!1,children:[(0,T.jsx)(sm.$F,{asChild:!0,style:{pointerEvents:"auto"},onMouseEnter(){l(!0)},onMouseLeave:()=>l(!1),children:(0,T.jsx)(ek.z,{type:"tertiary",css:{borderRadius:"500px",border:o?"1px solid black":"1px solid transparent !important",outline:"none",backgroundColor:o?"white":"$gray6",p:"4px 4.5px 4px 4px",fontSize:"$md",fontWeight:"$bold","&[data-state='open'] svg":{transform:"none !important"},...mw},children:(0,T.jsx)(mv.a,{size:22})})}),(0,T.jsx)(a9,{variant:"otherTradingWidgets",style:{width:"200px",marginTop:"-4px",pointerEvents:"auto"},onMouseEnter(){l(!0)},onMouseLeave:()=>l(!1),children:u&&u.length>0&&u.map((e,n)=>(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"".concat(e.slug),passHref:!0,children:(0,T.jsx)(ew.ee,{css:{cursor:e.slug===t.slug?"not-allowed !important":"pointer"},children:(0,T.jsx)(sm.Xi,{disabled:e.slug===t.slug,css:{...mS},children:(0,T.jsxs)(ew.xv,{size:"lg",weight:"medium",children:["Ended:"," ",x(e.endDate)]},n)},n)})},n))})]}),t&&t.closed&&(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"".concat(t.slug),passHref:!0,children:(0,T.jsx)(ew.ee,{children:(0,T.jsx)(mC,{css:{backgroundColor:"black",cursor:""},children:(0,T.jsxs)(ew.xv,{weight:"bold",size:"md",css:{color:"$shadeOffWhite !important"},children:["Ended:"," ",m(t.endDate)]})})})}),p&&p.length>0&&p.map((e,n)=>(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"".concat(e.slug),passHref:!0,children:(0,T.jsx)(ew.ee,{children:(0,T.jsx)(mC,{css:{backgroundColor:e.slug===t.slug?"black":"$gray6"},children:(0,T.jsx)(ew.xv,{weight:"bold",size:"md",css:{color:e.slug===t.slug?"$shadeOffWhite !important":"black"},children:m(e.endDate)})},n)})},n)),t&&!t.closed&&h&&h.length>0&&h.find(e=>e.slug!==t.slug)&&(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"".concat(t.slug),passHref:!0,children:(0,T.jsx)(ew.ee,{children:(0,T.jsx)(mC,{css:{backgroundColor:"black"},children:(0,T.jsx)(ew.xv,{weight:"bold",size:"md",css:{color:"$shadeOffWhite !important"},children:m(t.endDate)})})})}),h&&h.length>0&&(0,T.jsxs)(sm.h_,{open:r,onOpenChange:i,css:{width:"100%"},modal:!1,children:[(0,T.jsx)(sm.$F,{asChild:!0,onMouseEnter(){i(!0)},onMouseLeave:()=>i(!1),children:(0,T.jsxs)(ek.z,{type:"tertiary",css:{borderRadius:"500px",border:r?"1px solid black":"1px solid transparent !important",outline:"none",backgroundColor:r?"white":"$gray6",p:"5.5px 8px 5.5px 14px",fontSize:"$md",fontWeight:"$bold",...mw},children:["More"," ",(0,T.jsx)(oQ.F,{css:{fontSize:18,color:"black"}})]})}),(0,T.jsx)(a9,{variant:"otherTradingWidgets",style:{width:"200px",marginTop:"-4px",pointerEvents:"auto"},onMouseEnter(){i(!0)},onMouseLeave(){i(!1)},children:h&&h.length>0&&h.map((e,n)=>(0,T.jsx)(R(),{href:F.Y.EventDetail,as:"".concat(e.slug),passHref:!0,children:(0,T.jsx)(ew.ee,{css:{cursor:e.slug===t.slug?"not-allowed !important":"pointer"},children:(0,T.jsx)(sm.Xi,{disabled:e.slug===t.slug,css:{...mS},children:(0,T.jsx)(ew.xv,{size:"lg",weight:"medium",children:x(e.endDate)},n)},n)})},n))})]})]})}):null};var m_=n(21190);let mZ=e=>{let{isActive:t}=e;return(0,T.jsx)(mq,{initial:!1,animate:{color:q.Z.black,transform:t?"rotate(0deg)":"rotate(-180deg)"},transition:{duration:.3},children:(0,T.jsx)(mV,{children:(0,T.jsx)(mz,{})})})},mz=()=>(0,T.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,T.jsx)("path",{fill:"currentColor",d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"})}),mL=e=>{let{children:t,isActive:n}=e,[r,i]=(0,I.useState)(!1),o=(0,I.useCallback)(async()=>{await new Promise(e=>setTimeout(e,300)),i(!0)},[i]);return(0,I.useEffect)(()=>{n?o():i(!1)},[n,o]),(0,T.jsx)(m_.M,{initial:!1,children:n&&(0,T.jsx)(mW,{initial:"closed",animate:"active",exit:"closed",variants:{active:{height:"auto"},closed:{height:0}},transition:{duration:.4,ease:"easeInOut"},children:r?(0,T.jsx)(ep.E.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t}):(0,T.jsx)(mE,{css:{padding:"50px 20px"},children:" "})},"text")})},mT=e=>{let{children:t,isActive:n}=e;return(0,T.jsx)(mN,{initial:!1,css:{backgroundColor:"#fff",color:"$black",borderBottom:n?"1px solid $gray5":"none","@notMobile":{p:"24px 24px ".concat(n?"0":"24px")},"@phones":{p:"20px 20px ".concat(n?"0":"20px")}},transition:{duration:.1},children:t})},mD=e=>{let{active:t,setActive:n}=e,{activeMarket:r}=e3(),{selectedOutcome:i,setSelectedOutcome:o}=tM();return(0,T.jsxs)(mH,{initial:!1,transition:{duration:.2},css:{"@laptops":{width:784}},children:[(0,T.jsx)(mT,{isActive:t,children:(0,T.jsxs)(mE,{css:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsxs)(mI,{children:[(0,T.jsx)(m$,{children:(0,T.jsx)(mB,{children:"Order Book"})}),t&&r.outcomes&&i&&(0,T.jsx)(mO,{children:r.outcomes.map(e=>(0,T.jsx)(mR,{isSelected:e===i,onClick:()=>o(e),children:"Trade ".concat(e)},e))})]}),(0,T.jsx)(mA,{children:(0,T.jsx)(mE,{css:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",padding:"0.2rem",cursor:"pointer",border:"1px solid $shadeMedium",borderRadius:"5px","&:hover":{backgroundColor:"$lightGrey2"}},onClick:()=>n(!t),children:(0,T.jsx)(mZ,{isActive:t})})})]})}),(0,T.jsx)(mL,{isActive:t,children:(0,T.jsx)(pE,{})})]})},mP=e=>{let{containerStyles:t}=e,[n,r]=(0,I.useState)(!0);return(0,T.jsx)(mF,{css:{...t},children:(0,T.jsx)(mD,{active:n,setActive:r},"Order Book")})},mE=(0,t_.zo)("div"),mI=(0,t_.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"flex-start"}),mA=(0,t_.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end"}),mB=(0,t_.zo)("span",{fontFamily:"$sauce600",color:"$black",fontSize:"$xl"}),m$=(0,t_.zo)("div",{mb:"$3"}),mO=(0,t_.zo)("div",{display:"flex"}),mR=(0,t_.zo)("div",{mr:"$6",pb:"$3",color:"$black",fontFamily:"$sauce600",fontSize:"14px","&:hover":{cursor:"pointer"},variants:{isSelected:{true:{borderBottom:"2px solid $polyBlue",color:"$polyBlue",fontFamily:"$sauce700"}}}}),mN=(0,t_.zo)(ep.E.div,{position:"relative"}),mF=(0,t_.zo)(ep.E.div,{display:"flex",flexDirection:"column",width:"100%",marginTop:"1.25rem",backgroundColor:"#fff",border:"1px solid $shadeMedium",borderRadius:"12px",overflow:"hidden",maxWidth:"".concat(784,"px")}),mH=(0,t_.zo)(ep.E.div,{backgroundColor:"#fff"}),mW=(0,t_.zo)(ep.E.div,{overflow:"hidden"}),mq=(0,t_.zo)(ep.E.div,{display:"block",alignItems:"center",width:"30px",height:"30px"}),mV=(0,t_.zo)(ep.E.div,{transform:"scale(0.4) translateY(-10px)"}),mG=()=>{let{activeMarket:e}=e3(),{orderType:t}=tM(),{filledOrders:n}=nG(),{userOpenOrders:r}=(0,nY.Z)(e.clobTokenIds),{authenticated:i}=(0,eZ.ec)();return(0,T.jsxs)(eh.kC,{css:{width:"100%",flexDirection:"column"},children:[(t===tr.mr.Limit||t===tr.mr.Market)&&137===tn.B8.chainId&&(0,T.jsx)(eh.gO,{css:{mt:"$4"},children:e.closed?(0,T.jsx)(u9,{market:e,noPadding:!0,hideViewEvent:!0}):(0,T.jsx)(pK,{market:e,hideViewEvent:!0})}),t===tr.mr.AMM&&(0,T.jsx)(eh.gO,{css:{mt:"$4"},children:(0,T.jsx)(u9,{market:e,noPadding:!0,hideViewEvent:!0})}),e.enableOrderBook&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(mP,{containerStyles:{mt:"$8"}})}),e.enableOrderBook&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hx,{openOrders:r,containerStyles:{mt:"$8"}})}),(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hN,{market:e,containerVariant:"primary",containerStyles:{mt:"$8"},bodyStyles:{px:"0"},tableHeaderItemStyles:{pl:"1.5rem"},tableBodyItemStyles:{pl:"1.5rem"}})}),(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hO,{market:e,containerVariant:"primary",containerStyles:{mt:"$8"},bodyStyles:{px:"0"},tableHeaderItemStyles:{pl:"1.5rem"},tableBodyItemStyles:{pl:"1.5rem"}})}),e.enableOrderBook&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hr,{containerStyles:{mt:"$8"},filledOrders:n,isAuthenticated:i})})]})},mY=c2()(()=>n.e(773).then(n.bind(n,38773)),{loadableGenerated:{webpack:()=>[38773]},ssr:!1}),mU=()=>{var e,t;let{event:n,activeMarket:r,accordionMarketSlug:i,setAccordionMarketSlug:o,setActiveMarketFromSlug:l}=e3(),{poolPricesMap:s}=rv(),{setOrderType:a}=tM(),[c,d]=(0,I.useState)(!1),u=(0,I.useMemo)(()=>n?n.markets.filter(e=>(!dC.gr||e.active)&&!e.archived&&n.closed===e.closed).sort((e,t)=>"descending"===n.sort_by?e.groupItemThreshold?t.groupItemThreshold?t.groupItemThreshold-e.groupItemThreshold:-1:1:e.groupItemThreshold?t.groupItemThreshold?e.groupItemThreshold-t.groupItemThreshold:1:-1):[],[n]),p=(0,I.useMemo)(()=>n?n.markets.filter(e=>(!dC.gr||e.active)&&!e.archived&&n.closed!==e.closed).sort((e,t)=>"descending"===n.sort_by?e.groupItemThreshold?t.groupItemThreshold?t.groupItemThreshold-e.groupItemThreshold:-1:1:e.groupItemThreshold?t.groupItemThreshold?e.groupItemThreshold-t.groupItemThreshold:1:-1):[],[n]);return(0,D.Z)(()=>d(!0)),(0,T.jsxs)(eh.gO,{css:{width:"calc(100vw - 420px)",maxWidth:800,height:"100%",py:"$8",px:"$2"},children:[(0,T.jsx)(mf,{}),n&&n.series&&n.series.length&&(0,T.jsx)(mM,{currentEvent:n,series:n.series[0]}),(0,T.jsx)(eh.gO,{children:1===n.markets.length?(0,T.jsx)(mG,{}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(hF,{type:"single",collapsible:!0,value:null!=i?i:"",onValueChange(e){if(""===e)o(void 0);else{let t=n.markets.find(t=>t.slug===e);(null==t?void 0:t.enableOrderBook)||a(tr.mr.AMM),l(e),o(e)}},children:u.map(t=>(0,T.jsx)(hb,{market:t,children:(0,T.jsx)(h2,{ammChainPrices:null!==(e=null==s?void 0:s[t.marketMakerAddress])&&void 0!==e?e:["0","0"]})},t.slug))}),p.length?(0,T.jsx)(h7,{markets:p}):null]})}),(0,T.jsx)(eh.gO,{css:{mt:"$8",pb:n.commentsEnabled||r.commentsEnabled?"0":"$8"},children:(0,T.jsx)(dk,{description:null!==(t=r.description)&&void 0!==t?t:n.description})}),c&&(null==window?void 0:window.innerWidth)>=1018&&n.markets.length>0&&(n.commentsEnabled||r.commentsEnabled)&&(0,T.jsx)(eh.gO,{css:{width:"100%",mt:"$6"},children:(0,T.jsx)(eh.Dr,{css:{py:"$4",width:"100%",height:"100%"},children:(0,T.jsx)(mY,{pageType:1===n.markets.length?dw.G.Market:dw.G.Event,event:n.markets.length>1?n:void 0,market:1===n.markets.length?r:void 0})})})]})},mQ=(0,t_.zo)(mU);var mJ=n(58123),mX=n(68018),mK=n(77828),m0=n(55034);let m1=(0,t_.zo)(mX.R,{color:"$polyBlue","@notDesktop":{size:"24px"},"@laptops":{size:"24px"}}),m2=(0,t_.zo)(mK.I,{color:"$polyBlue","@notDesktop":{size:"24px"},"@laptops":{size:"24px"}}),m5=(0,t_.zo)(m0.s,{color:"$polyBlue","@notDesktop":{size:"24px"},"@laptops":{size:"24px"}}),m3=e=>{let{title:t,value:n,children:r}=e;return(0,T.jsxs)(eh.kC,{css:{"@phones":{justifyContent:"space-between",alignItems:"center"}},children:[(0,T.jsxs)(eh.kC,{css:{alignItem:"center",gap:"0.5rem"},children:[r,(0,T.jsx)(ew.xv,{size:"md",weight:"bold",css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",mt:"0.2rem"},children:t})]}),(0,T.jsx)(ew.xv,{size:"md",css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",mt:"0.2rem"},children:n})]})},m4=e=>{let{coerceToMarketStatistics:t,...n}=e,{event:{volume:r,liquidity:i,endDate:o},activeMarket:{volume_num:l,liquidity_num:s,endDateIso:a}}=e3(),c=(0,I.useMemo)(()=>tT()(t?l:r).format("$0a"),[t,r,l]),d=(0,I.useMemo)(()=>tT()(t?s:i).format("$0a"),[t,i,s]),u=(0,I.useMemo)(()=>t&&a?(0,sw.Z)((0,h9.Z)(a,"yyyy-MM-dd",new Date),"PP"):!t&&o?(0,sw.Z)((0,h9.Z)(o,"yyyy-MM-dd",new Date),"PP"):void 0,[t,o,a]);return(0,T.jsxs)(eh.kC,{...n,css:{"@laptops":{flexDirection:"row"},"@notDesktop":{flexDirection:"column",width:"100%",gap:"1rem"}},children:[(0,T.jsx)(m3,{title:"Volume",value:c,children:(0,T.jsx)(m1,{})}),(0,T.jsx)(m3,{title:"Liquidity",value:d,children:(0,T.jsx)(m2,{})}),u&&(0,T.jsx)(m3,{title:"End Date",value:u,children:(0,T.jsx)(m5,{})})]})};var m6=(0,t_.zo)(m4);let m8=e=>{var t;let{overlay:n}=e,{event:r,activeMarket:i}=e3(),{orderType:o}=tM(),{filledOrders:l}=nG(),{userOpenOrders:s}=(0,nY.Z)(i.clobTokenIds),{authenticated:a}=(0,eZ.ec)();return(0,T.jsxs)(eh.kC,{css:{width:"100%",flexDirection:"column",...n&&{pb:"116px"}},children:[n&&(0,T.jsx)(mf,{coerceToMarket:!0,isMobile:!0}),(o===tr.mr.Limit||o===tr.mr.Market)&&137===tn.B8.chainId&&(0,T.jsx)(eh.gO,{children:i.closed?(0,T.jsx)(u9,{market:i,noPadding:!0,hideViewEvent:!0}):(0,T.jsx)(pK,{market:i,hideViewEvent:!0})}),o===tr.mr.AMM&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(u9,{market:i,noPadding:!0,hideViewEvent:!0})}),i.enableOrderBook&&!i.closed&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(mP,{containerStyles:{mt:"$4"}})}),i.enableOrderBook&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hx,{openOrders:s,containerStyles:{mt:"$4"}})}),(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hN,{market:i,containerVariant:"primary",containerStyles:{mt:"$4"},bodyStyles:{px:"0"},tableHeaderItemStyles:{pl:"1.5rem"},tableBodyItemStyles:{pl:"1.5rem"}})}),(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hO,{market:i,containerVariant:"primary",containerStyles:{mt:"$4"},bodyStyles:{px:"0"},tableHeaderItemStyles:{pl:"1.5rem"},tableBodyItemStyles:{pl:"1.5rem"}})}),i.enableOrderBook&&(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hr,{filledOrders:l,isAuthenticated:a,containerStyles:{mt:"$4"}})}),n&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eh.gO,{css:{mt:"$4"},children:(0,T.jsx)(dk,{description:null!==(t=i.description)&&void 0!==t?t:r.description})}),(0,T.jsx)(eh.gO,{css:{mt:"$4"},children:(0,T.jsx)(m6,{coerceToMarketStatistics:!0})})]})]})},m7=(0,t_.zo)(ek.z,{display:"flex",placeContent:"center",columnGap:"0.25rem",borderRadius:"5px",fontSize:"$md",transition:"all 0.2s",cursor:"pointer","@notDesktop":{flexGrow:1,height:"40px",px:0},"@laptops":{width:"150px",py:"1rem",px:0}}),m9=(0,t_.zo)("p",{position:"relative",margin:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"$sauce600 !important",fontSize:"$lg",lineHeight:"$md","@notDesktop":{flexGrow:1,maxWidth:"calc(100vw - 2rem - 70px)"},"@laptops":{maxWidth:"400px","&::before":{content:"",position:"absolute",width:0,height:"2px",bottom:0,left:0,backgroundColor:"black",visibility:"hidden",transition:"all 0.3s ease-in-out"},"&:hover::before":{visibility:"visible",width:"100%,"},"@media (min-width: 1018px) and (max-width: 1080px)":{maxWidth:"240px"},"@media (min-width: 1080px) and (max-width: 1140px)":{maxWidth:"280px"},"@media (min-width: 1140px) and (max-width: 1220px)":{maxWidth:"320px"}}}),xe=(0,t_.zo)(eh.kC,{flexDirection:"column",width:"100%",overflow:"hidden",gap:"1rem",py:"1.5rem",borderTop:"1px solid $shadeMediumTransparent",background:"white",transition:"0.2s all","&:active":{backgroundColor:"$gray6_50"}}),xt=e=>{let{market:t,ammChainPrices:n}=e,{event:{image:r},setActiveMarket:i}=e3(),{setSelectedOutcome:o,side:l,selectedOutcomeIdx:s,orderType:a,setOrderType:c}=tM(),{setInjectedContentType:d,setDrawerContent:u,setTemporaryInjectedContent:p,setShowInjectedControls:h,setIsOpen:m,setCoerceSecondaryNavToTop:x}=(0,oJ.W7)(),g=(0,n$.ZP)(t),{shareBalances:f}=(0,nB.Z)(g,t.marketMakerAddress,!1,!0),{bestPrices:v}=(0,tA.C)(t,s),y=(0,I.useMemo)(()=>f.length?f.reduce((e,t)=>e.add(t),e6._Y):e6._Y,[f]),{marketPositions:b}=(0,rd.Z)(),{zeroLastPrice:j,oneLastPrice:k}=ck(),w=(0,su.Gb)(t,null!=b?b:[],a===tr.mr.AMM,[parseFloat(null!=j?j:"0"),parseFloat(null!=k?k:"0")]),C=(0,I.useCallback)(e=>{t.enableOrderBook||c(tr.mr.AMM),i(t),o(e),d(oJ.Qt.Buy),u(oJ.sc.Injected),m(!0)},[t,c,i,o,d,u,m]),S=(0,I.useCallback)(()=>{t.enableOrderBook||c(tr.mr.AMM),d(oJ.Qt.Redeem),u(oJ.sc.Injected),i(t),m(!0)},[t,c,i,d,u,m]),M=(0,I.useCallback)(()=>{t.enableOrderBook||c(tr.mr.AMM),i(t),p((0,T.jsx)(eh.kC,{css:{width:"100vw",height:"100%",pb:"80px",pt:"2.25rem",px:"1rem"},children:(0,T.jsx)(m8,{overlay:!0})})),x(!0),u(oJ.sc.Temporary),h(!0),m(!0)},[t,i,p,u,h,m,x,c]);return(0,T.jsxs)(xe,{onClick:M,children:[(0,T.jsxs)(eh.kC,{css:{alignItems:"center",gap:"0.75rem"},children:[t.image!==r&&(0,T.jsx)(tp.Z,{image:t.image,coerceToDefaultImgTag:!0,css:{borderRadius:"$sm",overflow:"hidden"},skeletonCss:{borderRadius:"$sm"}}),(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",rowGap:"0.6rem"},children:[(0,T.jsx)(eh.kC,{children:(0,T.jsx)(m9,{children:t.groupItemTitle})}),(0,T.jsxs)(eh.kC,{css:{alignItems:"center",columnGap:"0.75rem"},children:[(0,T.jsxs)(ew.xv,{weight:"normal",color:"light",css:{fontSize:"12px",whiteSpace:"nowrap"},children:[tT()(t.volume).format("$0a")," Vol."]}),(0,T.jsxs)(ew.xv,{weight:"normal",color:"light",css:{fontSize:"12px",whiteSpace:"nowrap"},children:[tT()(t.liquidity).format("$0a")," Liq."]})]})]})]}),w.length?(0,T.jsx)(eh.gO,{children:(0,T.jsx)(hw,{portfolioPositions:w})}):null,t.closed?(0,T.jsx)(cO,{market:t,callback:y.gt(0)?S:void 0,isMobile:!0}):(0,T.jsx)(eh.kC,{css:{justifyContent:"flex-end",gap:"0.5rem"},children:v&&t.outcomes.map((e,r)=>{var i;let o=t.enableOrderBook&&a!==tr.mr.AMM?v[e][l.toLowerCase()]:null!==(i=null==n?void 0:n[r])&&void 0!==i?i:"0";return(0,T.jsxs)(m7,{as:"div",onClick(t){t.stopPropagation(),C(e)},css:{border:"none",...0===r&&{color:"$green2",backgroundColor:"$green2_10","&:active":{color:"white",backgroundColor:"$green2"}},...1===r&&{color:"$red",backgroundColor:"$red_10","&:active":{color:"white",backgroundColor:"$red"}}},children:["Buy"," ",e.length>3?"".concat(e.substring(0,3),"."):e,"  ",(0,tf.G_)(o),"\xa2",(0,T.jsx)(eh.Dr,{})]},"".concat(e,"-").concat(r))})})]})},xn=(0,t_.zo)(xt),xr=(0,t_.zo)(ek.z,{display:"inline-flex",alignItems:"center",justifyContent:"center",mb:"0.5rem",background:"none !important",fontFamily:"$sauce500",fontSize:"$md",padding:0,transition:"0.2s all",cursor:"pointer",'&[data-state="closed"]':{},'&[data-state="open"]':{svg:{transform:"rotate(-180deg)"}},"&:hover":{opacity:.75}}),xi=e=>{let{markets:t}=e,[n,r]=(0,I.useState)(!1);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(h3,{open:n,onOpenChange:r,css:{mb:"1rem"},children:[(0,T.jsx)(h4,{asChild:!0,children:(0,T.jsxs)(xr,{children:[(0,T.jsxs)(ew.xv,{weight:"medium",children:[n?"Hide":"View"," resolved markets"]}),(0,T.jsx)(oQ.F,{})]})}),(0,T.jsx)(h6,{children:(0,T.jsx)(eh.gO,{children:t.map(e=>(0,T.jsx)(xn,{market:e},e.id))})})]})})},xo=c2()(()=>n.e(773).then(n.bind(n,38773)),{loadableGenerated:{webpack:()=>[38773]},ssr:!1}),xl=()=>{var e;let{event:t,activeMarket:n}=e3(),{poolPricesMap:r}=rv(),[i,o]=(0,I.useState)(!1),l=(0,I.useMemo)(()=>t?t.markets.filter(e=>(!dC.gr||e.active)&&!e.archived&&t.closed===e.closed).sort((e,n)=>"descending"===t.sort_by?e.groupItemThreshold?n.groupItemThreshold?n.groupItemThreshold-e.groupItemThreshold:-1:1:e.groupItemThreshold?n.groupItemThreshold?e.groupItemThreshold-n.groupItemThreshold:1:-1):[],[t]),s=(0,I.useMemo)(()=>t?t.markets.filter(e=>(!dC.gr||e.active)&&!e.archived&&t.closed!==e.closed).sort((e,n)=>"descending"===t.sort_by?e.groupItemThreshold?n.groupItemThreshold?n.groupItemThreshold-e.groupItemThreshold:-1:1:e.groupItemThreshold?n.groupItemThreshold?e.groupItemThreshold-n.groupItemThreshold:1:-1):[],[t]);return(0,D.Z)(()=>o(!0)),(0,T.jsxs)(mJ.xr,{css:{flexDirection:"column",maxWidth:"calc(100vw - 2rem)",overflow:"hidden",backgroundColor:"white",flexGrow:1},children:[(0,T.jsx)(mJ.ap,{css:{backgroundColor:"white",width:"100%",maxWidth:"calc(100vw - 2rem)",height:"100%"},children:(0,T.jsxs)(eh.gO,{css:{height:"100%",width:"calc(100vw - 2rem)"},children:[(0,T.jsx)(mf,{css:{mt:"calc(100px + 1.25rem)"},isMobile:!0}),t&&t.series&&t.series.length&&(0,T.jsx)(mM,{currentEvent:t,series:t.series[0]}),(0,T.jsx)(eh.gO,{children:1===t.markets.length?(0,T.jsx)(m8,{}):(0,T.jsxs)(T.Fragment,{children:[l.map(t=>(0,T.jsx)(xn,{market:t,ammChainPrices:null!==(e=null==r?void 0:r[null==t?void 0:t.marketMakerAddress])&&void 0!==e?e:["0","0"]},t.id)),s.length?(0,T.jsx)(xi,{markets:s}):null]})}),(0,T.jsx)(eh.gO,{css:{mt:"$4"},children:(0,T.jsx)(dk,{description:t.description})}),(0,T.jsx)(eh.gO,{css:{mt:"$4",...!t.commentsEnabled&&!n.commentsEnabled&&{mb:1===t.markets.length?"160px":"100px"}},children:(0,T.jsx)(m6,{})}),i&&(null==window?void 0:window.innerWidth)<1018&&(t.commentsEnabled||n.commentsEnabled)&&(0,T.jsx)(eh.gO,{css:{width:"100%",mt:"1.5rem",mb:1===t.markets.length?"160px":"100px"},children:(0,T.jsx)(eh.Dr,{css:{py:"1rem",width:"100%",height:"100%"},children:(0,T.jsx)(xo,{pageType:1===t.markets.length?dw.G.Market:dw.G.Event,event:t.markets.length>1?t:void 0,market:1===t.markets.length?n:void 0})})})]})}),(0,T.jsx)(mJ.gb,{orientation:"vertical",children:(0,T.jsx)(mJ.q4,{css:{display:"none"}})}),(0,T.jsx)(mJ.gb,{orientation:"horizontal",children:(0,T.jsx)(mJ.q4,{css:{display:"none"}})}),(0,T.jsx)(mJ.lj,{})]})},xs=(0,t_.zo)(xl),xa=()=>{var e;let{hasFetchedLocation:t,isRestrictedLocation:n}=(0,t4.q0)(),{proxyAddress:r,authenticated:i}=(0,eZ.ec)(),{activeMarket:o,event:l,eslug:s,mslug:a}=e3(),{title:c,description:d,markets:{length:u}}=l;return(0,T.jsx)(td,{children:(0,T.jsx)(tS,{children:(0,T.jsx)(nR,{children:(0,T.jsx)(rf,{children:(0,T.jsx)(cM,{children:(0,T.jsx)(cv.Z,{noPadding:!0,injectedContent:[(0,T.jsx)(c0,{},"injected-drawer-controls"),(0,T.jsx)(cA,{},"injected-drawer-content")],hideInjectedControls:1!==u,enforceInjectedDrawerTopOffset:!0,children:(0,T.jsx)(B.Z,{showFooter:!1,title:"Polymarket | ".concat(c),description:"Polymarket | ".concat(d),ogDescription:"Polymarket | ".concat(a?o.description:d),image:null==o?void 0:null===(e=o.seo)||void 0===e?void 0:e.meta_image,twitterCardURL:"https://polymarket-twitter-cards.vercel.app/"+"".concat(null!=a?a:s),children:(0,T.jsxs)(eh.kC,{css:{height:"100%",overflowY:"hidden","@phones":{px:"1rem",height:"100%"},"@tablets":{px:"1rem",height:"100%"},"@laptops":{mt:"95px",pr:"2rem",pl:"1.5rem",columnGap:"1.5rem",height:"calc(100vh - 95px)",justifyContent:"center",overflowY:"auto"}},children:[(0,T.jsx)(eh.kC,{css:{maxWidth:"800px","@notDesktop":{display:"none"}},children:(0,T.jsx)(mQ,{})}),(0,T.jsx)(eh.kC,{css:{"@laptops":{display:"none"}},children:(0,T.jsx)(xs,{})}),(0,T.jsx)(eh.gO,{css:{height:"fit-content",width:340,minWidth:340,maxWidth:340,mt:"2rem",position:"sticky",top:"2rem","@phones":{display:"none"},"@tablets":{display:"none"}},children:(0,T.jsxs)(eh.kC,{css:{flexDirection:"column",width:"100%"},children:[o.closed&&(0,T.jsx)(cg,{}),!o.closed&&(0,T.jsx)(sa,{}),o.closed||!i||!t||n&&(0,nE.G_)(o.slug)?null:(0,T.jsx)(ce,{}),o.enableOrderBook&&(0,T.jsx)(eh.kC,{css:{justifyContent:"center",mt:"1rem"},children:(0,T.jsx)(cf,{})}),ej.n7[null!=r?r:""]?(0,T.jsx)(cI,{}):null]})})]})})})})})})})})};var xc=n(22865),xd=n(52778),xu=n(40027);function xp(){let e=(0,$.Z)(["\n    query event($sql: String!, $limit: Int!, $offset: Int!, $order: String!) {\n        events(where: $sql, limit: $limit, offset: $offset, order: $order) {\n            id\n            ticker\n            slug\n            title\n            subtitle\n            description\n            resolutionSource\n            startDate\n            creationDate\n            endDate\n            tags\n            image\n            icon\n            featuredImage\n            active\n            closed\n            archived\n            new\n            featured\n            restricted\n            liquidity\n            volume\n            volume24hr\n            competitive\n            openInterest\n            sortBy\n            category\n            subcategory\n            isTemplate\n            reviewStatus\n            templateVariables\n            published_at\n            createdBy\n            updatedBy\n            createdAt\n            commentsEnabled\n            disqusThread\n            updatedAt\n            enableOrderBook\n            liquidityAmm\n            liquidityClob\n            markets {\n                id\n                question\n                conditionId\n                slug\n                twitterCardImage\n                resolutionSource\n                endDate\n                category\n                ammType\n                description\n                liquidity\n                sponsorName\n                sponsorImage\n                startDate\n                xAxisValue\n                yAxisValue\n                denominationToken\n                fee\n                lowerBound\n                upperBound\n                tags\n                outcomes\n                image\n                icon\n                outcomePrices\n                volume\n                active\n                marketType\n                formatType\n                lowerBoundDate\n                upperBoundDate\n                closed\n                marketMakerAddress\n                closedTime\n                wideFormat\n                new\n                sentDiscord\n                mailchimpTag\n                featured\n                submitted_by\n                subcategory\n                categoryMailchimpTag\n                twitterCardLocation\n                twitterCardLastRefreshed\n                twitterCardLastValidated\n                archived\n                resolvedBy\n                restricted\n                groupItemTitle\n                groupItemThreshold\n                questionID\n                umaEndDate\n                enableOrderBook\n                orderPriceMinTickSize\n                orderMinSize\n                umaResolutionStatus\n                curationOrder\n                volumeNum\n                liquidityNum\n                endDateIso\n                startDateIso\n                umaEndDateIso\n                hasReviewedDates\n                commentsEnabled\n                disqusThread\n                gameStartTime\n                secondsDelay\n                clobTokenIds\n                liquidityNum\n                liquidityAmm\n                liquidityClob\n                events {\n                    id\n                    slug\n                    ticker\n                    title\n                }\n            }\n            categories {\n                id\n                label\n                parentCategory\n                slug\n                publishedAt\n                createdBy\n                updatedBy\n                createdAt\n                updatedAt\n            }\n            series {\n                slug\n                id\n                title\n                active\n                commentsEnabled\n                closed\n                recurrence\n                archived\n            }\n        }\n    }\n"]);return xp=function(){return e},e}let xh=(0,xc.Ps)(xp()),xm=(e,t,n,r,i,o,l,s,a,c,d,u,p)=>{let h;if(e)return(0,ej.mX)(e)?"slug = '".concat(e,"'"):"slug = '".concat(e,"' AND archived = false ").concat(dC.gr&&!u?"AND active = true":"");let m="".concat(dC.gr&&!u?"active = true AND archived = false":"archived = false");i&&i.length&&(m+=" AND (slug ~ '".concat(i.join("|"),"')"));let x="";if(t){let g=1===t.length?t[0].trim().toLowerCase().split(" ").join(" | "):t.map(e=>e.trim().toLowerCase().split(" ").join(" | ")).join(" | ");x="("+"description ~* '".concat(g,"' OR ")+"slug ~* '".concat(g,"' OR ")+"title ~* '".concat(g,"' OR ")+"tags ? '".concat(g,"' OR ")+"to_tsvector(description) @@ to_tsquery('".concat(g,"') OR ")+"to_tsvector(title) @@ to_tsquery('".concat(g,"') OR ")+"to_tsvector(slug) @@ to_tsquery('".concat(g,"') OR ")+"to_tsvector(tags::text) @@ to_tsquery('".concat(g,"')")+")"}return n&&(h="( id in ( select event_id from categories_events join categories on ( categories.id = category_id ) AND categories.slug ~ '".concat(1===n.length?"^".concat(n[0]):"^".concat(n.join("|^")),"' ) )")),r&&"active"!==r?"resolved"===r&&(m+=" AND closed = true"):m+=" AND closed = false",o&&(m+=" AND volume >= ".concat(o)),l&&(m+=" AND volume <= ".concat(l)),s&&(m+=" AND liquidity >= ".concat(s)),a&&(m+=" AND liquidity <= ".concat(a)),c&&(m+=" AND Cast(end_date AS date) >= Cast('".concat(c,"' AS date)")),d&&(m+=" AND Cast(end_date AS date) <= Cast('".concat(d,"' AS date)")),"amm"===p&&(m+=" AND (enable_order_book = false OR enable_order_book IS NULL)"),"clob"===p&&(m+=" AND enable_order_book = true"),x&&h?m+=" AND (".concat(x," OR ").concat(h,")"):x?m+=" AND (".concat(x,")"):h&&(m+=" AND (".concat(h,")")),m},xx=e=>e?parseInt(e,10):dC.L8,xg=(e,t)=>(t?parseInt(t,10):0)*(e?parseInt(e,10):dC.L8),xf=e=>{if(!e)return"COALESCE(liquidity, 0)::numeric DESC";let[t,n]=e.split(":");return"created_at"===t?"created_at::timestamp ".concat(n.toUpperCase()):"end_date"===t?"end_date::timestamp ".concat(n.toUpperCase()):"volume"===t?"COALESCE(volume, 0)::numeric ".concat(n.toUpperCase()):"volume_24hr"===t?"COALESCE(volume_24hr, 0)::numeric ".concat(n.toUpperCase()):"liquidity"===t?"COALESCE(liquidity, 0)::numeric ".concat(n.toUpperCase()):"competitive"===t?"COALESCE(competitive, 0)::numeric ".concat(n.toUpperCase()):"".concat(t," ").concat(n.toUpperCase())},xv=e=>{if("string"!=typeof e.clobTokenIds)return null;try{return JSON.parse(e.clobTokenIds)}catch(t){return null}},xy=async(e,t,n,r,i,o,l,s,a,c,d,u,p,h,m,x)=>xu.Z.query({query:xh,variables:{sql:xm(e,r,i,l,s,a,c,d,u,p,h,m,x),limit:xx(t),offset:xg(t,n),order:xf(o)}}).then(e=>e.data.events.map(e=>{var t,n;return{...e,markets:null!==(n=null===(t=e.markets)||void 0===t?void 0:t.filter(e=>dC.gr&&e.active||!dC.gr&&!!e.conditionId&&!!e.questionID&&!!e.marketMakerAddress).map(e=>{var t,n,r,i,o,l,s,a,c,d,u,p,h,m,x,g,f,v;return{...e,outcomes:JSON.parse(e.outcomes),outcomePrices:JSON.parse(e.outcomePrices),lower_bound_date:null!==(t=e.lowerBoundDate)&&void 0!==t?t:null,upper_bound_date:null!==(n=e.upperBoundDate)&&void 0!==n?n:null,market_type:null!==(r=e.marketType)&&void 0!==r?r:null,twitter_card_image:null!==(i=e.twitterCardImage)&&void 0!==i?i:null,resolution_source:null!==(o=e.resolutionSource)&&void 0!==o?o:null,end_date:null!==(l=e.endDate)&&void 0!==l?l:null,amm_type:null!==(s=e.ammType)&&void 0!==s?s:null,x_axis_value:null!==(a=e.xAxisValue)&&void 0!==a?a:null,y_axis_value:null!==(c=e.yAxisValue)&&void 0!==c?c:null,denomination_token:null!==(d=e.denominationToken)&&void 0!==d?d:null,resolved_by:null!==(u=e.resolvedBy)&&void 0!==u?u:null,upper_bound:null!==(p=e.upperBound)&&void 0!==p?p:null,lower_bound:null!==(h=e.lowerBound)&&void 0!==h?h:null,created_at:null!==(m=e.createdAt)&&void 0!==m?m:null,updated_at:null!==(x=e.updatedAt)&&void 0!==x?x:null,closed_time:null!==(g=e.closedTime)&&void 0!==g?g:null,wide_format:null!==(f=e.wideFormat)&&void 0!==f?f:null,twitter_card_location:null!==(v=e.twitterCardLocation)&&void 0!==v?v:null,volume_num:e.volumeNum,liquidity_num:e.liquidityNum,clobTokenIds:xv(e)}}))&&void 0!==n?n:[]}})),xb=async(e,t)=>{let n=await xy(e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0);if(n&&n.length)return n[0]};(0,xd.m)((e,t,n,r,i,o,l,s,a,c,d,u,p,h,m)=>xy(e,t,n,r,i,o,l,s,a,c,d,u,p,h,m)),(0,xd.m)((e,t)=>xb(e,t));let xj=async(e,t)=>{let n="/api/event?slug=".concat(e);return t&&(n+="&includeInactiveEvents=true"),pF().get(n).then(e=>{let{data:t}=e;return{...t,markets:t.markets.filter(e=>dC.gr&&e.active||!dC.gr&&!!e.conditionId&&!!e.questionID&&!!e.marketMakerAddress).map(e=>{var t,n,r,i,o,l,s,a,c,d,u,p,h,m,x,g,f,v;return{...e,outcomes:JSON.parse(e.outcomes),outcomePrices:JSON.parse(e.outcomePrices),lower_bound_date:null!==(t=e.lowerBoundDate)&&void 0!==t?t:null,upper_bound_date:null!==(n=e.upperBoundDate)&&void 0!==n?n:null,market_type:null!==(r=e.marketType)&&void 0!==r?r:null,twitter_card_image:null!==(i=e.twitterCardImage)&&void 0!==i?i:null,resolution_source:null!==(o=e.resolutionSource)&&void 0!==o?o:null,end_date:null!==(l=e.endDate)&&void 0!==l?l:null,amm_type:null!==(s=e.ammType)&&void 0!==s?s:null,x_axis_value:null!==(a=e.xAxisValue)&&void 0!==a?a:null,y_axis_value:null!==(c=e.yAxisValue)&&void 0!==c?c:null,denomination_token:null!==(d=e.denominationToken)&&void 0!==d?d:null,resolved_by:null!==(u=e.resolvedBy)&&void 0!==u?u:null,upper_bound:null!==(p=e.upperBound)&&void 0!==p?p:null,lower_bound:null!==(h=e.lowerBound)&&void 0!==h?h:null,created_at:null!==(m=e.createdAt)&&void 0!==m?m:null,updated_at:null!==(x=e.updatedAt)&&void 0!==x?x:null,closed_time:null!==(g=e.closedTime)&&void 0!==g?g:null,wide_format:null!==(f=e.wideFormat)&&void 0!==f?f:null,twitter_card_location:null!==(v=e.twitterCardLocation)&&void 0!==v?v:null,volume_num:e.volumeNum,liquidity_num:e.liquidityNum,clobTokenIds:xv(e)}})}})},xk=e=>{let{eslug:t,mslug:n}=e,{isReady:r}=(0,P.useRouter)(),[i,o]=(0,I.useState)(!1),{proxyAddress:l}=(0,eZ.ec)(),{data:s,isLoading:a,isError:c}=(0,A.useQuery)(["/api/event",t],()=>xj(t),{refetchOnWindowFocus:!1,refetchOnReconnect:!1,cacheTime:1/0,staleTime:1/0,retry:!1}),d=s;80001===tn.B8.chainId&&(d=ej.DV);let u=(0,I.useMemo)(()=>80001===tn.B8.chainId?ej.DV.markets[0]:(null==d?void 0:d.slug)?d.markets.find(e=>e.slug===n):void 0,[null==d?void 0:d.slug,null==d?void 0:d.markets,n]);return(0,I.useEffect)(()=>{i&&r&&E().replace({pathname:F.Y.EventDetail,query:{slug:t}},void 0,{shallow:!0})},[r,i,t]),(0,D.Z)(()=>o(!0)),(0,T.jsx)(e_,{onError:(e,t)=>(0,t7.S3)("".concat(JSON.stringify(e)," \n\n ").concat(JSON.stringify(t)),"EventPage",l),onReload:()=>E().reload(),children:a?(0,T.jsx)(B.Z,{title:"Polymarket",description:"Polymarket",mobileTopPadding:"60px",children:(0,T.jsx)(ey,{})}):d&&u&&!c?(0,T.jsx)(e5,{event:d,market:u,eslug:t,mslug:null!=n?n:void 0,children:(0,T.jsx)(xa,{})}):(0,T.jsx)(B.Z,{title:"Polymarket",description:"Polymarket",mobileTopPadding:"60px",children:(0,T.jsx)(eo,{})})})};var xw=!0,xC=xk},2936:function(e,t,n){"use strict";n.d(t,{Tl:function(){return l},Y$:function(){return o},o5:function(){return i}});var r=n(59404);let i="Trading is not available to people or companies who are residents of, or are located, incorporated or have a registered agent in, the United States or a restricted territory.",o="Deposits are not available to people or companies who are residents of, or are located, incorporated or have a registered agent in, the United States or a restricted territory.";parseInt(r.aX,10);let l=parseInt(r.Zk,10)},99398:function(e){e.exports={pGrey:"FinePrint_pGrey__3f0Mx",pGreyBg:"FinePrint_pGreyBg__Ccfp6",successModal:"FinePrint_successModal__4IKn5",finePrint:"FinePrint_finePrint__OeVq_"}},16265:function(e){e.exports={container:"InputConfirmation_container__YBLW9",text:"InputConfirmation_text__jT9vA"}},5647:function(e){e.exports={pGrey:"AddLiquidityWidget_pGrey__XI0Xx",pGreyBg:"AddLiquidityWidget_pGreyBg__b_IKy",successModal:"AddLiquidityWidget_successModal__g0184",widget:"AddLiquidityWidget_widget__vTPkq",shares:"AddLiquidityWidget_shares__KsUr5",picker:"AddLiquidityWidget_picker__LUq_i",redBorder:"AddLiquidityWidget_redBorder__cYgLa",sharesInput:"AddLiquidityWidget_sharesInput__TypQC",closeIcon:"AddLiquidityWidget_closeIcon__v58yW",button:"AddLiquidityWidget_button__xOnmd",errorMessage:"AddLiquidityWidget_errorMessage__tiivs",toggleButton:"AddLiquidityWidget_toggleButton__Qld9a",toggleButtonText:"AddLiquidityWidget_toggleButtonText__0US_9",toggleButtonPlus:"AddLiquidityWidget_toggleButtonPlus__CnxnD",maxButton:"AddLiquidityWidget_maxButton__OSKo7",initialOddsBox:"AddLiquidityWidget_initialOddsBox__PGuco",oddPosition:"AddLiquidityWidget_oddPosition__0lhuN",lastOddsPositionChild:"AddLiquidityWidget_lastOddsPositionChild__AKYaJ",ctaButtonContainer:"AddLiquidityWidget_ctaButtonContainer__FHdI_"}},47234:function(e){e.exports={pGrey:"CheckoutModals_pGrey__zHTaK",pGreyBg:"CheckoutModals_pGreyBg__i1nFi",successModal:"CheckoutModals_successModal__MzUAQ",buyModal:"CheckoutModals_buyModal__Lbdp2",confirmAmountContainer:"CheckoutModals_confirmAmountContainer__hFV3n",selectedOutcome:"CheckoutModals_selectedOutcome__KBZk4",pBold:"CheckoutModals_pBold__T9Aa7",slippageProtectionContainer:"CheckoutModals_slippageProtectionContainer__DS4o_",slippageProtectionLabel:"CheckoutModals_slippageProtectionLabel__nn0AX",iconWrapper:"CheckoutModals_iconWrapper__Y_ED8",hLine:"CheckoutModals_hLine__AiTRX",finePrintContainer:"CheckoutModals_finePrintContainer__wQIIV",blueButton:"CheckoutModals_blueButton__8lEz2",transparentButton:"CheckoutModals_transparentButton__kwqyh",slippageWarning:"CheckoutModals_slippageWarning__wFQP3",cautionIcon:"CheckoutModals_cautionIcon__G4iw4",polyLoader:"CheckoutModals_polyLoader__igPLR"}},82879:function(e){e.exports={pGrey:"CheckoutModals_pGrey__IrgvH",pGreyBg:"CheckoutModals_pGreyBg__Lteyp",successModal:"CheckoutModals_successModal__RkZpn",buyModal:"CheckoutModals_buyModal__yy2WF",finePrint:"CheckoutModals_finePrint__HIr0M",polyLoader:"CheckoutModals_polyLoader__nuD_T"}},65931:function(e){e.exports={errorMessage:"RelayerError_errorMessage__6t5HR"}},51345:function(e){e.exports={rwGraphWrapper:"Book_rwGraphWrapper__4FiM8",rwCell50Wrapper:"Book_rwCell50Wrapper__GiRK7",shouldCenterText:"Book_shouldCenterText__uk1WI",rwCell100Wrapper:"Book_rwCell100Wrapper__OcqRd",positionRelative:"Book_positionRelative__6ZHAY",openOrderIconWrapper:"Book_openOrderIconWrapper__NOFwG",rwGraph:"Book_rwGraph__MTWvw",isGreen:"Book_isGreen__TbIdQ",isRed:"Book_isRed__eZgOY",rw:"Book_rw__QvTcq",rwHoverBid:"Book_rwHoverBid__FXzuD",rwHoverBidInset:"Book_rwHoverBidInset__mN4EX",rwHoverAsk:"Book_rwHoverAsk__DAxTN",rwHoverAskInset:"Book_rwHoverAskInset___rbIm",rwHoverSpread:"Book_rwHoverSpread__nbQSq",rwCell:"Book_rwCell__QiIWX",start:"Book_start__1tF_i",center:"Book_center__m7PjZ",end:"Book_end__Ok2Dq",hasTopAndBottomBorder:"Book_hasTopAndBottomBorder__B9InX",hasGraphPadding:"Book_hasGraphPadding__d2nvO",rwLabelWrapper:"Book_rwLabelWrapper__6_xeG",rwLabel:"Book_rwLabel__QBKYE",rwLabelGreen:"Book_rwLabelGreen__ypB_H",rwLabelRed:"Book_rwLabelRed__30hg4",sauce:"Book_sauce__ruST4",is12:"Book_is12__h_pOp",is14:"Book_is14__MxsC7",is16:"Book_is16__QT9lj",is18:"Book_is18__nPSa8",is400:"Book_is400__N3ROz",is500:"Book_is500__AyOkl",is600:"Book_is600__mgFOo",is700:"Book_is700__jkdUU",isGray3:"Book_isGray3__lzDzh",isResponsiveSize:"Book_isResponsiveSize__7hFGr",spreadWrapper:"Book_spreadWrapper__L7x2v",spreadLabel:"Book_spreadLabel__H3Lfl",isHidden:"Book_isHidden__uBisF",flexRow:"Book_flexRow__LvjgA",skeleton:"Book_skeleton___b0JD",lastPrice:"Book_lastPrice__RDiNN"}},23548:function(e){e.exports={pGrey:"CheckoutModals_pGrey__hchSR",pGreyBg:"CheckoutModals_pGreyBg__HX7eV",successModal:"CheckoutModals_successModal__m6TE2",buyModal:"CheckoutModals_buyModal__Cm4wu",hLine:"CheckoutModals_hLine__Pmksj",vSpacer:"CheckoutModals_vSpacer__hSui0",flexCenter:"CheckoutModals_flexCenter__CxjGx",pBold:"CheckoutModals_pBold__RNLvA",subText:"CheckoutModals_subText__PqkrD",finePrintContainer:"CheckoutModals_finePrintContainer__8Rug9",polyLoader:"CheckoutModals_polyLoader__LyesB",liquiditySpiel:"CheckoutModals_liquiditySpiel__BK_Uo",iconWrapper:"CheckoutModals_iconWrapper__jZVMe"}},2259:function(e){e.exports={pGrey:"CheckoutModals_pGrey__5aIbM",pGreyBg:"CheckoutModals_pGreyBg__ASval",successModal:"CheckoutModals_successModal__TeNRV",buyModal:"CheckoutModals_buyModal__tgJlr",hLine:"CheckoutModals_hLine__U4Zxj",finePrintContainer:"CheckoutModals_finePrintContainer__82Ers",polyLoader:"CheckoutModals_polyLoader__wxuCs"}},31811:function(e){e.exports={pGrey:"CheckoutModals_pGrey__DZNPq",pGreyBg:"CheckoutModals_pGreyBg__YXXt7",successModal:"CheckoutModals_successModal__wuf9t",buyModal:"CheckoutModals_buyModal__dFxbe",hLine:"CheckoutModals_hLine__YUKNZ",outcomeSharesHeader:"CheckoutModals_outcomeSharesHeader__3hqxC",outcomeSharesContainer:"CheckoutModals_outcomeSharesContainer__f8UBE",outcomeSharesText:"CheckoutModals_outcomeSharesText__38V7I",finePrintContainer:"CheckoutModals_finePrintContainer__jL34q",polyLoader:"CheckoutModals_polyLoader__CWi0r"}},21800:function(e){e.exports={pGrey:"CheckoutModals_pGrey__m_avE",pGreyBg:"CheckoutModals_pGreyBg__Jmo_w",successModal:"CheckoutModals_successModal__CtzuI",buyModal:"CheckoutModals_buyModal__MREg1",hLine:"CheckoutModals_hLine__ghQEK",vSpacer:"CheckoutModals_vSpacer__J7E3L",flexCenter:"CheckoutModals_flexCenter__yjTjJ",pBold:"CheckoutModals_pBold__53_tu",subText:"CheckoutModals_subText__K_DVU",finePrintContainer:"CheckoutModals_finePrintContainer__Ubei9",polyLoader:"CheckoutModals_polyLoader__hiEsz",liquiditySpiel:"CheckoutModals_liquiditySpiel__t_nfc",iconWrapper:"CheckoutModals_iconWrapper__xNTqv"}},44718:function(e,t,n){var r=n(67294);function i(e){return r.createElement("svg",e,[r.createElement("path",{d:"M7.76795 3C8.53775 1.66667 10.4623 1.66667 11.2321 3L15.9952 11.25C16.765 12.5833 15.8027 14.25 14.2631 14.25H4.73686C3.19726 14.25 2.23501 12.5833 3.00481 11.25L7.76795 3Z",fill:"#E04545",key:0}),r.createElement("rect",{x:"9",y:"11",width:"1",height:"1",fill:"white",key:1}),r.createElement("rect",{x:"9",y:"5",width:"1",height:"5",fill:"white",key:2})])}i.defaultProps={width:"19",height:"19",viewBox:"0 0 19 19",fill:"none"},e.exports=i,i.default=i},10252:function(e,t,n){var r=n(67294);function i(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.4142 17L26.1924 9.22184L24.7782 7.80762L17 15.5858L9.22184 7.80762L7.80762 9.22184L15.5858 17L7.80762 24.7782L9.22184 26.1924L17 18.4142L24.7782 26.1924L26.1924 24.7782L18.4142 17Z",fill:"rgba(228, 228, 228, 0.738582)"}))}i.defaultProps={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none"},e.exports=i,i.default=i},45918:function(e,t,n){var r=n(67294);function i(e){return r.createElement("svg",e,[r.createElement("style",{type:"text/css",key:0},".st0{fill-rule:evenodd;clip-rule:evenodd;}"),r.createElement("g",{key:1},r.createElement("path",{className:"st0",d:"M62.43,122.88h-1.98c0-16.15-6.04-30.27-18.11-42.34C30.27,68.47,16.16,62.43,0,62.43v-1.98 c16.16,0,30.27-6.04,42.34-18.14C54.41,30.21,60.45,16.1,60.45,0h1.98c0,16.15,6.04,30.27,18.11,42.34 c12.07,12.07,26.18,18.11,42.34,18.11v1.98c-16.15,0-30.27,6.04-42.34,18.11C68.47,92.61,62.43,106.72,62.43,122.88L62.43,122.88z"}))])}i.defaultProps={version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 122.88 122.88",style:{enableBackground:"new 0 0 122.88 122.88"},xmlSpace:"preserve"},e.exports=i,i.default=i},70023:function(e,t,n){e.exports=function(){return new Worker(n.p+"static/36624f593f459fb5.worker.js")}},67131:function(e,t,n){e.exports=function(){return new Worker(n.p+"static/abdcb84866ee22dd.worker.js")}}},function(e){e.O(0,[593,158,321,113,121,790,687,256,799,980,120,774,888,179],function(){return e(e.s=17702)}),_N_E=e.O()}]);